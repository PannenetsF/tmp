app-vzucgzpq-848bb9b8b7-j7vdl 10.119.21.211 24
Executing command: python -m lightllm.server.backend_pord_server --model_dir /data/basemodel/llama3.1/Meta-Llama-3.1-8B/ --max_req_total_len 140000 --max_req_input_len 135000 --max_total_token_num 320000 --parameter_cache /data/fanyunqian/ela-1004/ela-1004param_cache/8b_tp1/ --host 10.119.21.211 --tp 1 --nccl_ip 10.119.22.36 --nccl_port 9999 --local_instance_num 8 --instance_id 24 --instance_num 32 --router_socket 10.119.21.211:13360 --detokenization_socket 10.119.22.36:31480 --dist_mode prefill --socket_server_addr_port 10.119.21.211:19360 --running_max_req_size 10 --batch_max_tokens 140010 --decode_scheduler_url 10.119.22.36:28000
INFO 10-06 08:24:48.464 [backend_pord_server.py:167] pord server args: Namespace(host='10.119.21.211', port=8000, model_dir='/data/basemodel/llama3.1/Meta-Llama-3.1-8B/', tokenizer_mode='slow', load_way='HF', max_total_token_num=320000, batch_max_tokens=140010, eos_id=[2], running_max_req_size=10, tp=1, instance_id=24, local_instance_num=8, instance_num=32, max_req_input_len=135000, max_req_total_len=140000, nccl_ip='10.119.22.36', nccl_port=9999, mode=[], trust_remote_code=False, disable_log_stats=False, log_stats_interval=10, router_token_ratio=0.0, router_max_new_token_len=1024, router_max_wait_tokens=10, use_dynamic_prompt_cache=False, splitfuse_block_size=256, splitfuse_mode=False, beam_mode=False, diverse_mode=False, token_healing_mode=False, enable_multimodal=False, cache_capacity=200, cache_reserved_ratio=0.5, data_type='float16', return_all_prompt_logprobs=False, long_truncation_mode=None, use_tgi_api=False, health_monitor=False, node_gpu_count=8, dist_mode='prefill', decode_scheduler_url='10.119.22.36:28000', decode_scheduler_socket=None, detokenization_socket='10.119.22.36:31480', router_socket='10.119.21.211:13360', socket_server_addr_port='10.119.21.211:19360', parameter_cache='/data/fanyunqian/ela-1004/ela-1004param_cache/8b_tp1/')
INFO 10-06 08:24:52.378 [manager.py:1171] start router process with prefill 10.119.21.211:13360 10.119.22.36:31480 [10024]
create shm 9999_24_mem_manger_can_use_token_num
create shm 9999_24_shared_token_load
INFO 10-06 08:28:14.898 [manager.py:147] router (pull) bind to 10.119.21.211:13360
INFO 10-06 08:28:14.899 [manager.py:151] router (push) connect to 10.119.22.36:31480
INFO 10-06 08:28:14.899 [model_rpc.py:42] use ContinuesBatchBackend
INFO 10-06 08:28:27.143 [dist.py:51] pid=70362 global rank = 24 / 32, reduce group: start=24, end=25, gpu idx = 0
INFO 10-06 08:28:29.678 [basemodel.py:156] load weights from parameter cache
INFO 10-06 08:28:31.658 [mem_utils.py:11] mode setting params: []
INFO 10-06 08:28:31.658 [mem_utils.py:23] Model kv cache using mode normal
INFO 10-06 08:28:31.665 [mem_manager.py:57] mem manger get unique_name : 9999_24
link shm 9999_24_mem_manger_can_use_token_num
INFO 10-06 08:28:32.388 [base_backend.py:261] loaded model class <class 'lightllm.models.llama.model.LlamaTpPartModel'>
INFO 10-06 08:28:32.388 [manager.py:421] use req queue ContinuesBatchQueue
INFO 10-06 08:28:32.389 [dist.py:57] re-set device to 0
INFO 10-06 08:28:32.389 [start_utils.py:29] init func start_router_process : init ok
INFO 10-06 08:28:32.390 [dist.py:57] re-set device to 0
INFO 10-06 08:28:32.391 [manager.py:370] start socket server at 10.119.21.211:19360
INFO 10-06 08:30:44.776 [impl.py:39] after adding new req, max_size: 2291
INFO 10-06 08:30:44.777 [manager.py:668] start prefill req_id = 144 group_req_id = 144 at 08:30:44.777
INFO 10-06 08:30:44.777 [manager.py:619] requst decode for req_ids=[144] which needs 2292 tokens
INFO 10-06 08:30:44.789 [manager.py:64] MEASURE request_for_decode_scheduler cost 0.012282133102416992 s
INFO 10-06 08:30:44.810 [manager.py:64] MEASURE init_batch cost 0.0209047794342041 s
INFO 10-06 08:30:44.810 [manager.py:708] send req_ids = [144] to decode scheduler
/data/fanyunqian/ela-1004/ela-1004distkv/lightllm/lightllm/common/mem_manager.py:353: UserWarning: To copy construct from a tensor, it is recommended to use sourceTensor.clone().detach() or sourceTensor.clone().detach().requires_grad_(True), rather than torch.tensor(sourceTensor).
  self.layer_cnt[p2p_idx][1] = torch.tensor(prefill_tokens, dtype=torch.int32, device='cuda')
INFO 10-06 08:30:48.233 [manager.py:64] MEASURE prefill_batch cost 0.46558237075805664 s
INFO 10-06 08:30:48.233 [manager.py:689] end prefill req_id = 144 group_req_id = 144 at 08:30:48.233
INFO 10-06 08:30:48.241 [manager.py:698] end prefill all things req_id = 144 group_req_id = 144 at 08:30:48.241
INFO 10-06 08:30:48.242 [manager.py:701] all take 3.464
INFO 10-06 08:30:48.289 [impl.py:39] after adding new req, max_size: 3724
INFO 10-06 08:30:48.289 [impl.py:39] after adding new req, max_size: 15448
INFO 10-06 08:30:48.289 [impl.py:39] after adding new req, max_size: 18125
INFO 10-06 08:30:48.289 [impl.py:39] after adding new req, max_size: 19373
INFO 10-06 08:30:48.289 [impl.py:39] after adding new req, max_size: 22371
INFO 10-06 08:30:48.289 [impl.py:39] after adding new req, max_size: 78815
INFO 10-06 08:30:48.289 [manager.py:668] start prefill req_id = 336 group_req_id = 336 at 08:30:48.289
INFO 10-06 08:30:48.290 [manager.py:668] start prefill req_id = 528 group_req_id = 528 at 08:30:48.289
INFO 10-06 08:30:48.290 [manager.py:668] start prefill req_id = 720 group_req_id = 720 at 08:30:48.289
INFO 10-06 08:30:48.290 [manager.py:668] start prefill req_id = 912 group_req_id = 912 at 08:30:48.289
INFO 10-06 08:30:48.290 [manager.py:668] start prefill req_id = 1104 group_req_id = 1104 at 08:30:48.289
INFO 10-06 08:30:48.290 [manager.py:668] start prefill req_id = 1296 group_req_id = 1296 at 08:30:48.289
INFO 10-06 08:30:48.290 [manager.py:619] requst decode for req_ids=[336, 528, 720, 912, 1104, 1296] which needs 79329 tokens
INFO 10-06 08:30:59.712 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:31:10.230 [manager.py:64] MEASURE request_for_decode_scheduler cost 21.94046449661255 s
INFO 10-06 08:31:10.237 [manager.py:64] MEASURE init_batch cost 0.006311655044555664 s
INFO 10-06 08:31:10.242 [manager.py:708] send req_ids = [336, 528, 720, 912, 1104, 1296] to decode scheduler
INFO 10-06 08:31:24.276 [manager.py:64] MEASURE prefill_batch cost 13.705101728439331 s
INFO 10-06 08:31:24.276 [manager.py:689] end prefill req_id = 336 group_req_id = 336 at 08:31:24.276
INFO 10-06 08:31:24.276 [manager.py:689] end prefill req_id = 528 group_req_id = 528 at 08:31:24.276
INFO 10-06 08:31:24.276 [manager.py:689] end prefill req_id = 720 group_req_id = 720 at 08:31:24.276
INFO 10-06 08:31:24.276 [manager.py:689] end prefill req_id = 912 group_req_id = 912 at 08:31:24.276
INFO 10-06 08:31:24.276 [manager.py:689] end prefill req_id = 1104 group_req_id = 1104 at 08:31:24.276
INFO 10-06 08:31:24.276 [manager.py:689] end prefill req_id = 1296 group_req_id = 1296 at 08:31:24.276
INFO 10-06 08:31:24.316 [manager.py:698] end prefill all things req_id = 336 group_req_id = 336 at 08:31:24.316
INFO 10-06 08:31:24.316 [manager.py:698] end prefill all things req_id = 528 group_req_id = 528 at 08:31:24.316
INFO 10-06 08:31:24.316 [manager.py:698] end prefill all things req_id = 720 group_req_id = 720 at 08:31:24.316
INFO 10-06 08:31:24.316 [manager.py:698] end prefill all things req_id = 912 group_req_id = 912 at 08:31:24.316
INFO 10-06 08:31:24.316 [manager.py:698] end prefill all things req_id = 1104 group_req_id = 1104 at 08:31:24.316
INFO 10-06 08:31:24.316 [manager.py:698] end prefill all things req_id = 1296 group_req_id = 1296 at 08:31:24.316
INFO 10-06 08:31:24.317 [manager.py:701] all take 36.027
INFO 10-06 08:31:24.334 [impl.py:39] after adding new req, max_size: 58662
INFO 10-06 08:31:24.334 [impl.py:39] after adding new req, max_size: 60505
INFO 10-06 08:31:24.334 [impl.py:39] after adding new req, max_size: 60961
INFO 10-06 08:31:24.334 [impl.py:39] after adding new req, max_size: 66829
INFO 10-06 08:31:24.334 [impl.py:39] after adding new req, max_size: 67488
INFO 10-06 08:31:24.334 [impl.py:39] after adding new req, max_size: 68839
INFO 10-06 08:31:24.334 [impl.py:39] after adding new req, max_size: 69941
INFO 10-06 08:31:24.335 [impl.py:39] after adding new req, max_size: 71228
INFO 10-06 08:31:24.335 [impl.py:39] after adding new req, max_size: 72187
INFO 10-06 08:31:24.335 [impl.py:39] after adding new req, max_size: 80763
INFO 10-06 08:31:24.335 [impl.py:39] after adding new req, max_size: 98865
INFO 10-06 08:31:24.335 [manager.py:668] start prefill req_id = 1488 group_req_id = 1488 at 08:31:24.335
INFO 10-06 08:31:24.335 [manager.py:668] start prefill req_id = 1680 group_req_id = 1680 at 08:31:24.335
INFO 10-06 08:31:24.335 [manager.py:668] start prefill req_id = 1872 group_req_id = 1872 at 08:31:24.335
INFO 10-06 08:31:24.335 [manager.py:668] start prefill req_id = 2064 group_req_id = 2064 at 08:31:24.335
INFO 10-06 08:31:24.335 [manager.py:668] start prefill req_id = 2256 group_req_id = 2256 at 08:31:24.335
INFO 10-06 08:31:24.335 [manager.py:668] start prefill req_id = 2448 group_req_id = 2448 at 08:31:24.335
INFO 10-06 08:31:24.335 [manager.py:668] start prefill req_id = 2640 group_req_id = 2640 at 08:31:24.335
INFO 10-06 08:31:24.335 [manager.py:668] start prefill req_id = 2832 group_req_id = 2832 at 08:31:24.335
INFO 10-06 08:31:24.335 [manager.py:668] start prefill req_id = 3024 group_req_id = 3024 at 08:31:24.335
INFO 10-06 08:31:24.335 [manager.py:668] start prefill req_id = 3216 group_req_id = 3216 at 08:31:24.335
INFO 10-06 08:31:24.335 [manager.py:619] requst decode for req_ids=[1488, 1680, 1872, 2064, 2256, 2448, 2640, 2832, 3024, 3216] which needs 82235 tokens
INFO 10-06 08:31:34.359 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:31:44.213 [manager.py:64] MEASURE request_for_decode_scheduler cost 19.878333568572998 s
INFO 10-06 08:31:44.219 [manager.py:64] MEASURE init_batch cost 0.005768299102783203 s
INFO 10-06 08:31:44.224 [manager.py:708] send req_ids = [1488, 1680, 1872, 2064, 2256, 2448, 2640, 2832, 3024, 3216] to decode scheduler
INFO 10-06 08:32:44.103 [manager.py:64] MEASURE prefill_batch cost 14.00780200958252 s
INFO 10-06 08:32:44.103 [manager.py:689] end prefill req_id = 1488 group_req_id = 1488 at 08:32:44.103
INFO 10-06 08:32:44.103 [manager.py:689] end prefill req_id = 1680 group_req_id = 1680 at 08:32:44.103
INFO 10-06 08:32:44.103 [manager.py:689] end prefill req_id = 1872 group_req_id = 1872 at 08:32:44.103
INFO 10-06 08:32:44.103 [manager.py:689] end prefill req_id = 2064 group_req_id = 2064 at 08:32:44.103
INFO 10-06 08:32:44.103 [manager.py:689] end prefill req_id = 2256 group_req_id = 2256 at 08:32:44.103
INFO 10-06 08:32:44.103 [manager.py:689] end prefill req_id = 2448 group_req_id = 2448 at 08:32:44.103
INFO 10-06 08:32:44.103 [manager.py:689] end prefill req_id = 2640 group_req_id = 2640 at 08:32:44.103
INFO 10-06 08:32:44.103 [manager.py:689] end prefill req_id = 2832 group_req_id = 2832 at 08:32:44.103
INFO 10-06 08:32:44.103 [manager.py:689] end prefill req_id = 3024 group_req_id = 3024 at 08:32:44.103
INFO 10-06 08:32:44.103 [manager.py:689] end prefill req_id = 3216 group_req_id = 3216 at 08:32:44.103
INFO 10-06 08:32:44.109 [manager.py:698] end prefill all things req_id = 1488 group_req_id = 1488 at 08:32:44.109
INFO 10-06 08:32:44.109 [manager.py:698] end prefill all things req_id = 1680 group_req_id = 1680 at 08:32:44.109
INFO 10-06 08:32:44.109 [manager.py:698] end prefill all things req_id = 1872 group_req_id = 1872 at 08:32:44.109
INFO 10-06 08:32:44.109 [manager.py:698] end prefill all things req_id = 2064 group_req_id = 2064 at 08:32:44.109
INFO 10-06 08:32:44.109 [manager.py:698] end prefill all things req_id = 2256 group_req_id = 2256 at 08:32:44.109
INFO 10-06 08:32:44.109 [manager.py:698] end prefill all things req_id = 2448 group_req_id = 2448 at 08:32:44.109
INFO 10-06 08:32:44.109 [manager.py:698] end prefill all things req_id = 2640 group_req_id = 2640 at 08:32:44.109
INFO 10-06 08:32:44.109 [manager.py:698] end prefill all things req_id = 2832 group_req_id = 2832 at 08:32:44.109
INFO 10-06 08:32:44.109 [manager.py:698] end prefill all things req_id = 3024 group_req_id = 3024 at 08:32:44.109
INFO 10-06 08:32:44.109 [manager.py:698] end prefill all things req_id = 3216 group_req_id = 3216 at 08:32:44.109
INFO 10-06 08:32:44.109 [manager.py:701] all take 79.774
INFO 10-06 08:32:44.120 [impl.py:39] after adding new req, max_size: 18309
INFO 10-06 08:32:44.120 [impl.py:39] after adding new req, max_size: 19411
INFO 10-06 08:32:44.120 [impl.py:39] after adding new req, max_size: 20581
INFO 10-06 08:32:44.120 [impl.py:39] after adding new req, max_size: 23823
INFO 10-06 08:32:44.120 [impl.py:39] after adding new req, max_size: 65392
INFO 10-06 08:32:44.120 [impl.py:39] after adding new req, max_size: 66337
INFO 10-06 08:32:44.120 [impl.py:39] after adding new req, max_size: 73810
INFO 10-06 08:32:44.120 [impl.py:39] after adding new req, max_size: 74801
INFO 10-06 08:32:44.121 [impl.py:39] after adding new req, max_size: 81151
INFO 10-06 08:32:44.121 [impl.py:39] after adding new req, max_size: 81985
INFO 10-06 08:32:44.121 [impl.py:39] after adding new req, max_size: 139059
INFO 10-06 08:32:44.121 [manager.py:668] start prefill req_id = 3408 group_req_id = 3408 at 08:32:44.121
INFO 10-06 08:32:44.121 [manager.py:668] start prefill req_id = 3600 group_req_id = 3600 at 08:32:44.121
INFO 10-06 08:32:44.121 [manager.py:668] start prefill req_id = 3792 group_req_id = 3792 at 08:32:44.121
INFO 10-06 08:32:44.121 [manager.py:668] start prefill req_id = 3984 group_req_id = 3984 at 08:32:44.121
INFO 10-06 08:32:44.121 [manager.py:668] start prefill req_id = 4176 group_req_id = 4176 at 08:32:44.121
INFO 10-06 08:32:44.121 [manager.py:668] start prefill req_id = 4368 group_req_id = 4368 at 08:32:44.121
INFO 10-06 08:32:44.121 [manager.py:668] start prefill req_id = 4560 group_req_id = 4560 at 08:32:44.121
INFO 10-06 08:32:44.121 [manager.py:668] start prefill req_id = 4752 group_req_id = 4752 at 08:32:44.121
INFO 10-06 08:32:44.121 [manager.py:668] start prefill req_id = 4944 group_req_id = 4944 at 08:32:44.121
INFO 10-06 08:32:44.121 [manager.py:668] start prefill req_id = 5136 group_req_id = 5136 at 08:32:44.121
INFO 10-06 08:32:44.121 [manager.py:619] requst decode for req_ids=[3408, 3600, 3792, 3984, 4176, 4368, 4560, 4752, 4944, 5136] which needs 82880 tokens
INFO 10-06 08:32:55.931 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:33:07.124 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:33:22.763 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:33:37.813 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:33:46.639 [manager.py:64] MEASURE request_for_decode_scheduler cost 62.517810344696045 s
INFO 10-06 08:33:46.645 [manager.py:64] MEASURE init_batch cost 0.005959510803222656 s
INFO 10-06 08:33:46.650 [manager.py:708] send req_ids = [3408, 3600, 3792, 3984, 4176, 4368, 4560, 4752, 4944, 5136] to decode scheduler
INFO 10-06 08:33:57.192 [manager.py:64] MEASURE prefill_batch cost 10.540842056274414 s
INFO 10-06 08:33:57.192 [manager.py:689] end prefill req_id = 3408 group_req_id = 3408 at 08:33:57.192
INFO 10-06 08:33:57.192 [manager.py:689] end prefill req_id = 3600 group_req_id = 3600 at 08:33:57.192
INFO 10-06 08:33:57.192 [manager.py:689] end prefill req_id = 3792 group_req_id = 3792 at 08:33:57.192
INFO 10-06 08:33:57.192 [manager.py:689] end prefill req_id = 3984 group_req_id = 3984 at 08:33:57.192
INFO 10-06 08:33:57.192 [manager.py:689] end prefill req_id = 4176 group_req_id = 4176 at 08:33:57.192
INFO 10-06 08:33:57.192 [manager.py:689] end prefill req_id = 4368 group_req_id = 4368 at 08:33:57.192
INFO 10-06 08:33:57.193 [manager.py:689] end prefill req_id = 4560 group_req_id = 4560 at 08:33:57.192
INFO 10-06 08:33:57.193 [manager.py:689] end prefill req_id = 4752 group_req_id = 4752 at 08:33:57.192
INFO 10-06 08:33:57.193 [manager.py:689] end prefill req_id = 4944 group_req_id = 4944 at 08:33:57.192
INFO 10-06 08:33:57.193 [manager.py:689] end prefill req_id = 5136 group_req_id = 5136 at 08:33:57.192
INFO 10-06 08:33:57.730 [manager.py:698] end prefill all things req_id = 3408 group_req_id = 3408 at 08:33:57.730
INFO 10-06 08:33:57.730 [manager.py:698] end prefill all things req_id = 3600 group_req_id = 3600 at 08:33:57.730
INFO 10-06 08:33:57.730 [manager.py:698] end prefill all things req_id = 3792 group_req_id = 3792 at 08:33:57.730
INFO 10-06 08:33:57.730 [manager.py:698] end prefill all things req_id = 3984 group_req_id = 3984 at 08:33:57.730
INFO 10-06 08:33:57.730 [manager.py:698] end prefill all things req_id = 4176 group_req_id = 4176 at 08:33:57.730
INFO 10-06 08:33:57.730 [manager.py:698] end prefill all things req_id = 4368 group_req_id = 4368 at 08:33:57.730
INFO 10-06 08:33:57.730 [manager.py:698] end prefill all things req_id = 4560 group_req_id = 4560 at 08:33:57.730
INFO 10-06 08:33:57.730 [manager.py:698] end prefill all things req_id = 4752 group_req_id = 4752 at 08:33:57.730
INFO 10-06 08:33:57.730 [manager.py:698] end prefill all things req_id = 4944 group_req_id = 4944 at 08:33:57.730
INFO 10-06 08:33:57.730 [manager.py:698] end prefill all things req_id = 5136 group_req_id = 5136 at 08:33:57.730
INFO 10-06 08:33:57.730 [manager.py:701] all take 73.609
INFO 10-06 08:33:57.742 [impl.py:39] after adding new req, max_size: 57084
INFO 10-06 08:33:57.742 [impl.py:39] after adding new req, max_size: 58819
INFO 10-06 08:33:57.742 [impl.py:39] after adding new req, max_size: 59316
INFO 10-06 08:33:57.742 [impl.py:39] after adding new req, max_size: 60192
INFO 10-06 08:33:57.742 [impl.py:39] after adding new req, max_size: 83742
INFO 10-06 08:33:57.742 [impl.py:39] after adding new req, max_size: 85132
INFO 10-06 08:33:57.742 [impl.py:39] after adding new req, max_size: 85814
INFO 10-06 08:33:57.742 [impl.py:39] after adding new req, max_size: 86491
INFO 10-06 08:33:57.742 [impl.py:39] after adding new req, max_size: 87700
INFO 10-06 08:33:57.742 [impl.py:39] after adding new req, max_size: 92070
INFO 10-06 08:33:57.742 [impl.py:39] after adding new req, max_size: 93722
INFO 10-06 08:33:57.742 [manager.py:668] start prefill req_id = 5328 group_req_id = 5328 at 08:33:57.742
INFO 10-06 08:33:57.742 [manager.py:668] start prefill req_id = 5520 group_req_id = 5520 at 08:33:57.742
INFO 10-06 08:33:57.742 [manager.py:668] start prefill req_id = 5712 group_req_id = 5712 at 08:33:57.742
INFO 10-06 08:33:57.743 [manager.py:668] start prefill req_id = 5904 group_req_id = 5904 at 08:33:57.742
INFO 10-06 08:33:57.743 [manager.py:668] start prefill req_id = 6096 group_req_id = 6096 at 08:33:57.742
INFO 10-06 08:33:57.743 [manager.py:668] start prefill req_id = 6288 group_req_id = 6288 at 08:33:57.742
INFO 10-06 08:33:57.743 [manager.py:668] start prefill req_id = 6480 group_req_id = 6480 at 08:33:57.742
INFO 10-06 08:33:57.743 [manager.py:668] start prefill req_id = 6672 group_req_id = 6672 at 08:33:57.742
INFO 10-06 08:33:57.743 [manager.py:668] start prefill req_id = 6864 group_req_id = 6864 at 08:33:57.742
INFO 10-06 08:33:57.743 [manager.py:668] start prefill req_id = 7056 group_req_id = 7056 at 08:33:57.742
INFO 10-06 08:33:57.743 [manager.py:619] requst decode for req_ids=[5328, 5520, 5712, 5904, 6096, 6288, 6480, 6672, 6864, 7056] which needs 92722 tokens
INFO 10-06 08:34:06.541 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:34:17.529 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:34:38.758 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:35:01.242 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:35:07.632 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:35:20.906 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:35:37.011 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:35:53.109 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:36:13.170 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:36:26.954 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:36:48.596 [manager.py:64] MEASURE request_for_decode_scheduler cost 170.85282278060913 s
INFO 10-06 08:36:48.602 [manager.py:64] MEASURE init_batch cost 0.006845712661743164 s
INFO 10-06 08:36:48.608 [manager.py:708] send req_ids = [5328, 5520, 5712, 5904, 6096, 6288, 6480, 6672, 6864, 7056] to decode scheduler
INFO 10-06 08:37:03.973 [manager.py:64] MEASURE prefill_batch cost 15.363595962524414 s
INFO 10-06 08:37:03.973 [manager.py:689] end prefill req_id = 5328 group_req_id = 5328 at 08:37:03.973
INFO 10-06 08:37:03.973 [manager.py:689] end prefill req_id = 5520 group_req_id = 5520 at 08:37:03.973
INFO 10-06 08:37:03.973 [manager.py:689] end prefill req_id = 5712 group_req_id = 5712 at 08:37:03.973
INFO 10-06 08:37:03.974 [manager.py:689] end prefill req_id = 5904 group_req_id = 5904 at 08:37:03.973
INFO 10-06 08:37:03.974 [manager.py:689] end prefill req_id = 6096 group_req_id = 6096 at 08:37:03.973
INFO 10-06 08:37:03.974 [manager.py:689] end prefill req_id = 6288 group_req_id = 6288 at 08:37:03.973
INFO 10-06 08:37:03.974 [manager.py:689] end prefill req_id = 6480 group_req_id = 6480 at 08:37:03.973
INFO 10-06 08:37:03.974 [manager.py:689] end prefill req_id = 6672 group_req_id = 6672 at 08:37:03.973
INFO 10-06 08:37:03.974 [manager.py:689] end prefill req_id = 6864 group_req_id = 6864 at 08:37:03.973
INFO 10-06 08:37:03.974 [manager.py:689] end prefill req_id = 7056 group_req_id = 7056 at 08:37:03.973
INFO 10-06 08:37:07.624 [manager.py:698] end prefill all things req_id = 5328 group_req_id = 5328 at 08:37:07.624
INFO 10-06 08:37:07.624 [manager.py:698] end prefill all things req_id = 5520 group_req_id = 5520 at 08:37:07.624
INFO 10-06 08:37:07.624 [manager.py:698] end prefill all things req_id = 5712 group_req_id = 5712 at 08:37:07.624
INFO 10-06 08:37:07.624 [manager.py:698] end prefill all things req_id = 5904 group_req_id = 5904 at 08:37:07.624
INFO 10-06 08:37:07.624 [manager.py:698] end prefill all things req_id = 6096 group_req_id = 6096 at 08:37:07.624
INFO 10-06 08:37:07.624 [manager.py:698] end prefill all things req_id = 6288 group_req_id = 6288 at 08:37:07.624
INFO 10-06 08:37:07.624 [manager.py:698] end prefill all things req_id = 6480 group_req_id = 6480 at 08:37:07.624
INFO 10-06 08:37:07.624 [manager.py:698] end prefill all things req_id = 6672 group_req_id = 6672 at 08:37:07.624
INFO 10-06 08:37:07.624 [manager.py:698] end prefill all things req_id = 6864 group_req_id = 6864 at 08:37:07.624
INFO 10-06 08:37:07.624 [manager.py:698] end prefill all things req_id = 7056 group_req_id = 7056 at 08:37:07.624
INFO 10-06 08:37:07.624 [manager.py:701] all take 189.882
INFO 10-06 08:37:07.635 [impl.py:39] after adding new req, max_size: 1671
INFO 10-06 08:37:07.635 [impl.py:39] after adding new req, max_size: 59919
INFO 10-06 08:37:07.636 [impl.py:39] after adding new req, max_size: 62094
INFO 10-06 08:37:07.636 [impl.py:39] after adding new req, max_size: 62763
INFO 10-06 08:37:07.636 [impl.py:39] after adding new req, max_size: 64289
INFO 10-06 08:37:07.636 [impl.py:39] after adding new req, max_size: 66059
INFO 10-06 08:37:07.636 [impl.py:39] after adding new req, max_size: 66623
INFO 10-06 08:37:07.636 [impl.py:39] after adding new req, max_size: 67579
INFO 10-06 08:37:07.636 [impl.py:39] after adding new req, max_size: 123734
INFO 10-06 08:37:07.636 [impl.py:39] after adding new req, max_size: 128539
INFO 10-06 08:37:07.636 [impl.py:39] after adding new req, max_size: 129218
INFO 10-06 08:37:07.636 [manager.py:668] start prefill req_id = 7248 group_req_id = 7248 at 08:37:07.636
INFO 10-06 08:37:07.636 [manager.py:668] start prefill req_id = 7440 group_req_id = 7440 at 08:37:07.636
INFO 10-06 08:37:07.636 [manager.py:668] start prefill req_id = 7632 group_req_id = 7632 at 08:37:07.636
INFO 10-06 08:37:07.636 [manager.py:668] start prefill req_id = 7824 group_req_id = 7824 at 08:37:07.636
INFO 10-06 08:37:07.636 [manager.py:668] start prefill req_id = 8016 group_req_id = 8016 at 08:37:07.636
INFO 10-06 08:37:07.636 [manager.py:668] start prefill req_id = 8208 group_req_id = 8208 at 08:37:07.636
INFO 10-06 08:37:07.636 [manager.py:668] start prefill req_id = 8400 group_req_id = 8400 at 08:37:07.636
INFO 10-06 08:37:07.636 [manager.py:668] start prefill req_id = 8592 group_req_id = 8592 at 08:37:07.636
INFO 10-06 08:37:07.636 [manager.py:668] start prefill req_id = 8784 group_req_id = 8784 at 08:37:07.636
INFO 10-06 08:37:07.636 [manager.py:668] start prefill req_id = 8976 group_req_id = 8976 at 08:37:07.636
INFO 10-06 08:37:07.636 [manager.py:619] requst decode for req_ids=[7248, 7440, 7632, 7824, 8016, 8208, 8400, 8592, 8784, 8976] which needs 129427 tokens
INFO 10-06 08:37:30.773 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:37:50.846 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:38:10.236 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:38:33.288 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:39:00.371 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:39:14.553 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:39:31.638 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:39:46.833 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:40:06.756 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:40:21.320 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:40:41.161 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:40:47.484 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:41:03.574 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:41:23.619 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:41:43.723 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:42:04.928 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:42:24.930 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:42:37.660 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:42:57.858 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:42:58.976 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:43:22.917 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:43:42.038 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:44:03.119 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:44:35.255 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:44:40.460 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:44:52.610 [manager.py:64] MEASURE request_for_decode_scheduler cost 464.974072933197 s
INFO 10-06 08:44:52.619 [manager.py:64] MEASURE init_batch cost 0.00864720344543457 s
INFO 10-06 08:44:52.627 [manager.py:708] send req_ids = [7248, 7440, 7632, 7824, 8016, 8208, 8400, 8592, 8784, 8976] to decode scheduler
INFO 10-06 08:45:17.942 [manager.py:64] MEASURE prefill_batch cost 24.977163553237915 s
INFO 10-06 08:45:17.942 [manager.py:689] end prefill req_id = 7248 group_req_id = 7248 at 08:45:17.942
INFO 10-06 08:45:17.942 [manager.py:689] end prefill req_id = 7440 group_req_id = 7440 at 08:45:17.942
INFO 10-06 08:45:17.942 [manager.py:689] end prefill req_id = 7632 group_req_id = 7632 at 08:45:17.942
INFO 10-06 08:45:17.942 [manager.py:689] end prefill req_id = 7824 group_req_id = 7824 at 08:45:17.942
INFO 10-06 08:45:17.942 [manager.py:689] end prefill req_id = 8016 group_req_id = 8016 at 08:45:17.942
INFO 10-06 08:45:17.942 [manager.py:689] end prefill req_id = 8208 group_req_id = 8208 at 08:45:17.942
INFO 10-06 08:45:17.942 [manager.py:689] end prefill req_id = 8400 group_req_id = 8400 at 08:45:17.942
INFO 10-06 08:45:17.942 [manager.py:689] end prefill req_id = 8592 group_req_id = 8592 at 08:45:17.942
INFO 10-06 08:45:17.942 [manager.py:689] end prefill req_id = 8784 group_req_id = 8784 at 08:45:17.942
INFO 10-06 08:45:17.942 [manager.py:689] end prefill req_id = 8976 group_req_id = 8976 at 08:45:17.942
INFO 10-06 08:45:18.293 [manager.py:698] end prefill all things req_id = 7248 group_req_id = 7248 at 08:45:18.293
INFO 10-06 08:45:18.293 [manager.py:698] end prefill all things req_id = 7440 group_req_id = 7440 at 08:45:18.293
INFO 10-06 08:45:18.293 [manager.py:698] end prefill all things req_id = 7632 group_req_id = 7632 at 08:45:18.293
INFO 10-06 08:45:18.293 [manager.py:698] end prefill all things req_id = 7824 group_req_id = 7824 at 08:45:18.293
INFO 10-06 08:45:18.293 [manager.py:698] end prefill all things req_id = 8016 group_req_id = 8016 at 08:45:18.293
INFO 10-06 08:45:18.293 [manager.py:698] end prefill all things req_id = 8208 group_req_id = 8208 at 08:45:18.293
INFO 10-06 08:45:18.293 [manager.py:698] end prefill all things req_id = 8400 group_req_id = 8400 at 08:45:18.293
INFO 10-06 08:45:18.293 [manager.py:698] end prefill all things req_id = 8592 group_req_id = 8592 at 08:45:18.293
INFO 10-06 08:45:18.293 [manager.py:698] end prefill all things req_id = 8784 group_req_id = 8784 at 08:45:18.293
INFO 10-06 08:45:18.293 [manager.py:698] end prefill all things req_id = 8976 group_req_id = 8976 at 08:45:18.293
INFO 10-06 08:45:18.294 [manager.py:701] all take 490.657
INFO 10-06 08:45:18.306 [impl.py:39] after adding new req, max_size: 874
INFO 10-06 08:45:18.306 [impl.py:39] after adding new req, max_size: 4968
INFO 10-06 08:45:18.306 [impl.py:39] after adding new req, max_size: 6803
INFO 10-06 08:45:18.306 [impl.py:39] after adding new req, max_size: 12743
INFO 10-06 08:45:18.306 [impl.py:39] after adding new req, max_size: 14816
INFO 10-06 08:45:18.306 [impl.py:39] after adding new req, max_size: 15846
INFO 10-06 08:45:18.306 [impl.py:39] after adding new req, max_size: 20560
INFO 10-06 08:45:18.306 [impl.py:39] after adding new req, max_size: 21464
INFO 10-06 08:45:18.307 [impl.py:39] after adding new req, max_size: 77931
INFO 10-06 08:45:18.307 [impl.py:39] after adding new req, max_size: 84412
INFO 10-06 08:45:18.307 [impl.py:39] after adding new req, max_size: 88913
INFO 10-06 08:45:18.307 [manager.py:668] start prefill req_id = 9168 group_req_id = 9168 at 08:45:18.307
INFO 10-06 08:45:18.307 [manager.py:668] start prefill req_id = 9360 group_req_id = 9360 at 08:45:18.307
INFO 10-06 08:45:18.307 [manager.py:668] start prefill req_id = 9552 group_req_id = 9552 at 08:45:18.307
INFO 10-06 08:45:18.307 [manager.py:668] start prefill req_id = 9744 group_req_id = 9744 at 08:45:18.307
INFO 10-06 08:45:18.307 [manager.py:668] start prefill req_id = 9936 group_req_id = 9936 at 08:45:18.307
INFO 10-06 08:45:18.307 [manager.py:668] start prefill req_id = 10128 group_req_id = 10128 at 08:45:18.307
INFO 10-06 08:45:18.307 [manager.py:668] start prefill req_id = 10320 group_req_id = 10320 at 08:45:18.307
INFO 10-06 08:45:18.307 [manager.py:668] start prefill req_id = 10512 group_req_id = 10512 at 08:45:18.307
INFO 10-06 08:45:18.307 [manager.py:668] start prefill req_id = 10704 group_req_id = 10704 at 08:45:18.307
INFO 10-06 08:45:18.307 [manager.py:668] start prefill req_id = 10896 group_req_id = 10896 at 08:45:18.307
INFO 10-06 08:45:18.307 [manager.py:619] requst decode for req_ids=[9168, 9360, 9552, 9744, 9936, 10128, 10320, 10512, 10704, 10896] which needs 85844 tokens
INFO 10-06 08:45:31.833 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:45:51.074 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:45:57.401 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:46:10.540 [manager.py:64] MEASURE request_for_decode_scheduler cost 52.233015298843384 s
INFO 10-06 08:46:10.546 [manager.py:64] MEASURE init_batch cost 0.006290435791015625 s
INFO 10-06 08:46:10.552 [manager.py:708] send req_ids = [9168, 9360, 9552, 9744, 9936, 10128, 10320, 10512, 10704, 10896] to decode scheduler
INFO 10-06 08:46:24.219 [manager.py:64] MEASURE prefill_batch cost 13.665347337722778 s
INFO 10-06 08:46:24.219 [manager.py:689] end prefill req_id = 9168 group_req_id = 9168 at 08:46:24.219
INFO 10-06 08:46:24.219 [manager.py:689] end prefill req_id = 9360 group_req_id = 9360 at 08:46:24.219
INFO 10-06 08:46:24.219 [manager.py:689] end prefill req_id = 9552 group_req_id = 9552 at 08:46:24.219
INFO 10-06 08:46:24.219 [manager.py:689] end prefill req_id = 9744 group_req_id = 9744 at 08:46:24.219
INFO 10-06 08:46:24.219 [manager.py:689] end prefill req_id = 9936 group_req_id = 9936 at 08:46:24.219
INFO 10-06 08:46:24.219 [manager.py:689] end prefill req_id = 10128 group_req_id = 10128 at 08:46:24.219
INFO 10-06 08:46:24.219 [manager.py:689] end prefill req_id = 10320 group_req_id = 10320 at 08:46:24.219
INFO 10-06 08:46:24.219 [manager.py:689] end prefill req_id = 10512 group_req_id = 10512 at 08:46:24.219
INFO 10-06 08:46:24.219 [manager.py:689] end prefill req_id = 10704 group_req_id = 10704 at 08:46:24.219
INFO 10-06 08:46:24.219 [manager.py:689] end prefill req_id = 10896 group_req_id = 10896 at 08:46:24.219
INFO 10-06 08:46:28.350 [manager.py:698] end prefill all things req_id = 9168 group_req_id = 9168 at 08:46:28.350
INFO 10-06 08:46:28.351 [manager.py:698] end prefill all things req_id = 9360 group_req_id = 9360 at 08:46:28.350
INFO 10-06 08:46:28.351 [manager.py:698] end prefill all things req_id = 9552 group_req_id = 9552 at 08:46:28.350
INFO 10-06 08:46:28.351 [manager.py:698] end prefill all things req_id = 9744 group_req_id = 9744 at 08:46:28.350
INFO 10-06 08:46:28.351 [manager.py:698] end prefill all things req_id = 9936 group_req_id = 9936 at 08:46:28.350
INFO 10-06 08:46:28.351 [manager.py:698] end prefill all things req_id = 10128 group_req_id = 10128 at 08:46:28.350
INFO 10-06 08:46:28.351 [manager.py:698] end prefill all things req_id = 10320 group_req_id = 10320 at 08:46:28.350
INFO 10-06 08:46:28.351 [manager.py:698] end prefill all things req_id = 10512 group_req_id = 10512 at 08:46:28.350
INFO 10-06 08:46:28.351 [manager.py:698] end prefill all things req_id = 10704 group_req_id = 10704 at 08:46:28.350
INFO 10-06 08:46:28.351 [manager.py:698] end prefill all things req_id = 10896 group_req_id = 10896 at 08:46:28.350
INFO 10-06 08:46:28.351 [manager.py:701] all take 70.043
INFO 10-06 08:46:28.363 [impl.py:39] after adding new req, max_size: 4632
INFO 10-06 08:46:28.363 [impl.py:39] after adding new req, max_size: 13143
INFO 10-06 08:46:28.363 [impl.py:39] after adding new req, max_size: 16452
INFO 10-06 08:46:28.363 [impl.py:39] after adding new req, max_size: 24234
INFO 10-06 08:46:28.363 [impl.py:39] after adding new req, max_size: 154115
INFO 10-06 08:46:28.363 [manager.py:668] start prefill req_id = 11088 group_req_id = 11088 at 08:46:28.363
INFO 10-06 08:46:28.363 [manager.py:668] start prefill req_id = 11280 group_req_id = 11280 at 08:46:28.363
INFO 10-06 08:46:28.363 [manager.py:668] start prefill req_id = 11472 group_req_id = 11472 at 08:46:28.363
INFO 10-06 08:46:28.363 [manager.py:668] start prefill req_id = 11664 group_req_id = 11664 at 08:46:28.363
INFO 10-06 08:46:28.363 [manager.py:619] requst decode for req_ids=[11088, 11280, 11472, 11664] which needs 24412 tokens
INFO 10-06 08:46:28.670 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:46:36.556 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:46:53.586 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:47:03.664 [manager.py:64] MEASURE request_for_decode_scheduler cost 35.30106496810913 s
INFO 10-06 08:47:03.667 [manager.py:64] MEASURE init_batch cost 0.0022954940795898438 s
INFO 10-06 08:47:03.668 [manager.py:708] send req_ids = [11088, 11280, 11472, 11664] to decode scheduler
INFO 10-06 08:47:05.525 [manager.py:64] MEASURE prefill_batch cost 1.8553905487060547 s
INFO 10-06 08:47:05.525 [manager.py:689] end prefill req_id = 11088 group_req_id = 11088 at 08:47:05.525
INFO 10-06 08:47:05.525 [manager.py:689] end prefill req_id = 11280 group_req_id = 11280 at 08:47:05.525
INFO 10-06 08:47:05.525 [manager.py:689] end prefill req_id = 11472 group_req_id = 11472 at 08:47:05.525
INFO 10-06 08:47:05.525 [manager.py:689] end prefill req_id = 11664 group_req_id = 11664 at 08:47:05.525
INFO 10-06 08:47:57.365 [manager.py:698] end prefill all things req_id = 11088 group_req_id = 11088 at 08:47:57.365
INFO 10-06 08:47:57.366 [manager.py:698] end prefill all things req_id = 11280 group_req_id = 11280 at 08:47:57.365
INFO 10-06 08:47:57.366 [manager.py:698] end prefill all things req_id = 11472 group_req_id = 11472 at 08:47:57.365
INFO 10-06 08:47:57.366 [manager.py:698] end prefill all things req_id = 11664 group_req_id = 11664 at 08:47:57.365
INFO 10-06 08:47:57.366 [manager.py:701] all take 89.002
INFO 10-06 08:47:57.377 [impl.py:39] after adding new req, max_size: 130063
INFO 10-06 08:47:57.377 [impl.py:39] after adding new req, max_size: 130928
INFO 10-06 08:47:57.377 [impl.py:39] after adding new req, max_size: 135697
INFO 10-06 08:47:57.377 [impl.py:39] after adding new req, max_size: 194207
INFO 10-06 08:47:57.377 [manager.py:668] start prefill req_id = 11856 group_req_id = 11856 at 08:47:57.377
INFO 10-06 08:47:57.377 [manager.py:668] start prefill req_id = 12048 group_req_id = 12048 at 08:47:57.377
INFO 10-06 08:47:57.377 [manager.py:668] start prefill req_id = 12240 group_req_id = 12240 at 08:47:57.377
INFO 10-06 08:47:57.377 [manager.py:619] requst decode for req_ids=[11856, 12048, 12240] which needs 135966 tokens
INFO 10-06 08:48:11.041 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:48:15.396 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:48:23.062 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:48:35.470 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:48:40.610 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:48:55.982 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:49:02.098 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:49:19.565 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:49:35.629 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:49:49.630 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:50:00.660 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:50:13.687 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:50:21.872 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:50:33.772 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:50:35.803 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:50:46.826 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:50:48.969 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:50:50.136 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:50:51.318 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:50:52.494 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:50:53.669 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:50:54.857 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:50:56.018 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:50:57.205 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:50:58.393 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:51:08.803 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:51:10.100 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:51:14.127 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:51:27.145 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:51:36.200 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:51:47.233 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:51:56.377 [manager.py:64] MEASURE request_for_decode_scheduler cost 238.99964809417725 s
INFO 10-06 08:51:56.387 [manager.py:64] MEASURE init_batch cost 0.009934186935424805 s
INFO 10-06 08:51:56.395 [manager.py:708] send req_ids = [11856, 12048, 12240] to decode scheduler
INFO 10-06 08:52:46.525 [manager.py:64] MEASURE prefill_batch cost 50.12800598144531 s
INFO 10-06 08:52:46.525 [manager.py:689] end prefill req_id = 11856 group_req_id = 11856 at 08:52:46.525
INFO 10-06 08:52:46.525 [manager.py:689] end prefill req_id = 12048 group_req_id = 12048 at 08:52:46.525
INFO 10-06 08:52:46.525 [manager.py:689] end prefill req_id = 12240 group_req_id = 12240 at 08:52:46.525
INFO 10-06 08:52:46.526 [manager.py:698] end prefill all things req_id = 11856 group_req_id = 11856 at 08:52:46.526
INFO 10-06 08:52:46.526 [manager.py:698] end prefill all things req_id = 12048 group_req_id = 12048 at 08:52:46.526
INFO 10-06 08:52:46.526 [manager.py:698] end prefill all things req_id = 12240 group_req_id = 12240 at 08:52:46.526
INFO 10-06 08:52:46.526 [manager.py:701] all take 289.149
INFO 10-06 08:52:46.539 [impl.py:39] after adding new req, max_size: 58628
INFO 10-06 08:52:46.539 [impl.py:39] after adding new req, max_size: 59372
INFO 10-06 08:52:46.539 [impl.py:39] after adding new req, max_size: 65698
INFO 10-06 08:52:46.539 [impl.py:39] after adding new req, max_size: 68382
INFO 10-06 08:52:46.539 [impl.py:39] after adding new req, max_size: 68875
INFO 10-06 08:52:46.539 [impl.py:39] after adding new req, max_size: 73239
INFO 10-06 08:52:46.539 [impl.py:39] after adding new req, max_size: 77038
INFO 10-06 08:52:46.540 [impl.py:39] after adding new req, max_size: 80493
INFO 10-06 08:52:46.540 [impl.py:39] after adding new req, max_size: 81431
INFO 10-06 08:52:46.540 [impl.py:39] after adding new req, max_size: 81431
INFO 10-06 08:52:46.540 [impl.py:39] after adding new req, max_size: 138495
INFO 10-06 08:52:46.540 [manager.py:668] start prefill req_id = 12432 group_req_id = 12432 at 08:52:46.540
INFO 10-06 08:52:46.540 [manager.py:668] start prefill req_id = 12624 group_req_id = 12624 at 08:52:46.540
INFO 10-06 08:52:46.540 [manager.py:668] start prefill req_id = 12816 group_req_id = 12816 at 08:52:46.540
INFO 10-06 08:52:46.540 [manager.py:668] start prefill req_id = 13008 group_req_id = 13008 at 08:52:46.540
INFO 10-06 08:52:46.540 [manager.py:668] start prefill req_id = 13200 group_req_id = 13200 at 08:52:46.540
INFO 10-06 08:52:46.540 [manager.py:668] start prefill req_id = 13392 group_req_id = 13392 at 08:52:46.540
INFO 10-06 08:52:46.540 [manager.py:668] start prefill req_id = 13584 group_req_id = 13584 at 08:52:46.540
INFO 10-06 08:52:46.540 [manager.py:668] start prefill req_id = 13776 group_req_id = 13776 at 08:52:46.540
INFO 10-06 08:52:46.540 [manager.py:668] start prefill req_id = 13968 group_req_id = 13968 at 08:52:46.540
INFO 10-06 08:52:46.540 [manager.py:668] start prefill req_id = 14160 group_req_id = 14160 at 08:52:46.540
INFO 10-06 08:52:46.540 [manager.py:619] requst decode for req_ids=[12432, 12624, 12816, 13008, 13200, 13392, 13584, 13776, 13968, 14160] which needs 82907 tokens
INFO 10-06 08:52:55.449 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:53:07.472 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:53:16.505 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:53:22.557 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:53:33.589 [manager.py:64] MEASURE request_for_decode_scheduler cost 47.04870843887329 s
INFO 10-06 08:53:33.595 [manager.py:64] MEASURE init_batch cost 0.006078243255615234 s
INFO 10-06 08:53:33.600 [manager.py:708] send req_ids = [12432, 12624, 12816, 13008, 13200, 13392, 13584, 13776, 13968, 14160] to decode scheduler
INFO 10-06 08:53:47.504 [manager.py:64] MEASURE prefill_batch cost 13.902243852615356 s
INFO 10-06 08:53:47.504 [manager.py:689] end prefill req_id = 12432 group_req_id = 12432 at 08:53:47.504
INFO 10-06 08:53:47.504 [manager.py:689] end prefill req_id = 12624 group_req_id = 12624 at 08:53:47.504
INFO 10-06 08:53:47.504 [manager.py:689] end prefill req_id = 12816 group_req_id = 12816 at 08:53:47.504
INFO 10-06 08:53:47.504 [manager.py:689] end prefill req_id = 13008 group_req_id = 13008 at 08:53:47.504
INFO 10-06 08:53:47.504 [manager.py:689] end prefill req_id = 13200 group_req_id = 13200 at 08:53:47.504
INFO 10-06 08:53:47.504 [manager.py:689] end prefill req_id = 13392 group_req_id = 13392 at 08:53:47.504
INFO 10-06 08:53:47.504 [manager.py:689] end prefill req_id = 13584 group_req_id = 13584 at 08:53:47.504
INFO 10-06 08:53:47.504 [manager.py:689] end prefill req_id = 13776 group_req_id = 13776 at 08:53:47.504
INFO 10-06 08:53:47.504 [manager.py:689] end prefill req_id = 13968 group_req_id = 13968 at 08:53:47.504
INFO 10-06 08:53:47.504 [manager.py:689] end prefill req_id = 14160 group_req_id = 14160 at 08:53:47.504
INFO 10-06 08:53:47.505 [manager.py:698] end prefill all things req_id = 12432 group_req_id = 12432 at 08:53:47.505
INFO 10-06 08:53:47.505 [manager.py:698] end prefill all things req_id = 12624 group_req_id = 12624 at 08:53:47.505
INFO 10-06 08:53:47.505 [manager.py:698] end prefill all things req_id = 12816 group_req_id = 12816 at 08:53:47.505
INFO 10-06 08:53:47.506 [manager.py:698] end prefill all things req_id = 13008 group_req_id = 13008 at 08:53:47.505
INFO 10-06 08:53:47.506 [manager.py:698] end prefill all things req_id = 13200 group_req_id = 13200 at 08:53:47.505
INFO 10-06 08:53:47.506 [manager.py:698] end prefill all things req_id = 13392 group_req_id = 13392 at 08:53:47.505
INFO 10-06 08:53:47.506 [manager.py:698] end prefill all things req_id = 13584 group_req_id = 13584 at 08:53:47.505
INFO 10-06 08:53:47.506 [manager.py:698] end prefill all things req_id = 13776 group_req_id = 13776 at 08:53:47.505
INFO 10-06 08:53:47.506 [manager.py:698] end prefill all things req_id = 13968 group_req_id = 13968 at 08:53:47.505
INFO 10-06 08:53:47.506 [manager.py:698] end prefill all things req_id = 14160 group_req_id = 14160 at 08:53:47.505
INFO 10-06 08:53:47.506 [manager.py:701] all take 60.965
INFO 10-06 08:53:47.517 [impl.py:39] after adding new req, max_size: 57084
INFO 10-06 08:53:47.518 [impl.py:39] after adding new req, max_size: 57581
INFO 10-06 08:53:47.518 [impl.py:39] after adding new req, max_size: 59211
INFO 10-06 08:53:47.518 [impl.py:39] after adding new req, max_size: 60407
INFO 10-06 08:53:47.518 [impl.py:39] after adding new req, max_size: 83305
INFO 10-06 08:53:47.518 [impl.py:39] after adding new req, max_size: 89199
INFO 10-06 08:53:47.518 [manager.py:668] start prefill req_id = 14352 group_req_id = 14352 at 08:53:47.518
INFO 10-06 08:53:47.518 [manager.py:668] start prefill req_id = 14544 group_req_id = 14544 at 08:53:47.518
INFO 10-06 08:53:47.518 [manager.py:668] start prefill req_id = 14736 group_req_id = 14736 at 08:53:47.518
INFO 10-06 08:53:47.518 [manager.py:668] start prefill req_id = 14928 group_req_id = 14928 at 08:53:47.518
INFO 10-06 08:53:47.518 [manager.py:668] start prefill req_id = 15120 group_req_id = 15120 at 08:53:47.518
INFO 10-06 08:53:47.518 [manager.py:668] start prefill req_id = 15312 group_req_id = 15312 at 08:53:47.518
INFO 10-06 08:53:47.518 [manager.py:619] requst decode for req_ids=[14352, 14544, 14736, 14928, 15120, 15312] which needs 89512 tokens
INFO 10-06 08:53:56.707 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:54:03.712 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:54:05.750 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:54:14.765 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:54:20.509 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:54:21.629 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:54:22.754 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:54:23.882 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:54:25.005 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:54:26.150 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:54:29.184 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:54:39.210 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:54:44.263 [manager.py:64] MEASURE request_for_decode_scheduler cost 56.745351791381836 s
INFO 10-06 08:54:44.270 [manager.py:64] MEASURE init_batch cost 0.0064432621002197266 s
INFO 10-06 08:54:44.276 [manager.py:708] send req_ids = [14352, 14544, 14736, 14928, 15120, 15312] to decode scheduler
INFO 10-06 08:54:59.387 [manager.py:64] MEASURE prefill_batch cost 15.10995101928711 s
INFO 10-06 08:54:59.387 [manager.py:689] end prefill req_id = 14352 group_req_id = 14352 at 08:54:59.387
INFO 10-06 08:54:59.387 [manager.py:689] end prefill req_id = 14544 group_req_id = 14544 at 08:54:59.387
INFO 10-06 08:54:59.387 [manager.py:689] end prefill req_id = 14736 group_req_id = 14736 at 08:54:59.387
INFO 10-06 08:54:59.387 [manager.py:689] end prefill req_id = 14928 group_req_id = 14928 at 08:54:59.387
INFO 10-06 08:54:59.387 [manager.py:689] end prefill req_id = 15120 group_req_id = 15120 at 08:54:59.387
INFO 10-06 08:54:59.387 [manager.py:689] end prefill req_id = 15312 group_req_id = 15312 at 08:54:59.387
INFO 10-06 08:54:59.388 [manager.py:698] end prefill all things req_id = 14352 group_req_id = 14352 at 08:54:59.388
INFO 10-06 08:54:59.388 [manager.py:698] end prefill all things req_id = 14544 group_req_id = 14544 at 08:54:59.388
INFO 10-06 08:54:59.389 [manager.py:698] end prefill all things req_id = 14736 group_req_id = 14736 at 08:54:59.388
INFO 10-06 08:54:59.389 [manager.py:698] end prefill all things req_id = 14928 group_req_id = 14928 at 08:54:59.388
INFO 10-06 08:54:59.389 [manager.py:698] end prefill all things req_id = 15120 group_req_id = 15120 at 08:54:59.388
INFO 10-06 08:54:59.389 [manager.py:698] end prefill all things req_id = 15312 group_req_id = 15312 at 08:54:59.388
INFO 10-06 08:54:59.389 [manager.py:701] all take 71.87
INFO 10-06 08:56:08.267 [manager.py:565] the req info
INFO 10-06 08:56:08.267 [manager.py:565]  {144: ['08:30:44.775', '08:30:47.767'], 336: ['08:30:47.770', '08:31:10.571'], 528: ['08:30:48.232', '08:31:10.571'], 720: ['08:30:48.240', '08:31:10.571'], 912: ['08:30:48.243', '08:31:10.571'], 1104: ['08:30:48.245', '08:31:10.571'], 1296: ['08:30:48.284', '08:31:10.571'], 1488: ['08:30:53.642', '08:32:30.095'], 1680: ['08:30:54.622', '08:32:30.095'], 1872: ['08:30:54.709', '08:32:30.095'], 2064: ['08:30:54.846', '08:32:30.095'], 2256: ['08:30:55.819', '08:32:30.095'], 2448: ['08:30:55.915', '08:32:30.095'], 2640: ['08:30:56.012', '08:32:30.095'], 2832: ['08:30:56.452', '08:32:30.095'], 3024: ['08:30:56.626', '08:32:30.095'], 3216: ['08:30:56.799', '08:32:30.095'], 3408: ['08:31:01.001', '08:33:46.651'], 3600: ['08:31:01.375', '08:33:46.651'], 3792: ['08:31:01.575', '08:33:46.651'], 3984: ['08:31:02.023', '08:33:46.651'], 4176: ['08:31:02.486', '08:33:46.651'], 4368: ['08:31:09.051', '08:33:46.651'], 4560: ['08:31:09.256', '08:33:46.651'], 4752: ['08:31:10.114', '08:33:46.651'], 4944: ['08:31:10.224', '08:33:46.651'], 5136: ['08:31:10.572', '08:33:46.651'], 5328: ['08:31:24.314', '08:36:48.610'], 5520: ['08:31:24.316', '08:36:48.610'], 5712: ['08:31:24.318', '08:36:48.610'], 5904: ['08:31:24.318', '08:36:48.610'], 6096: ['08:31:24.334', '08:36:48.610'], 6288: ['08:31:24.344', '08:36:48.610'], 6480: ['08:31:24.345', '08:36:48.610'], 6672: ['08:31:24.346', '08:36:48.610'], 6864: ['08:31:24.347', '08:36:48.610'], 7056: ['08:31:24.350', '08:36:48.610'], 7248: ['08:31:24.351', '08:44:52.965'], 7440: ['08:31:24.390', '08:44:52.965'], 7632: ['08:31:24.392', '08:44:52.965'], 7824: ['08:31:24.392', '08:44:52.965'], 8016: ['08:31:24.393', '08:44:52.965'], 8208: ['08:31:24.394', '08:44:52.965'], 8400: ['08:31:24.395', '08:44:52.965'], 8592: ['08:31:24.395', '08:44:52.965'], 8784: ['08:31:26.251', '08:44:52.965'], 8976: ['08:31:26.749', '08:44:52.965'], 9168: ['08:31:26.864', '08:46:10.553'], 9360: ['08:31:26.969', '08:46:10.553'], 9552: ['08:31:27.097', '08:46:10.553'], 9744: ['08:31:27.309', '08:46:10.553'], 9936: ['08:31:28.475', '08:46:10.553'], 10128: ['08:31:28.635', '08:46:10.553'], 10320: ['08:31:29.628', '08:46:10.553'], 10512: ['08:31:29.790', '08:46:10.553'], 10704: ['08:31:35.711', '08:46:10.553'], 10896: ['08:31:39.228', '08:46:10.553'], 11088: ['08:31:39.468', '08:47:03.670'], 11280: ['08:31:40.385', '08:47:03.670'], 11472: ['08:31:40.597', '08:47:03.670'], 11664: ['08:31:41.139', '08:47:03.670'], 11856: ['08:31:42.057', '08:51:56.397'], 12048: ['08:31:43.642', '08:51:56.397'], 12240: ['08:31:43.794', '08:51:56.397'], 12432: ['08:32:30.134', '08:53:33.602'], 12624: ['08:32:44.103', '08:53:33.602'], 12816: ['08:32:44.109', '08:53:33.602'], 13008: ['08:32:44.112', '08:53:33.602'], 13200: ['08:32:44.112', '08:53:33.602'], 13392: ['08:32:44.115', '08:53:33.602'], 13584: ['08:32:44.117', '08:53:33.602'], 13776: ['08:32:44.120', '08:53:33.602'], 13968: ['08:32:44.131', '08:53:33.602'], 14160: ['08:32:44.131', '08:53:33.602'], 14352: ['08:32:44.170', '08:54:44.277'], 14544: ['08:32:44.170', '08:54:44.277'], 14736: ['08:32:44.171', '08:54:44.277'], 14928: ['08:32:44.172', '08:54:44.277'], 15120: ['08:32:44.188', '08:54:44.277'], 15312: ['08:32:44.192', '08:54:44.277']}
INFO 10-06 08:59:29.651 [manager.py:565] the req info
INFO 10-06 08:59:29.651 [manager.py:565]  {144: ['08:30:44.775', '08:30:47.767'], 336: ['08:30:47.770', '08:31:10.571'], 528: ['08:30:48.232', '08:31:10.571'], 720: ['08:30:48.240', '08:31:10.571'], 912: ['08:30:48.243', '08:31:10.571'], 1104: ['08:30:48.245', '08:31:10.571'], 1296: ['08:30:48.284', '08:31:10.571'], 1488: ['08:30:53.642', '08:32:30.095'], 1680: ['08:30:54.622', '08:32:30.095'], 1872: ['08:30:54.709', '08:32:30.095'], 2064: ['08:30:54.846', '08:32:30.095'], 2256: ['08:30:55.819', '08:32:30.095'], 2448: ['08:30:55.915', '08:32:30.095'], 2640: ['08:30:56.012', '08:32:30.095'], 2832: ['08:30:56.452', '08:32:30.095'], 3024: ['08:30:56.626', '08:32:30.095'], 3216: ['08:30:56.799', '08:32:30.095'], 3408: ['08:31:01.001', '08:33:46.651'], 3600: ['08:31:01.375', '08:33:46.651'], 3792: ['08:31:01.575', '08:33:46.651'], 3984: ['08:31:02.023', '08:33:46.651'], 4176: ['08:31:02.486', '08:33:46.651'], 4368: ['08:31:09.051', '08:33:46.651'], 4560: ['08:31:09.256', '08:33:46.651'], 4752: ['08:31:10.114', '08:33:46.651'], 4944: ['08:31:10.224', '08:33:46.651'], 5136: ['08:31:10.572', '08:33:46.651'], 5328: ['08:31:24.314', '08:36:48.610'], 5520: ['08:31:24.316', '08:36:48.610'], 5712: ['08:31:24.318', '08:36:48.610'], 5904: ['08:31:24.318', '08:36:48.610'], 6096: ['08:31:24.334', '08:36:48.610'], 6288: ['08:31:24.344', '08:36:48.610'], 6480: ['08:31:24.345', '08:36:48.610'], 6672: ['08:31:24.346', '08:36:48.610'], 6864: ['08:31:24.347', '08:36:48.610'], 7056: ['08:31:24.350', '08:36:48.610'], 7248: ['08:31:24.351', '08:44:52.965'], 7440: ['08:31:24.390', '08:44:52.965'], 7632: ['08:31:24.392', '08:44:52.965'], 7824: ['08:31:24.392', '08:44:52.965'], 8016: ['08:31:24.393', '08:44:52.965'], 8208: ['08:31:24.394', '08:44:52.965'], 8400: ['08:31:24.395', '08:44:52.965'], 8592: ['08:31:24.395', '08:44:52.965'], 8784: ['08:31:26.251', '08:44:52.965'], 8976: ['08:31:26.749', '08:44:52.965'], 9168: ['08:31:26.864', '08:46:10.553'], 9360: ['08:31:26.969', '08:46:10.553'], 9552: ['08:31:27.097', '08:46:10.553'], 9744: ['08:31:27.309', '08:46:10.553'], 9936: ['08:31:28.475', '08:46:10.553'], 10128: ['08:31:28.635', '08:46:10.553'], 10320: ['08:31:29.628', '08:46:10.553'], 10512: ['08:31:29.790', '08:46:10.553'], 10704: ['08:31:35.711', '08:46:10.553'], 10896: ['08:31:39.228', '08:46:10.553'], 11088: ['08:31:39.468', '08:47:03.670'], 11280: ['08:31:40.385', '08:47:03.670'], 11472: ['08:31:40.597', '08:47:03.670'], 11664: ['08:31:41.139', '08:47:03.670'], 11856: ['08:31:42.057', '08:51:56.397'], 12048: ['08:31:43.642', '08:51:56.397'], 12240: ['08:31:43.794', '08:51:56.397'], 12432: ['08:32:30.134', '08:53:33.602'], 12624: ['08:32:44.103', '08:53:33.602'], 12816: ['08:32:44.109', '08:53:33.602'], 13008: ['08:32:44.112', '08:53:33.602'], 13200: ['08:32:44.112', '08:53:33.602'], 13392: ['08:32:44.115', '08:53:33.602'], 13584: ['08:32:44.117', '08:53:33.602'], 13776: ['08:32:44.120', '08:53:33.602'], 13968: ['08:32:44.131', '08:53:33.602'], 14160: ['08:32:44.131', '08:53:33.602'], 14352: ['08:32:44.170', '08:54:44.277'], 14544: ['08:32:44.170', '08:54:44.277'], 14736: ['08:32:44.171', '08:54:44.277'], 14928: ['08:32:44.172', '08:54:44.277'], 15120: ['08:32:44.188', '08:54:44.277'], 15312: ['08:32:44.192', '08:54:44.277']}
