app-vzucgzpq-848bb9b8b7-7nzhc 10.119.22.19 10
Executing command: python -m lightllm.server.backend_pord_server --model_dir /data/basemodel/llama3.1/Meta-Llama-3.1-8B/ --max_req_total_len 140000 --max_req_input_len 135000 --max_total_token_num 320000 --parameter_cache /data/fanyunqian/ela-1004/ela-1004param_cache/8b_tp1/ --host 10.119.22.19 --tp 1 --nccl_ip 10.119.22.36 --nccl_port 9999 --local_instance_num 8 --instance_id 10 --instance_num 32 --router_socket 10.119.22.19:13160 --detokenization_socket 10.119.22.36:31200 --dist_mode prefill --socket_server_addr_port 10.119.22.19:19160 --running_max_req_size 10 --batch_max_tokens 140010 --decode_scheduler_url 10.119.22.36:28000
INFO 10-06 08:24:48.589 [backend_pord_server.py:167] pord server args: Namespace(host='10.119.22.19', port=8000, model_dir='/data/basemodel/llama3.1/Meta-Llama-3.1-8B/', tokenizer_mode='slow', load_way='HF', max_total_token_num=320000, batch_max_tokens=140010, eos_id=[2], running_max_req_size=10, tp=1, instance_id=10, local_instance_num=8, instance_num=32, max_req_input_len=135000, max_req_total_len=140000, nccl_ip='10.119.22.36', nccl_port=9999, mode=[], trust_remote_code=False, disable_log_stats=False, log_stats_interval=10, router_token_ratio=0.0, router_max_new_token_len=1024, router_max_wait_tokens=10, use_dynamic_prompt_cache=False, splitfuse_block_size=256, splitfuse_mode=False, beam_mode=False, diverse_mode=False, token_healing_mode=False, enable_multimodal=False, cache_capacity=200, cache_reserved_ratio=0.5, data_type='float16', return_all_prompt_logprobs=False, long_truncation_mode=None, use_tgi_api=False, health_monitor=False, node_gpu_count=8, dist_mode='prefill', decode_scheduler_url='10.119.22.36:28000', decode_scheduler_socket=None, detokenization_socket='10.119.22.36:31200', router_socket='10.119.22.19:13160', socket_server_addr_port='10.119.22.19:19160', parameter_cache='/data/fanyunqian/ela-1004/ela-1004param_cache/8b_tp1/')
INFO 10-06 08:24:52.445 [manager.py:1171] start router process with prefill 10.119.22.19:13160 10.119.22.36:31200 [10010]
create shm 9999_10_mem_manger_can_use_token_num
create shm 9999_10_shared_token_load
INFO 10-06 08:28:15.353 [manager.py:147] router (pull) bind to 10.119.22.19:13160
INFO 10-06 08:28:15.353 [manager.py:151] router (push) connect to 10.119.22.36:31200
INFO 10-06 08:28:15.354 [model_rpc.py:42] use ContinuesBatchBackend
INFO 10-06 08:28:27.142 [dist.py:51] pid=110581 global rank = 10 / 32, reduce group: start=10, end=11, gpu idx = 2
INFO 10-06 08:28:29.678 [basemodel.py:156] load weights from parameter cache
INFO 10-06 08:28:31.683 [mem_utils.py:11] mode setting params: []
INFO 10-06 08:28:31.683 [mem_utils.py:23] Model kv cache using mode normal
INFO 10-06 08:28:31.691 [mem_manager.py:57] mem manger get unique_name : 9999_10
link shm 9999_10_mem_manger_can_use_token_num
INFO 10-06 08:28:32.585 [base_backend.py:261] loaded model class <class 'lightllm.models.llama.model.LlamaTpPartModel'>
INFO 10-06 08:28:32.585 [manager.py:421] use req queue ContinuesBatchQueue
INFO 10-06 08:28:32.586 [dist.py:57] re-set device to 2
INFO 10-06 08:28:32.586 [start_utils.py:29] init func start_router_process : init ok
INFO 10-06 08:28:32.586 [dist.py:57] re-set device to 2
INFO 10-06 08:28:32.587 [manager.py:370] start socket server at 10.119.22.19:19160
INFO 10-06 08:30:44.700 [impl.py:39] after adding new req, max_size: 4730
INFO 10-06 08:30:44.700 [manager.py:668] start prefill req_id = 64 group_req_id = 64 at 08:30:44.700
INFO 10-06 08:30:44.700 [manager.py:619] requst decode for req_ids=[64] which needs 4731 tokens
INFO 10-06 08:30:44.707 [manager.py:64] MEASURE request_for_decode_scheduler cost 0.00676417350769043 s
INFO 10-06 08:30:44.728 [manager.py:64] MEASURE init_batch cost 0.021468162536621094 s
INFO 10-06 08:30:44.729 [manager.py:708] send req_ids = [64] to decode scheduler
/data/fanyunqian/ela-1004/ela-1004distkv/lightllm/lightllm/common/mem_manager.py:353: UserWarning: To copy construct from a tensor, it is recommended to use sourceTensor.clone().detach() or sourceTensor.clone().detach().requires_grad_(True), rather than torch.tensor(sourceTensor).
  self.layer_cnt[p2p_idx][1] = torch.tensor(prefill_tokens, dtype=torch.int32, device='cuda')
INFO 10-06 08:30:46.417 [manager.py:64] MEASURE prefill_batch cost 1.277958869934082 s
INFO 10-06 08:30:46.417 [manager.py:689] end prefill req_id = 64 group_req_id = 64 at 08:30:46.417
INFO 10-06 08:30:46.433 [manager.py:698] end prefill all things req_id = 64 group_req_id = 64 at 08:30:46.433
INFO 10-06 08:30:46.436 [manager.py:701] all take 1.733
INFO 10-06 08:30:46.446 [impl.py:39] after adding new req, max_size: 11494
INFO 10-06 08:30:46.446 [impl.py:39] after adding new req, max_size: 13485
INFO 10-06 08:30:46.446 [manager.py:668] start prefill req_id = 256 group_req_id = 256 at 08:30:46.446
INFO 10-06 08:30:46.446 [manager.py:668] start prefill req_id = 448 group_req_id = 448 at 08:30:46.446
INFO 10-06 08:30:46.446 [manager.py:619] requst decode for req_ids=[256, 448] which needs 13614 tokens
INFO 10-06 08:30:47.413 [manager.py:64] MEASURE request_for_decode_scheduler cost 0.967146635055542 s
INFO 10-06 08:30:47.415 [manager.py:64] MEASURE init_batch cost 0.0014827251434326172 s
INFO 10-06 08:30:47.416 [manager.py:708] send req_ids = [256, 448] to decode scheduler
INFO 10-06 08:30:50.756 [manager.py:64] MEASURE prefill_batch cost 3.338956594467163 s
INFO 10-06 08:30:50.756 [manager.py:689] end prefill req_id = 256 group_req_id = 256 at 08:30:50.756
INFO 10-06 08:30:50.756 [manager.py:689] end prefill req_id = 448 group_req_id = 448 at 08:30:50.756
INFO 10-06 08:30:50.757 [manager.py:698] end prefill all things req_id = 256 group_req_id = 256 at 08:30:50.757
INFO 10-06 08:30:50.757 [manager.py:698] end prefill all things req_id = 448 group_req_id = 448 at 08:30:50.757
INFO 10-06 08:30:50.757 [manager.py:701] all take 4.311
INFO 10-06 08:30:50.767 [impl.py:39] after adding new req, max_size: 2866
INFO 10-06 08:30:50.767 [impl.py:39] after adding new req, max_size: 4115
INFO 10-06 08:30:50.767 [impl.py:39] after adding new req, max_size: 5764
INFO 10-06 08:30:50.767 [impl.py:39] after adding new req, max_size: 7866
INFO 10-06 08:30:50.768 [manager.py:668] start prefill req_id = 640 group_req_id = 640 at 08:30:50.767
INFO 10-06 08:30:50.768 [manager.py:668] start prefill req_id = 832 group_req_id = 832 at 08:30:50.767
INFO 10-06 08:30:50.768 [manager.py:668] start prefill req_id = 1024 group_req_id = 1024 at 08:30:50.767
INFO 10-06 08:30:50.768 [manager.py:668] start prefill req_id = 1216 group_req_id = 1216 at 08:30:50.767
INFO 10-06 08:30:50.768 [manager.py:619] requst decode for req_ids=[640, 832, 1024, 1216] which needs 8172 tokens
INFO 10-06 08:30:59.735 [manager.py:64] MEASURE request_for_decode_scheduler cost 8.967417240142822 s
INFO 10-06 08:30:59.736 [manager.py:64] MEASURE init_batch cost 0.0011105537414550781 s
INFO 10-06 08:30:59.737 [manager.py:708] send req_ids = [640, 832, 1024, 1216] to decode scheduler
INFO 10-06 08:31:52.865 [manager.py:64] MEASURE prefill_batch cost 0.48991894721984863 s
INFO 10-06 08:31:52.865 [manager.py:689] end prefill req_id = 640 group_req_id = 640 at 08:31:52.865
INFO 10-06 08:31:52.865 [manager.py:689] end prefill req_id = 832 group_req_id = 832 at 08:31:52.865
INFO 10-06 08:31:52.865 [manager.py:689] end prefill req_id = 1024 group_req_id = 1024 at 08:31:52.865
INFO 10-06 08:31:52.865 [manager.py:689] end prefill req_id = 1216 group_req_id = 1216 at 08:31:52.865
INFO 10-06 08:31:52.868 [manager.py:698] end prefill all things req_id = 640 group_req_id = 640 at 08:31:52.868
INFO 10-06 08:31:52.868 [manager.py:698] end prefill all things req_id = 832 group_req_id = 832 at 08:31:52.868
INFO 10-06 08:31:52.868 [manager.py:698] end prefill all things req_id = 1024 group_req_id = 1024 at 08:31:52.868
INFO 10-06 08:31:52.868 [manager.py:698] end prefill all things req_id = 1216 group_req_id = 1216 at 08:31:52.868
INFO 10-06 08:31:52.868 [manager.py:701] all take 62.101
INFO 10-06 08:31:52.886 [impl.py:39] after adding new req, max_size: 57242
INFO 10-06 08:31:52.886 [impl.py:39] after adding new req, max_size: 58031
INFO 10-06 08:31:52.887 [impl.py:39] after adding new req, max_size: 60400
INFO 10-06 08:31:52.887 [impl.py:39] after adding new req, max_size: 64254
INFO 10-06 08:31:52.887 [impl.py:39] after adding new req, max_size: 86823
INFO 10-06 08:31:52.887 [impl.py:39] after adding new req, max_size: 87406
INFO 10-06 08:31:52.887 [impl.py:39] after adding new req, max_size: 90855
INFO 10-06 08:31:52.887 [impl.py:39] after adding new req, max_size: 153398
INFO 10-06 08:31:52.887 [manager.py:668] start prefill req_id = 1408 group_req_id = 1408 at 08:31:52.887
INFO 10-06 08:31:52.887 [manager.py:668] start prefill req_id = 1600 group_req_id = 1600 at 08:31:52.887
INFO 10-06 08:31:52.887 [manager.py:668] start prefill req_id = 1792 group_req_id = 1792 at 08:31:52.887
INFO 10-06 08:31:52.887 [manager.py:668] start prefill req_id = 1984 group_req_id = 1984 at 08:31:52.887
INFO 10-06 08:31:52.887 [manager.py:668] start prefill req_id = 2176 group_req_id = 2176 at 08:31:52.887
INFO 10-06 08:31:52.887 [manager.py:668] start prefill req_id = 2368 group_req_id = 2368 at 08:31:52.887
INFO 10-06 08:31:52.887 [manager.py:668] start prefill req_id = 2560 group_req_id = 2560 at 08:31:52.887
INFO 10-06 08:31:52.887 [manager.py:619] requst decode for req_ids=[1408, 1600, 1792, 1984, 2176, 2368, 2560] which needs 91677 tokens
INFO 10-06 08:32:06.607 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:32:24.946 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:32:40.029 [manager.py:64] MEASURE request_for_decode_scheduler cost 47.14200448989868 s
INFO 10-06 08:32:40.036 [manager.py:64] MEASURE init_batch cost 0.006501197814941406 s
INFO 10-06 08:32:40.041 [manager.py:708] send req_ids = [1408, 1600, 1792, 1984, 2176, 2368, 2560] to decode scheduler
INFO 10-06 08:32:55.792 [manager.py:64] MEASURE prefill_batch cost 15.363238334655762 s
INFO 10-06 08:32:55.792 [manager.py:689] end prefill req_id = 1408 group_req_id = 1408 at 08:32:55.792
INFO 10-06 08:32:55.792 [manager.py:689] end prefill req_id = 1600 group_req_id = 1600 at 08:32:55.792
INFO 10-06 08:32:55.792 [manager.py:689] end prefill req_id = 1792 group_req_id = 1792 at 08:32:55.792
INFO 10-06 08:32:55.792 [manager.py:689] end prefill req_id = 1984 group_req_id = 1984 at 08:32:55.792
INFO 10-06 08:32:55.792 [manager.py:689] end prefill req_id = 2176 group_req_id = 2176 at 08:32:55.792
INFO 10-06 08:32:55.792 [manager.py:689] end prefill req_id = 2368 group_req_id = 2368 at 08:32:55.792
INFO 10-06 08:32:55.792 [manager.py:689] end prefill req_id = 2560 group_req_id = 2560 at 08:32:55.792
INFO 10-06 08:32:55.793 [manager.py:698] end prefill all things req_id = 1408 group_req_id = 1408 at 08:32:55.793
INFO 10-06 08:32:55.793 [manager.py:698] end prefill all things req_id = 1600 group_req_id = 1600 at 08:32:55.793
INFO 10-06 08:32:55.793 [manager.py:698] end prefill all things req_id = 1792 group_req_id = 1792 at 08:32:55.793
INFO 10-06 08:32:55.793 [manager.py:698] end prefill all things req_id = 1984 group_req_id = 1984 at 08:32:55.793
INFO 10-06 08:32:55.793 [manager.py:698] end prefill all things req_id = 2176 group_req_id = 2176 at 08:32:55.793
INFO 10-06 08:32:55.793 [manager.py:698] end prefill all things req_id = 2368 group_req_id = 2368 at 08:32:55.793
INFO 10-06 08:32:55.793 [manager.py:698] end prefill all things req_id = 2560 group_req_id = 2560 at 08:32:55.793
INFO 10-06 08:32:55.793 [manager.py:701] all take 62.906
INFO 10-06 08:32:55.805 [impl.py:39] after adding new req, max_size: 62564
INFO 10-06 08:32:55.805 [impl.py:39] after adding new req, max_size: 68409
INFO 10-06 08:32:55.805 [impl.py:39] after adding new req, max_size: 74950
INFO 10-06 08:32:55.805 [impl.py:39] after adding new req, max_size: 79299
INFO 10-06 08:32:55.805 [impl.py:39] after adding new req, max_size: 80969
INFO 10-06 08:32:55.806 [impl.py:39] after adding new req, max_size: 82130
INFO 10-06 08:32:55.806 [impl.py:39] after adding new req, max_size: 109377
INFO 10-06 08:32:55.806 [impl.py:39] after adding new req, max_size: 111522
INFO 10-06 08:32:55.806 [impl.py:39] after adding new req, max_size: 167886
INFO 10-06 08:32:55.806 [manager.py:668] start prefill req_id = 2752 group_req_id = 2752 at 08:32:55.806
INFO 10-06 08:32:55.806 [manager.py:668] start prefill req_id = 2944 group_req_id = 2944 at 08:32:55.806
INFO 10-06 08:32:55.806 [manager.py:668] start prefill req_id = 3136 group_req_id = 3136 at 08:32:55.806
INFO 10-06 08:32:55.806 [manager.py:668] start prefill req_id = 3328 group_req_id = 3328 at 08:32:55.806
INFO 10-06 08:32:55.806 [manager.py:668] start prefill req_id = 3520 group_req_id = 3520 at 08:32:55.806
INFO 10-06 08:32:55.806 [manager.py:668] start prefill req_id = 3712 group_req_id = 3712 at 08:32:55.806
INFO 10-06 08:32:55.806 [manager.py:668] start prefill req_id = 3904 group_req_id = 3904 at 08:32:55.806
INFO 10-06 08:32:55.806 [manager.py:668] start prefill req_id = 4096 group_req_id = 4096 at 08:32:55.806
INFO 10-06 08:32:55.806 [manager.py:619] requst decode for req_ids=[2752, 2944, 3136, 3328, 3520, 3712, 3904, 4096] which needs 112048 tokens
INFO 10-06 08:32:55.964 [manager.py:64] MEASURE request_for_decode_scheduler cost 0.1582634449005127 s
INFO 10-06 08:32:55.972 [manager.py:64] MEASURE init_batch cost 0.0075037479400634766 s
INFO 10-06 08:32:55.979 [manager.py:708] send req_ids = [2752, 2944, 3136, 3328, 3520, 3712, 3904, 4096] to decode scheduler
INFO 10-06 08:33:14.752 [manager.py:64] MEASURE prefill_batch cost 18.772104740142822 s
INFO 10-06 08:33:14.752 [manager.py:689] end prefill req_id = 2752 group_req_id = 2752 at 08:33:14.752
INFO 10-06 08:33:14.752 [manager.py:689] end prefill req_id = 2944 group_req_id = 2944 at 08:33:14.752
INFO 10-06 08:33:14.752 [manager.py:689] end prefill req_id = 3136 group_req_id = 3136 at 08:33:14.752
INFO 10-06 08:33:14.752 [manager.py:689] end prefill req_id = 3328 group_req_id = 3328 at 08:33:14.752
INFO 10-06 08:33:14.753 [manager.py:689] end prefill req_id = 3520 group_req_id = 3520 at 08:33:14.752
INFO 10-06 08:33:14.753 [manager.py:689] end prefill req_id = 3712 group_req_id = 3712 at 08:33:14.752
INFO 10-06 08:33:14.753 [manager.py:689] end prefill req_id = 3904 group_req_id = 3904 at 08:33:14.752
INFO 10-06 08:33:14.753 [manager.py:689] end prefill req_id = 4096 group_req_id = 4096 at 08:33:14.752
INFO 10-06 08:33:14.754 [manager.py:698] end prefill all things req_id = 2752 group_req_id = 2752 at 08:33:14.754
INFO 10-06 08:33:14.754 [manager.py:698] end prefill all things req_id = 2944 group_req_id = 2944 at 08:33:14.754
INFO 10-06 08:33:14.754 [manager.py:698] end prefill all things req_id = 3136 group_req_id = 3136 at 08:33:14.754
INFO 10-06 08:33:14.754 [manager.py:698] end prefill all things req_id = 3328 group_req_id = 3328 at 08:33:14.754
INFO 10-06 08:33:14.754 [manager.py:698] end prefill all things req_id = 3520 group_req_id = 3520 at 08:33:14.754
INFO 10-06 08:33:14.754 [manager.py:698] end prefill all things req_id = 3712 group_req_id = 3712 at 08:33:14.754
INFO 10-06 08:33:14.754 [manager.py:698] end prefill all things req_id = 3904 group_req_id = 3904 at 08:33:14.754
INFO 10-06 08:33:14.754 [manager.py:698] end prefill all things req_id = 4096 group_req_id = 4096 at 08:33:14.754
INFO 10-06 08:33:14.754 [manager.py:701] all take 18.948
INFO 10-06 08:33:14.766 [impl.py:39] after adding new req, max_size: 56724
INFO 10-06 08:33:14.766 [impl.py:39] after adding new req, max_size: 59230
INFO 10-06 08:33:14.766 [impl.py:39] after adding new req, max_size: 59891
INFO 10-06 08:33:14.766 [impl.py:39] after adding new req, max_size: 60435
INFO 10-06 08:33:14.766 [impl.py:39] after adding new req, max_size: 61088
INFO 10-06 08:33:14.766 [impl.py:39] after adding new req, max_size: 118598
INFO 10-06 08:33:14.767 [impl.py:39] after adding new req, max_size: 119202
INFO 10-06 08:33:14.767 [impl.py:39] after adding new req, max_size: 120110
INFO 10-06 08:33:14.767 [impl.py:39] after adding new req, max_size: 125998
INFO 10-06 08:33:14.767 [impl.py:39] after adding new req, max_size: 126972
INFO 10-06 08:33:14.767 [impl.py:39] after adding new req, max_size: 128141
INFO 10-06 08:33:14.767 [manager.py:668] start prefill req_id = 4288 group_req_id = 4288 at 08:33:14.767
INFO 10-06 08:33:14.767 [manager.py:668] start prefill req_id = 4480 group_req_id = 4480 at 08:33:14.767
INFO 10-06 08:33:14.767 [manager.py:668] start prefill req_id = 4672 group_req_id = 4672 at 08:33:14.767
INFO 10-06 08:33:14.767 [manager.py:668] start prefill req_id = 4864 group_req_id = 4864 at 08:33:14.767
INFO 10-06 08:33:14.767 [manager.py:668] start prefill req_id = 5056 group_req_id = 5056 at 08:33:14.767
INFO 10-06 08:33:14.767 [manager.py:668] start prefill req_id = 5248 group_req_id = 5248 at 08:33:14.767
INFO 10-06 08:33:14.767 [manager.py:668] start prefill req_id = 5440 group_req_id = 5440 at 08:33:14.767
INFO 10-06 08:33:14.767 [manager.py:668] start prefill req_id = 5632 group_req_id = 5632 at 08:33:14.767
INFO 10-06 08:33:14.767 [manager.py:668] start prefill req_id = 5824 group_req_id = 5824 at 08:33:14.767
INFO 10-06 08:33:14.767 [manager.py:668] start prefill req_id = 6016 group_req_id = 6016 at 08:33:14.767
INFO 10-06 08:33:14.767 [manager.py:619] requst decode for req_ids=[4288, 4480, 4672, 4864, 5056, 5248, 5440, 5632, 5824, 6016] which needs 128348 tokens
INFO 10-06 08:33:30.786 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:33:46.595 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:33:51.877 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:34:06.529 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:34:13.523 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:34:34.747 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:34:56.876 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:35:07.623 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:35:26.925 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:35:47.067 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:36:03.147 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:36:20.462 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:36:43.584 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:37:04.661 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:37:28.767 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:37:48.842 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:38:07.231 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:38:29.282 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:38:51.341 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:39:06.521 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:39:24.625 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:39:44.688 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:39:48.182 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:40:06.800 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:40:24.921 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:40:46.174 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:40:47.506 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:41:06.579 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:41:27.630 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:41:49.735 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:42:04.947 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:42:26.043 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:42:37.669 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:42:56.854 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:42:58.974 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:43:20.910 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:43:42.033 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:44:01.112 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:44:17.186 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:44:35.296 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:44:51.493 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:45:10.667 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:45:26.945 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:45:42.056 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:45:54.229 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:46:09.434 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:46:10.614 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:46:28.514 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:46:30.547 [manager.py:64] MEASURE request_for_decode_scheduler cost 795.7795495986938 s
INFO 10-06 08:46:30.556 [manager.py:64] MEASURE init_batch cost 0.009012460708618164 s
INFO 10-06 08:46:30.564 [manager.py:708] send req_ids = [4288, 4480, 4672, 4864, 5056, 5248, 5440, 5632, 5824, 6016] to decode scheduler
INFO 10-06 08:46:54.917 [manager.py:64] MEASURE prefill_batch cost 24.070656538009644 s
INFO 10-06 08:46:54.917 [manager.py:689] end prefill req_id = 4288 group_req_id = 4288 at 08:46:54.917
INFO 10-06 08:46:54.917 [manager.py:689] end prefill req_id = 4480 group_req_id = 4480 at 08:46:54.917
INFO 10-06 08:46:54.917 [manager.py:689] end prefill req_id = 4672 group_req_id = 4672 at 08:46:54.917
INFO 10-06 08:46:54.917 [manager.py:689] end prefill req_id = 4864 group_req_id = 4864 at 08:46:54.917
INFO 10-06 08:46:54.917 [manager.py:689] end prefill req_id = 5056 group_req_id = 5056 at 08:46:54.917
INFO 10-06 08:46:54.917 [manager.py:689] end prefill req_id = 5248 group_req_id = 5248 at 08:46:54.917
INFO 10-06 08:46:54.917 [manager.py:689] end prefill req_id = 5440 group_req_id = 5440 at 08:46:54.917
INFO 10-06 08:46:54.917 [manager.py:689] end prefill req_id = 5632 group_req_id = 5632 at 08:46:54.917
INFO 10-06 08:46:54.917 [manager.py:689] end prefill req_id = 5824 group_req_id = 5824 at 08:46:54.917
INFO 10-06 08:46:54.917 [manager.py:689] end prefill req_id = 6016 group_req_id = 6016 at 08:46:54.917
INFO 10-06 08:46:54.918 [manager.py:698] end prefill all things req_id = 4288 group_req_id = 4288 at 08:46:54.918
INFO 10-06 08:46:54.918 [manager.py:698] end prefill all things req_id = 4480 group_req_id = 4480 at 08:46:54.918
INFO 10-06 08:46:54.918 [manager.py:698] end prefill all things req_id = 4672 group_req_id = 4672 at 08:46:54.918
INFO 10-06 08:46:54.918 [manager.py:698] end prefill all things req_id = 4864 group_req_id = 4864 at 08:46:54.918
INFO 10-06 08:46:54.918 [manager.py:698] end prefill all things req_id = 5056 group_req_id = 5056 at 08:46:54.918
INFO 10-06 08:46:54.919 [manager.py:698] end prefill all things req_id = 5248 group_req_id = 5248 at 08:46:54.918
INFO 10-06 08:46:54.919 [manager.py:698] end prefill all things req_id = 5440 group_req_id = 5440 at 08:46:54.918
INFO 10-06 08:46:54.919 [manager.py:698] end prefill all things req_id = 5632 group_req_id = 5632 at 08:46:54.918
INFO 10-06 08:46:54.919 [manager.py:698] end prefill all things req_id = 5824 group_req_id = 5824 at 08:46:54.918
INFO 10-06 08:46:54.919 [manager.py:698] end prefill all things req_id = 6016 group_req_id = 6016 at 08:46:54.918
INFO 10-06 08:46:54.919 [manager.py:701] all take 820.151
INFO 10-06 08:46:54.931 [impl.py:39] after adding new req, max_size: 1221
INFO 10-06 08:46:54.931 [impl.py:39] after adding new req, max_size: 113617
INFO 10-06 08:46:54.931 [impl.py:39] after adding new req, max_size: 114131
INFO 10-06 08:46:54.931 [impl.py:39] after adding new req, max_size: 115899
INFO 10-06 08:46:54.931 [impl.py:39] after adding new req, max_size: 116416
INFO 10-06 08:46:54.932 [impl.py:39] after adding new req, max_size: 122269
INFO 10-06 08:46:54.932 [impl.py:39] after adding new req, max_size: 134663
INFO 10-06 08:46:54.932 [impl.py:39] after adding new req, max_size: 138477
INFO 10-06 08:46:54.932 [impl.py:39] after adding new req, max_size: 150564
INFO 10-06 08:46:54.932 [manager.py:668] start prefill req_id = 6208 group_req_id = 6208 at 08:46:54.932
INFO 10-06 08:46:54.932 [manager.py:668] start prefill req_id = 6400 group_req_id = 6400 at 08:46:54.932
INFO 10-06 08:46:54.932 [manager.py:668] start prefill req_id = 6592 group_req_id = 6592 at 08:46:54.932
INFO 10-06 08:46:54.932 [manager.py:668] start prefill req_id = 6784 group_req_id = 6784 at 08:46:54.932
INFO 10-06 08:46:54.932 [manager.py:668] start prefill req_id = 6976 group_req_id = 6976 at 08:46:54.932
INFO 10-06 08:46:54.932 [manager.py:668] start prefill req_id = 7168 group_req_id = 7168 at 08:46:54.932
INFO 10-06 08:46:54.932 [manager.py:668] start prefill req_id = 7360 group_req_id = 7360 at 08:46:54.932
INFO 10-06 08:46:54.932 [manager.py:668] start prefill req_id = 7552 group_req_id = 7552 at 08:46:54.932
INFO 10-06 08:46:54.932 [manager.py:619] requst decode for req_ids=[6208, 6400, 6592, 6784, 6976, 7168, 7360, 7552] which needs 138959 tokens
INFO 10-06 08:47:03.666 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:47:16.835 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:47:30.866 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:47:45.936 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:48:03.998 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:48:11.059 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:48:22.419 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:48:24.450 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:48:40.538 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:48:49.546 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:49:02.057 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:49:07.563 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:49:23.571 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:49:36.637 [manager.py:64] MEASURE request_for_decode_scheduler cost 161.70548176765442 s
INFO 10-06 08:49:36.647 [manager.py:64] MEASURE init_batch cost 0.009874343872070312 s
INFO 10-06 08:49:36.656 [manager.py:708] send req_ids = [6208, 6400, 6592, 6784, 6976, 7168, 7360, 7552] to decode scheduler
INFO 10-06 08:50:18.303 [manager.py:64] MEASURE prefill_batch cost 41.249842405319214 s
INFO 10-06 08:50:18.303 [manager.py:689] end prefill req_id = 6208 group_req_id = 6208 at 08:50:18.303
INFO 10-06 08:50:18.303 [manager.py:689] end prefill req_id = 6400 group_req_id = 6400 at 08:50:18.303
INFO 10-06 08:50:18.303 [manager.py:689] end prefill req_id = 6592 group_req_id = 6592 at 08:50:18.303
INFO 10-06 08:50:18.303 [manager.py:689] end prefill req_id = 6784 group_req_id = 6784 at 08:50:18.303
INFO 10-06 08:50:18.303 [manager.py:689] end prefill req_id = 6976 group_req_id = 6976 at 08:50:18.303
INFO 10-06 08:50:18.303 [manager.py:689] end prefill req_id = 7168 group_req_id = 7168 at 08:50:18.303
INFO 10-06 08:50:18.304 [manager.py:689] end prefill req_id = 7360 group_req_id = 7360 at 08:50:18.303
INFO 10-06 08:50:18.304 [manager.py:689] end prefill req_id = 7552 group_req_id = 7552 at 08:50:18.303
INFO 10-06 08:50:18.675 [manager.py:698] end prefill all things req_id = 6208 group_req_id = 6208 at 08:50:18.675
INFO 10-06 08:50:18.675 [manager.py:698] end prefill all things req_id = 6400 group_req_id = 6400 at 08:50:18.675
INFO 10-06 08:50:18.675 [manager.py:698] end prefill all things req_id = 6592 group_req_id = 6592 at 08:50:18.675
INFO 10-06 08:50:18.675 [manager.py:698] end prefill all things req_id = 6784 group_req_id = 6784 at 08:50:18.675
INFO 10-06 08:50:18.675 [manager.py:698] end prefill all things req_id = 6976 group_req_id = 6976 at 08:50:18.675
INFO 10-06 08:50:18.675 [manager.py:698] end prefill all things req_id = 7168 group_req_id = 7168 at 08:50:18.675
INFO 10-06 08:50:18.675 [manager.py:698] end prefill all things req_id = 7360 group_req_id = 7360 at 08:50:18.675
INFO 10-06 08:50:18.675 [manager.py:698] end prefill all things req_id = 7552 group_req_id = 7552 at 08:50:18.675
INFO 10-06 08:50:18.675 [manager.py:701] all take 203.743
INFO 10-06 08:50:18.688 [impl.py:39] after adding new req, max_size: 12231
INFO 10-06 08:50:18.688 [impl.py:39] after adding new req, max_size: 16728
INFO 10-06 08:50:18.688 [impl.py:39] after adding new req, max_size: 19761
INFO 10-06 08:50:18.688 [impl.py:39] after adding new req, max_size: 20363
INFO 10-06 08:50:18.688 [impl.py:39] after adding new req, max_size: 47436
INFO 10-06 08:50:18.688 [impl.py:39] after adding new req, max_size: 48324
INFO 10-06 08:50:18.688 [impl.py:39] after adding new req, max_size: 51056
INFO 10-06 08:50:18.688 [impl.py:39] after adding new req, max_size: 53549
INFO 10-06 08:50:18.688 [impl.py:39] after adding new req, max_size: 54498
INFO 10-06 08:50:18.688 [impl.py:39] after adding new req, max_size: 56254
INFO 10-06 08:50:18.688 [impl.py:39] after adding new req, max_size: 63481
INFO 10-06 08:50:18.689 [manager.py:668] start prefill req_id = 7744 group_req_id = 7744 at 08:50:18.688
INFO 10-06 08:50:18.689 [manager.py:668] start prefill req_id = 7936 group_req_id = 7936 at 08:50:18.688
INFO 10-06 08:50:18.689 [manager.py:668] start prefill req_id = 8128 group_req_id = 8128 at 08:50:18.688
INFO 10-06 08:50:18.689 [manager.py:668] start prefill req_id = 8320 group_req_id = 8320 at 08:50:18.688
INFO 10-06 08:50:18.689 [manager.py:668] start prefill req_id = 8512 group_req_id = 8512 at 08:50:18.688
INFO 10-06 08:50:18.689 [manager.py:668] start prefill req_id = 8704 group_req_id = 8704 at 08:50:18.688
INFO 10-06 08:50:18.689 [manager.py:668] start prefill req_id = 8896 group_req_id = 8896 at 08:50:18.688
INFO 10-06 08:50:18.689 [manager.py:668] start prefill req_id = 9088 group_req_id = 9088 at 08:50:18.688
INFO 10-06 08:50:18.689 [manager.py:668] start prefill req_id = 9280 group_req_id = 9280 at 08:50:18.688
INFO 10-06 08:50:18.689 [manager.py:668] start prefill req_id = 9472 group_req_id = 9472 at 08:50:18.688
INFO 10-06 08:50:18.689 [manager.py:619] requst decode for req_ids=[7744, 7936, 8128, 8320, 8512, 8704, 8896, 9088, 9280, 9472] which needs 57322 tokens
INFO 10-06 08:50:21.880 [manager.py:64] MEASURE request_for_decode_scheduler cost 3.1915700435638428 s
INFO 10-06 08:50:21.885 [manager.py:64] MEASURE init_batch cost 0.004335165023803711 s
INFO 10-06 08:50:21.888 [manager.py:708] send req_ids = [7744, 7936, 8128, 8320, 8512, 8704, 8896, 9088, 9280, 9472] to decode scheduler
INFO 10-06 08:50:27.999 [manager.py:64] MEASURE prefill_batch cost 5.781214952468872 s
INFO 10-06 08:50:27.999 [manager.py:689] end prefill req_id = 7744 group_req_id = 7744 at 08:50:27.999
INFO 10-06 08:50:27.999 [manager.py:689] end prefill req_id = 7936 group_req_id = 7936 at 08:50:27.999
INFO 10-06 08:50:27.999 [manager.py:689] end prefill req_id = 8128 group_req_id = 8128 at 08:50:27.999
INFO 10-06 08:50:27.999 [manager.py:689] end prefill req_id = 8320 group_req_id = 8320 at 08:50:27.999
INFO 10-06 08:50:27.999 [manager.py:689] end prefill req_id = 8512 group_req_id = 8512 at 08:50:27.999
INFO 10-06 08:50:27.999 [manager.py:689] end prefill req_id = 8704 group_req_id = 8704 at 08:50:27.999
INFO 10-06 08:50:27.999 [manager.py:689] end prefill req_id = 8896 group_req_id = 8896 at 08:50:27.999
INFO 10-06 08:50:27.999 [manager.py:689] end prefill req_id = 9088 group_req_id = 9088 at 08:50:27.999
INFO 10-06 08:50:27.999 [manager.py:689] end prefill req_id = 9280 group_req_id = 9280 at 08:50:27.999
INFO 10-06 08:50:27.999 [manager.py:689] end prefill req_id = 9472 group_req_id = 9472 at 08:50:27.999
INFO 10-06 08:50:29.723 [manager.py:698] end prefill all things req_id = 7744 group_req_id = 7744 at 08:50:29.723
INFO 10-06 08:50:29.724 [manager.py:698] end prefill all things req_id = 7936 group_req_id = 7936 at 08:50:29.723
INFO 10-06 08:50:29.724 [manager.py:698] end prefill all things req_id = 8128 group_req_id = 8128 at 08:50:29.723
INFO 10-06 08:50:29.724 [manager.py:698] end prefill all things req_id = 8320 group_req_id = 8320 at 08:50:29.723
INFO 10-06 08:50:29.724 [manager.py:698] end prefill all things req_id = 8512 group_req_id = 8512 at 08:50:29.723
INFO 10-06 08:50:29.724 [manager.py:698] end prefill all things req_id = 8704 group_req_id = 8704 at 08:50:29.723
INFO 10-06 08:50:29.724 [manager.py:698] end prefill all things req_id = 8896 group_req_id = 8896 at 08:50:29.723
INFO 10-06 08:50:29.724 [manager.py:698] end prefill all things req_id = 9088 group_req_id = 9088 at 08:50:29.723
INFO 10-06 08:50:29.724 [manager.py:698] end prefill all things req_id = 9280 group_req_id = 9280 at 08:50:29.723
INFO 10-06 08:50:29.724 [manager.py:698] end prefill all things req_id = 9472 group_req_id = 9472 at 08:50:29.723
INFO 10-06 08:50:29.724 [manager.py:701] all take 11.035
INFO 10-06 08:50:29.735 [impl.py:39] after adding new req, max_size: 7361
INFO 10-06 08:50:29.735 [impl.py:39] after adding new req, max_size: 20405
INFO 10-06 08:50:29.735 [impl.py:39] after adding new req, max_size: 24925
INFO 10-06 08:50:29.735 [impl.py:39] after adding new req, max_size: 66053
INFO 10-06 08:50:29.735 [impl.py:39] after adding new req, max_size: 67340
INFO 10-06 08:50:29.736 [impl.py:39] after adding new req, max_size: 139874
INFO 10-06 08:50:29.736 [impl.py:39] after adding new req, max_size: 196059
INFO 10-06 08:50:29.736 [manager.py:668] start prefill req_id = 9664 group_req_id = 9664 at 08:50:29.736
INFO 10-06 08:50:29.736 [manager.py:668] start prefill req_id = 9856 group_req_id = 9856 at 08:50:29.736
INFO 10-06 08:50:29.736 [manager.py:668] start prefill req_id = 10048 group_req_id = 10048 at 08:50:29.736
INFO 10-06 08:50:29.736 [manager.py:668] start prefill req_id = 10240 group_req_id = 10240 at 08:50:29.736
INFO 10-06 08:50:29.736 [manager.py:668] start prefill req_id = 10432 group_req_id = 10432 at 08:50:29.736
INFO 10-06 08:50:29.736 [manager.py:668] start prefill req_id = 10624 group_req_id = 10624 at 08:50:29.736
INFO 10-06 08:50:29.736 [manager.py:619] requst decode for req_ids=[9664, 9856, 10048, 10240, 10432, 10624] which needs 140331 tokens
INFO 10-06 08:50:34.406 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:50:37.808 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:50:48.828 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:50:49.858 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:50:50.887 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:50:51.918 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:50:52.948 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:50:53.979 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:50:55.009 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:50:56.039 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:50:57.207 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:50:58.395 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:51:08.806 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:51:10.097 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:51:15.129 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:51:28.147 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:51:37.203 [manager.py:64] MEASURE request_for_decode_scheduler cost 67.467200756073 s
INFO 10-06 08:51:37.213 [manager.py:64] MEASURE init_batch cost 0.0096282958984375 s
INFO 10-06 08:51:37.222 [manager.py:708] send req_ids = [9664, 9856, 10048, 10240, 10432, 10624] to decode scheduler
INFO 10-06 08:52:03.848 [manager.py:64] MEASURE prefill_batch cost 26.62481689453125 s
INFO 10-06 08:52:03.848 [manager.py:689] end prefill req_id = 9664 group_req_id = 9664 at 08:52:03.848
INFO 10-06 08:52:03.848 [manager.py:689] end prefill req_id = 9856 group_req_id = 9856 at 08:52:03.848
INFO 10-06 08:52:03.848 [manager.py:689] end prefill req_id = 10048 group_req_id = 10048 at 08:52:03.848
INFO 10-06 08:52:03.848 [manager.py:689] end prefill req_id = 10240 group_req_id = 10240 at 08:52:03.848
INFO 10-06 08:52:03.848 [manager.py:689] end prefill req_id = 10432 group_req_id = 10432 at 08:52:03.848
INFO 10-06 08:52:03.848 [manager.py:689] end prefill req_id = 10624 group_req_id = 10624 at 08:52:03.848
INFO 10-06 08:52:03.849 [manager.py:698] end prefill all things req_id = 9664 group_req_id = 9664 at 08:52:03.849
INFO 10-06 08:52:03.849 [manager.py:698] end prefill all things req_id = 9856 group_req_id = 9856 at 08:52:03.849
INFO 10-06 08:52:03.849 [manager.py:698] end prefill all things req_id = 10048 group_req_id = 10048 at 08:52:03.849
INFO 10-06 08:52:03.849 [manager.py:698] end prefill all things req_id = 10240 group_req_id = 10240 at 08:52:03.849
INFO 10-06 08:52:03.849 [manager.py:698] end prefill all things req_id = 10432 group_req_id = 10432 at 08:52:03.849
INFO 10-06 08:52:03.850 [manager.py:698] end prefill all things req_id = 10624 group_req_id = 10624 at 08:52:03.849
INFO 10-06 08:52:03.850 [manager.py:701] all take 94.113
INFO 10-06 08:52:03.862 [impl.py:39] after adding new req, max_size: 56267
INFO 10-06 08:52:03.862 [impl.py:39] after adding new req, max_size: 61246
INFO 10-06 08:52:03.863 [impl.py:39] after adding new req, max_size: 62499
INFO 10-06 08:52:03.863 [impl.py:39] after adding new req, max_size: 64948
INFO 10-06 08:52:03.863 [impl.py:39] after adding new req, max_size: 67623
INFO 10-06 08:52:03.863 [impl.py:39] after adding new req, max_size: 72415
INFO 10-06 08:52:03.863 [impl.py:39] after adding new req, max_size: 73713
INFO 10-06 08:52:03.863 [impl.py:39] after adding new req, max_size: 75453
INFO 10-06 08:52:03.863 [impl.py:39] after adding new req, max_size: 82587
INFO 10-06 08:52:03.863 [impl.py:39] after adding new req, max_size: 83124
INFO 10-06 08:52:03.863 [impl.py:39] after adding new req, max_size: 83608
INFO 10-06 08:52:03.863 [manager.py:668] start prefill req_id = 10816 group_req_id = 10816 at 08:52:03.863
INFO 10-06 08:52:03.863 [manager.py:668] start prefill req_id = 11008 group_req_id = 11008 at 08:52:03.863
INFO 10-06 08:52:03.863 [manager.py:668] start prefill req_id = 11200 group_req_id = 11200 at 08:52:03.863
INFO 10-06 08:52:03.863 [manager.py:668] start prefill req_id = 11392 group_req_id = 11392 at 08:52:03.863
INFO 10-06 08:52:03.863 [manager.py:668] start prefill req_id = 11584 group_req_id = 11584 at 08:52:03.863
INFO 10-06 08:52:03.863 [manager.py:668] start prefill req_id = 11776 group_req_id = 11776 at 08:52:03.863
INFO 10-06 08:52:03.863 [manager.py:668] start prefill req_id = 11968 group_req_id = 11968 at 08:52:03.863
INFO 10-06 08:52:03.863 [manager.py:668] start prefill req_id = 12160 group_req_id = 12160 at 08:52:03.863
INFO 10-06 08:52:03.863 [manager.py:668] start prefill req_id = 12352 group_req_id = 12352 at 08:52:03.863
INFO 10-06 08:52:03.863 [manager.py:668] start prefill req_id = 12544 group_req_id = 12544 at 08:52:03.863
INFO 10-06 08:52:03.863 [manager.py:619] requst decode for req_ids=[10816, 11008, 11200, 11392, 11584, 11776, 11968, 12160, 12352, 12544] which needs 84467 tokens
INFO 10-06 08:52:10.397 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:52:19.411 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:52:32.325 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:52:41.361 [manager.py:64] MEASURE request_for_decode_scheduler cost 37.497478723526 s
INFO 10-06 08:52:41.367 [manager.py:64] MEASURE init_batch cost 0.005937099456787109 s
INFO 10-06 08:52:41.372 [manager.py:708] send req_ids = [10816, 11008, 11200, 11392, 11584, 11776, 11968, 12160, 12352, 12544] to decode scheduler
INFO 10-06 08:52:55.293 [manager.py:64] MEASURE prefill_batch cost 13.431227445602417 s
INFO 10-06 08:52:55.293 [manager.py:689] end prefill req_id = 10816 group_req_id = 10816 at 08:52:55.293
INFO 10-06 08:52:55.293 [manager.py:689] end prefill req_id = 11008 group_req_id = 11008 at 08:52:55.293
INFO 10-06 08:52:55.293 [manager.py:689] end prefill req_id = 11200 group_req_id = 11200 at 08:52:55.293
INFO 10-06 08:52:55.293 [manager.py:689] end prefill req_id = 11392 group_req_id = 11392 at 08:52:55.293
INFO 10-06 08:52:55.293 [manager.py:689] end prefill req_id = 11584 group_req_id = 11584 at 08:52:55.293
INFO 10-06 08:52:55.293 [manager.py:689] end prefill req_id = 11776 group_req_id = 11776 at 08:52:55.293
INFO 10-06 08:52:55.293 [manager.py:689] end prefill req_id = 11968 group_req_id = 11968 at 08:52:55.293
INFO 10-06 08:52:55.293 [manager.py:689] end prefill req_id = 12160 group_req_id = 12160 at 08:52:55.293
INFO 10-06 08:52:55.293 [manager.py:689] end prefill req_id = 12352 group_req_id = 12352 at 08:52:55.293
INFO 10-06 08:52:55.293 [manager.py:689] end prefill req_id = 12544 group_req_id = 12544 at 08:52:55.293
INFO 10-06 08:52:55.506 [manager.py:698] end prefill all things req_id = 10816 group_req_id = 10816 at 08:52:55.505
INFO 10-06 08:52:55.506 [manager.py:698] end prefill all things req_id = 11008 group_req_id = 11008 at 08:52:55.505
INFO 10-06 08:52:55.506 [manager.py:698] end prefill all things req_id = 11200 group_req_id = 11200 at 08:52:55.505
INFO 10-06 08:52:55.506 [manager.py:698] end prefill all things req_id = 11392 group_req_id = 11392 at 08:52:55.505
INFO 10-06 08:52:55.506 [manager.py:698] end prefill all things req_id = 11584 group_req_id = 11584 at 08:52:55.505
INFO 10-06 08:52:55.506 [manager.py:698] end prefill all things req_id = 11776 group_req_id = 11776 at 08:52:55.505
INFO 10-06 08:52:55.506 [manager.py:698] end prefill all things req_id = 11968 group_req_id = 11968 at 08:52:55.505
INFO 10-06 08:52:55.506 [manager.py:698] end prefill all things req_id = 12160 group_req_id = 12160 at 08:52:55.505
INFO 10-06 08:52:55.506 [manager.py:698] end prefill all things req_id = 12352 group_req_id = 12352 at 08:52:55.505
INFO 10-06 08:52:55.506 [manager.py:698] end prefill all things req_id = 12544 group_req_id = 12544 at 08:52:55.505
INFO 10-06 08:52:55.506 [manager.py:701] all take 51.642
INFO 10-06 08:52:55.518 [impl.py:39] after adding new req, max_size: 621
INFO 10-06 08:52:55.518 [impl.py:39] after adding new req, max_size: 2543
INFO 10-06 08:52:55.518 [impl.py:39] after adding new req, max_size: 4598
INFO 10-06 08:52:55.518 [impl.py:39] after adding new req, max_size: 5795
INFO 10-06 08:52:55.518 [impl.py:39] after adding new req, max_size: 8123
INFO 10-06 08:52:55.518 [impl.py:39] after adding new req, max_size: 9758
INFO 10-06 08:52:55.518 [impl.py:39] after adding new req, max_size: 10905
INFO 10-06 08:52:55.518 [impl.py:39] after adding new req, max_size: 12445
INFO 10-06 08:52:55.518 [impl.py:39] after adding new req, max_size: 69557
INFO 10-06 08:52:55.518 [impl.py:39] after adding new req, max_size: 181826
INFO 10-06 08:52:55.518 [manager.py:668] start prefill req_id = 12736 group_req_id = 12736 at 08:52:55.518
INFO 10-06 08:52:55.518 [manager.py:668] start prefill req_id = 12928 group_req_id = 12928 at 08:52:55.518
INFO 10-06 08:52:55.518 [manager.py:668] start prefill req_id = 13120 group_req_id = 13120 at 08:52:55.518
INFO 10-06 08:52:55.518 [manager.py:668] start prefill req_id = 13312 group_req_id = 13312 at 08:52:55.518
INFO 10-06 08:52:55.518 [manager.py:668] start prefill req_id = 13504 group_req_id = 13504 at 08:52:55.518
INFO 10-06 08:52:55.519 [manager.py:668] start prefill req_id = 13696 group_req_id = 13696 at 08:52:55.518
INFO 10-06 08:52:55.519 [manager.py:668] start prefill req_id = 13888 group_req_id = 13888 at 08:52:55.518
INFO 10-06 08:52:55.519 [manager.py:668] start prefill req_id = 14080 group_req_id = 14080 at 08:52:55.518
INFO 10-06 08:52:55.519 [manager.py:668] start prefill req_id = 14272 group_req_id = 14272 at 08:52:55.518
INFO 10-06 08:52:55.519 [manager.py:619] requst decode for req_ids=[12736, 12928, 13120, 13312, 13504, 13696, 13888, 14080, 14272] which needs 70757 tokens
INFO 10-06 08:53:05.471 [manager.py:64] MEASURE request_for_decode_scheduler cost 9.952393293380737 s
INFO 10-06 08:53:05.476 [manager.py:64] MEASURE init_batch cost 0.005178928375244141 s
INFO 10-06 08:53:05.481 [manager.py:708] send req_ids = [12736, 12928, 13120, 13312, 13504, 13696, 13888, 14080, 14272] to decode scheduler
INFO 10-06 08:53:18.369 [manager.py:64] MEASURE prefill_batch cost 12.556617259979248 s
INFO 10-06 08:53:18.370 [manager.py:689] end prefill req_id = 12736 group_req_id = 12736 at 08:53:18.370
INFO 10-06 08:53:18.370 [manager.py:689] end prefill req_id = 12928 group_req_id = 12928 at 08:53:18.370
INFO 10-06 08:53:18.370 [manager.py:689] end prefill req_id = 13120 group_req_id = 13120 at 08:53:18.370
INFO 10-06 08:53:18.370 [manager.py:689] end prefill req_id = 13312 group_req_id = 13312 at 08:53:18.370
INFO 10-06 08:53:18.370 [manager.py:689] end prefill req_id = 13504 group_req_id = 13504 at 08:53:18.370
INFO 10-06 08:53:18.370 [manager.py:689] end prefill req_id = 13696 group_req_id = 13696 at 08:53:18.370
INFO 10-06 08:53:18.370 [manager.py:689] end prefill req_id = 13888 group_req_id = 13888 at 08:53:18.370
INFO 10-06 08:53:18.370 [manager.py:689] end prefill req_id = 14080 group_req_id = 14080 at 08:53:18.370
INFO 10-06 08:53:18.370 [manager.py:689] end prefill req_id = 14272 group_req_id = 14272 at 08:53:18.370
INFO 10-06 08:53:18.371 [manager.py:698] end prefill all things req_id = 12736 group_req_id = 12736 at 08:53:18.371
INFO 10-06 08:53:18.371 [manager.py:698] end prefill all things req_id = 12928 group_req_id = 12928 at 08:53:18.371
INFO 10-06 08:53:18.371 [manager.py:698] end prefill all things req_id = 13120 group_req_id = 13120 at 08:53:18.371
INFO 10-06 08:53:18.371 [manager.py:698] end prefill all things req_id = 13312 group_req_id = 13312 at 08:53:18.371
INFO 10-06 08:53:18.371 [manager.py:698] end prefill all things req_id = 13504 group_req_id = 13504 at 08:53:18.371
INFO 10-06 08:53:18.371 [manager.py:698] end prefill all things req_id = 13696 group_req_id = 13696 at 08:53:18.371
INFO 10-06 08:53:18.371 [manager.py:698] end prefill all things req_id = 13888 group_req_id = 13888 at 08:53:18.371
INFO 10-06 08:53:18.371 [manager.py:698] end prefill all things req_id = 14080 group_req_id = 14080 at 08:53:18.371
INFO 10-06 08:53:18.371 [manager.py:698] end prefill all things req_id = 14272 group_req_id = 14272 at 08:53:18.371
INFO 10-06 08:53:18.371 [manager.py:701] all take 22.853
INFO 10-06 08:53:18.383 [impl.py:39] after adding new req, max_size: 112290
INFO 10-06 08:53:18.383 [impl.py:39] after adding new req, max_size: 113535
INFO 10-06 08:53:18.383 [impl.py:39] after adding new req, max_size: 114015
INFO 10-06 08:53:18.383 [impl.py:39] after adding new req, max_size: 117943
INFO 10-06 08:53:18.383 [impl.py:39] after adding new req, max_size: 118809
INFO 10-06 08:53:18.383 [manager.py:668] start prefill req_id = 14464 group_req_id = 14464 at 08:53:18.383
INFO 10-06 08:53:18.383 [manager.py:668] start prefill req_id = 14656 group_req_id = 14656 at 08:53:18.383
INFO 10-06 08:53:18.383 [manager.py:668] start prefill req_id = 14848 group_req_id = 14848 at 08:53:18.383
INFO 10-06 08:53:18.383 [manager.py:668] start prefill req_id = 15040 group_req_id = 15040 at 08:53:18.383
INFO 10-06 08:53:18.383 [manager.py:668] start prefill req_id = 15232 group_req_id = 15232 at 08:53:18.383
INFO 10-06 08:53:18.383 [manager.py:619] requst decode for req_ids=[14464, 14656, 14848, 15040, 15232] which needs 119008 tokens
INFO 10-06 08:53:23.561 [manager.py:64] MEASURE request_for_decode_scheduler cost 5.17728590965271 s
INFO 10-06 08:53:23.569 [manager.py:64] MEASURE init_batch cost 0.008477449417114258 s
INFO 10-06 08:53:23.577 [manager.py:708] send req_ids = [14464, 14656, 14848, 15040, 15232] to decode scheduler
INFO 10-06 08:54:02.061 [manager.py:64] MEASURE prefill_batch cost 38.482829093933105 s
INFO 10-06 08:54:02.062 [manager.py:689] end prefill req_id = 14464 group_req_id = 14464 at 08:54:02.062
INFO 10-06 08:54:02.062 [manager.py:689] end prefill req_id = 14656 group_req_id = 14656 at 08:54:02.062
INFO 10-06 08:54:02.062 [manager.py:689] end prefill req_id = 14848 group_req_id = 14848 at 08:54:02.062
INFO 10-06 08:54:02.062 [manager.py:689] end prefill req_id = 15040 group_req_id = 15040 at 08:54:02.062
INFO 10-06 08:54:02.062 [manager.py:689] end prefill req_id = 15232 group_req_id = 15232 at 08:54:02.062
INFO 10-06 08:54:02.063 [manager.py:698] end prefill all things req_id = 14464 group_req_id = 14464 at 08:54:02.063
INFO 10-06 08:54:02.063 [manager.py:698] end prefill all things req_id = 14656 group_req_id = 14656 at 08:54:02.063
INFO 10-06 08:54:02.063 [manager.py:698] end prefill all things req_id = 14848 group_req_id = 14848 at 08:54:02.063
INFO 10-06 08:54:02.063 [manager.py:698] end prefill all things req_id = 15040 group_req_id = 15040 at 08:54:02.063
INFO 10-06 08:54:02.063 [manager.py:698] end prefill all things req_id = 15232 group_req_id = 15232 at 08:54:02.063
INFO 10-06 08:54:02.063 [manager.py:701] all take 43.68
INFO 10-06 08:55:11.234 [manager.py:565] the req info
INFO 10-06 08:55:11.234 [manager.py:565]  {64: ['08:30:44.690', '08:30:45.139'], 256: ['08:30:46.424', '08:30:47.417'], 448: ['08:30:46.432', '08:30:47.417'], 640: ['08:30:46.545', '08:31:52.375'], 832: ['08:30:46.668', '08:31:52.375'], 1024: ['08:30:46.780', '08:31:52.375'], 1216: ['08:30:46.953', '08:31:52.375'], 1408: ['08:30:51.411', '08:32:40.428'], 1600: ['08:30:54.583', '08:32:40.428'], 1792: ['08:30:54.678', '08:32:40.428'], 1984: ['08:30:54.775', '08:32:40.428'], 2176: ['08:30:55.589', '08:32:40.428'], 2368: ['08:30:55.885', '08:32:40.428'], 2560: ['08:30:55.962', '08:32:40.428'], 2752: ['08:30:56.418', '08:32:55.980'], 2944: ['08:30:56.547', '08:32:55.980'], 3136: ['08:30:56.713', '08:32:55.980'], 3328: ['08:31:52.378', '08:32:55.980'], 3520: ['08:31:52.865', '08:32:55.980'], 3712: ['08:31:52.867', '08:32:55.980'], 3904: ['08:31:52.886', '08:32:55.980'], 4096: ['08:31:52.900', '08:32:55.980'], 4288: ['08:31:52.939', '08:46:30.846'], 4480: ['08:31:52.941', '08:46:30.846'], 4672: ['08:31:52.941', '08:46:30.846'], 4864: ['08:31:52.942', '08:46:30.846'], 5056: ['08:31:52.942', '08:46:30.846'], 5248: ['08:31:52.981', '08:46:30.846'], 5440: ['08:31:52.982', '08:46:30.846'], 5632: ['08:31:52.982', '08:46:30.846'], 5824: ['08:31:52.986', '08:46:30.846'], 6016: ['08:31:52.987', '08:46:30.846'], 6208: ['08:31:52.988', '08:49:37.053'], 6400: ['08:31:53.065', '08:49:37.053'], 6592: ['08:31:53.066', '08:49:37.053'], 6784: ['08:31:53.067', '08:49:37.053'], 6976: ['08:31:53.067', '08:49:37.053'], 7168: ['08:31:53.071', '08:49:37.053'], 7360: ['08:31:53.080', '08:49:37.053'], 7552: ['08:31:53.082', '08:49:37.053'], 7744: ['08:31:53.091', '08:50:22.217'], 7936: ['08:31:53.094', '08:50:22.217'], 8128: ['08:31:53.095', '08:50:22.217'], 8320: ['08:31:53.096', '08:50:22.217'], 8512: ['08:31:53.114', '08:50:22.217'], 8704: ['08:31:53.115', '08:50:22.217'], 8896: ['08:31:53.117', '08:50:22.217'], 9088: ['08:31:53.119', '08:50:22.217'], 9280: ['08:31:53.119', '08:50:22.217'], 9472: ['08:31:53.120', '08:50:22.217'], 9664: ['08:31:53.125', '08:51:37.223'], 9856: ['08:31:53.138', '08:51:37.223'], 10048: ['08:31:53.141', '08:51:37.223'], 10240: ['08:31:53.169', '08:51:37.223'], 10432: ['08:31:53.170', '08:51:37.223'], 10624: ['08:31:53.220', '08:51:37.223'], 10816: ['08:31:53.258', '08:52:41.861'], 11008: ['08:31:53.262', '08:52:41.861'], 11200: ['08:31:53.263', '08:52:41.861'], 11392: ['08:31:53.264', '08:52:41.861'], 11584: ['08:31:53.266', '08:52:41.861'], 11776: ['08:31:53.269', '08:52:41.861'], 11968: ['08:31:53.270', '08:52:41.861'], 12160: ['08:31:53.271', '08:52:41.861'], 12352: ['08:31:53.276', '08:52:41.861'], 12544: ['08:31:53.277', '08:52:41.861'], 12736: ['08:31:53.277', '08:53:05.813'], 12928: ['08:31:53.676', '08:53:05.813'], 13120: ['08:31:53.839', '08:53:05.813'], 13312: ['08:31:54.012', '08:53:05.813'], 13504: ['08:31:54.963', '08:53:05.813'], 13696: ['08:31:55.163', '08:53:05.813'], 13888: ['08:31:55.308', '08:53:05.813'], 14080: ['08:31:55.404', '08:53:05.813'], 14272: ['08:31:56.302', '08:53:05.813'], 14464: ['08:32:03.362', '08:53:23.578'], 14656: ['08:32:04.411', '08:53:23.578'], 14848: ['08:32:04.493', '08:53:23.578'], 15040: ['08:32:04.586', '08:53:23.578'], 15232: ['08:32:05.476', '08:53:23.578']}
INFO 10-06 08:58:32.625 [manager.py:565] the req info
INFO 10-06 08:58:32.625 [manager.py:565]  {64: ['08:30:44.690', '08:30:45.139'], 256: ['08:30:46.424', '08:30:47.417'], 448: ['08:30:46.432', '08:30:47.417'], 640: ['08:30:46.545', '08:31:52.375'], 832: ['08:30:46.668', '08:31:52.375'], 1024: ['08:30:46.780', '08:31:52.375'], 1216: ['08:30:46.953', '08:31:52.375'], 1408: ['08:30:51.411', '08:32:40.428'], 1600: ['08:30:54.583', '08:32:40.428'], 1792: ['08:30:54.678', '08:32:40.428'], 1984: ['08:30:54.775', '08:32:40.428'], 2176: ['08:30:55.589', '08:32:40.428'], 2368: ['08:30:55.885', '08:32:40.428'], 2560: ['08:30:55.962', '08:32:40.428'], 2752: ['08:30:56.418', '08:32:55.980'], 2944: ['08:30:56.547', '08:32:55.980'], 3136: ['08:30:56.713', '08:32:55.980'], 3328: ['08:31:52.378', '08:32:55.980'], 3520: ['08:31:52.865', '08:32:55.980'], 3712: ['08:31:52.867', '08:32:55.980'], 3904: ['08:31:52.886', '08:32:55.980'], 4096: ['08:31:52.900', '08:32:55.980'], 4288: ['08:31:52.939', '08:46:30.846'], 4480: ['08:31:52.941', '08:46:30.846'], 4672: ['08:31:52.941', '08:46:30.846'], 4864: ['08:31:52.942', '08:46:30.846'], 5056: ['08:31:52.942', '08:46:30.846'], 5248: ['08:31:52.981', '08:46:30.846'], 5440: ['08:31:52.982', '08:46:30.846'], 5632: ['08:31:52.982', '08:46:30.846'], 5824: ['08:31:52.986', '08:46:30.846'], 6016: ['08:31:52.987', '08:46:30.846'], 6208: ['08:31:52.988', '08:49:37.053'], 6400: ['08:31:53.065', '08:49:37.053'], 6592: ['08:31:53.066', '08:49:37.053'], 6784: ['08:31:53.067', '08:49:37.053'], 6976: ['08:31:53.067', '08:49:37.053'], 7168: ['08:31:53.071', '08:49:37.053'], 7360: ['08:31:53.080', '08:49:37.053'], 7552: ['08:31:53.082', '08:49:37.053'], 7744: ['08:31:53.091', '08:50:22.217'], 7936: ['08:31:53.094', '08:50:22.217'], 8128: ['08:31:53.095', '08:50:22.217'], 8320: ['08:31:53.096', '08:50:22.217'], 8512: ['08:31:53.114', '08:50:22.217'], 8704: ['08:31:53.115', '08:50:22.217'], 8896: ['08:31:53.117', '08:50:22.217'], 9088: ['08:31:53.119', '08:50:22.217'], 9280: ['08:31:53.119', '08:50:22.217'], 9472: ['08:31:53.120', '08:50:22.217'], 9664: ['08:31:53.125', '08:51:37.223'], 9856: ['08:31:53.138', '08:51:37.223'], 10048: ['08:31:53.141', '08:51:37.223'], 10240: ['08:31:53.169', '08:51:37.223'], 10432: ['08:31:53.170', '08:51:37.223'], 10624: ['08:31:53.220', '08:51:37.223'], 10816: ['08:31:53.258', '08:52:41.861'], 11008: ['08:31:53.262', '08:52:41.861'], 11200: ['08:31:53.263', '08:52:41.861'], 11392: ['08:31:53.264', '08:52:41.861'], 11584: ['08:31:53.266', '08:52:41.861'], 11776: ['08:31:53.269', '08:52:41.861'], 11968: ['08:31:53.270', '08:52:41.861'], 12160: ['08:31:53.271', '08:52:41.861'], 12352: ['08:31:53.276', '08:52:41.861'], 12544: ['08:31:53.277', '08:52:41.861'], 12736: ['08:31:53.277', '08:53:05.813'], 12928: ['08:31:53.676', '08:53:05.813'], 13120: ['08:31:53.839', '08:53:05.813'], 13312: ['08:31:54.012', '08:53:05.813'], 13504: ['08:31:54.963', '08:53:05.813'], 13696: ['08:31:55.163', '08:53:05.813'], 13888: ['08:31:55.308', '08:53:05.813'], 14080: ['08:31:55.404', '08:53:05.813'], 14272: ['08:31:56.302', '08:53:05.813'], 14464: ['08:32:03.362', '08:53:23.578'], 14656: ['08:32:04.411', '08:53:23.578'], 14848: ['08:32:04.493', '08:53:23.578'], 15040: ['08:32:04.586', '08:53:23.578'], 15232: ['08:32:05.476', '08:53:23.578']}
/opt/conda/lib/python3.9/multiprocessing/resource_tracker.py:216: UserWarning: resource_tracker: There appear to be 2 leaked shared_memory objects to clean up at shutdown
  warnings.warn('resource_tracker: There appear to be %d '
