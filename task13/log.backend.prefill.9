app-vzucgzpq-848bb9b8b7-7nzhc 10.119.22.19 9
Executing command: python -m lightllm.server.backend_pord_server --model_dir /data/basemodel/llama3.1/Meta-Llama-3.1-8B/ --max_req_total_len 140000 --max_req_input_len 135000 --max_total_token_num 320000 --parameter_cache /data/fanyunqian/ela-1004/ela-1004param_cache/8b_tp1/ --host 10.119.22.19 --tp 1 --nccl_ip 10.119.22.36 --nccl_port 9999 --local_instance_num 8 --instance_id 9 --instance_num 32 --router_socket 10.119.22.19:13140 --detokenization_socket 10.119.22.36:31180 --dist_mode prefill --socket_server_addr_port 10.119.22.19:19140 --running_max_req_size 10 --batch_max_tokens 140010 --decode_scheduler_url 10.119.22.36:28000
INFO 10-06 08:24:48.590 [backend_pord_server.py:167] pord server args: Namespace(host='10.119.22.19', port=8000, model_dir='/data/basemodel/llama3.1/Meta-Llama-3.1-8B/', tokenizer_mode='slow', load_way='HF', max_total_token_num=320000, batch_max_tokens=140010, eos_id=[2], running_max_req_size=10, tp=1, instance_id=9, local_instance_num=8, instance_num=32, max_req_input_len=135000, max_req_total_len=140000, nccl_ip='10.119.22.36', nccl_port=9999, mode=[], trust_remote_code=False, disable_log_stats=False, log_stats_interval=10, router_token_ratio=0.0, router_max_new_token_len=1024, router_max_wait_tokens=10, use_dynamic_prompt_cache=False, splitfuse_block_size=256, splitfuse_mode=False, beam_mode=False, diverse_mode=False, token_healing_mode=False, enable_multimodal=False, cache_capacity=200, cache_reserved_ratio=0.5, data_type='float16', return_all_prompt_logprobs=False, long_truncation_mode=None, use_tgi_api=False, health_monitor=False, node_gpu_count=8, dist_mode='prefill', decode_scheduler_url='10.119.22.36:28000', decode_scheduler_socket=None, detokenization_socket='10.119.22.36:31180', router_socket='10.119.22.19:13140', socket_server_addr_port='10.119.22.19:19140', parameter_cache='/data/fanyunqian/ela-1004/ela-1004param_cache/8b_tp1/')
INFO 10-06 08:24:52.446 [manager.py:1171] start router process with prefill 10.119.22.19:13140 10.119.22.36:31180 [10009]
create shm 9999_9_mem_manger_can_use_token_num
create shm 9999_9_shared_token_load
INFO 10-06 08:28:15.164 [manager.py:147] router (pull) bind to 10.119.22.19:13140
INFO 10-06 08:28:15.164 [manager.py:151] router (push) connect to 10.119.22.36:31180
INFO 10-06 08:28:15.165 [model_rpc.py:42] use ContinuesBatchBackend
INFO 10-06 08:28:27.142 [dist.py:51] pid=110582 global rank = 9 / 32, reduce group: start=9, end=10, gpu idx = 1
INFO 10-06 08:28:29.678 [basemodel.py:156] load weights from parameter cache
INFO 10-06 08:28:31.717 [mem_utils.py:11] mode setting params: []
INFO 10-06 08:28:31.717 [mem_utils.py:23] Model kv cache using mode normal
INFO 10-06 08:28:31.735 [mem_manager.py:57] mem manger get unique_name : 9999_9
link shm 9999_9_mem_manger_can_use_token_num
INFO 10-06 08:28:32.652 [base_backend.py:261] loaded model class <class 'lightllm.models.llama.model.LlamaTpPartModel'>
INFO 10-06 08:28:32.652 [manager.py:421] use req queue ContinuesBatchQueue
INFO 10-06 08:28:32.653 [dist.py:57] re-set device to 1
INFO 10-06 08:28:32.653 [start_utils.py:29] init func start_router_process : init ok
INFO 10-06 08:28:32.654 [dist.py:57] re-set device to 1
INFO 10-06 08:28:32.655 [manager.py:370] start socket server at 10.119.22.19:19140
INFO 10-06 08:30:44.681 [impl.py:39] after adding new req, max_size: 4699
INFO 10-06 08:30:44.681 [manager.py:668] start prefill req_id = 56 group_req_id = 56 at 08:30:44.681
INFO 10-06 08:30:44.681 [manager.py:619] requst decode for req_ids=[56] which needs 4700 tokens
INFO 10-06 08:30:44.688 [manager.py:64] MEASURE request_for_decode_scheduler cost 0.007140159606933594 s
INFO 10-06 08:30:44.707 [manager.py:64] MEASURE init_batch cost 0.018930435180664062 s
INFO 10-06 08:30:44.708 [manager.py:708] send req_ids = [56] to decode scheduler
/data/fanyunqian/ela-1004/ela-1004distkv/lightllm/lightllm/common/mem_manager.py:353: UserWarning: To copy construct from a tensor, it is recommended to use sourceTensor.clone().detach() or sourceTensor.clone().detach().requires_grad_(True), rather than torch.tensor(sourceTensor).
  self.layer_cnt[p2p_idx][1] = torch.tensor(prefill_tokens, dtype=torch.int32, device='cuda')
INFO 10-06 08:30:46.894 [manager.py:64] MEASURE prefill_batch cost 1.753594160079956 s
INFO 10-06 08:30:46.894 [manager.py:689] end prefill req_id = 56 group_req_id = 56 at 08:30:46.894
INFO 10-06 08:30:46.909 [manager.py:698] end prefill all things req_id = 56 group_req_id = 56 at 08:30:46.909
INFO 10-06 08:30:46.910 [manager.py:701] all take 2.228
INFO 10-06 08:30:46.921 [impl.py:39] after adding new req, max_size: 9005
INFO 10-06 08:30:46.921 [impl.py:39] after adding new req, max_size: 10635
INFO 10-06 08:30:46.921 [impl.py:39] after adding new req, max_size: 13406
INFO 10-06 08:30:46.921 [impl.py:39] after adding new req, max_size: 14542
INFO 10-06 08:30:46.921 [impl.py:39] after adding new req, max_size: 16071
INFO 10-06 08:30:46.922 [manager.py:668] start prefill req_id = 248 group_req_id = 248 at 08:30:46.922
INFO 10-06 08:30:46.922 [manager.py:668] start prefill req_id = 440 group_req_id = 440 at 08:30:46.922
INFO 10-06 08:30:46.922 [manager.py:668] start prefill req_id = 632 group_req_id = 632 at 08:30:46.922
INFO 10-06 08:30:46.922 [manager.py:668] start prefill req_id = 824 group_req_id = 824 at 08:30:46.922
INFO 10-06 08:30:46.922 [manager.py:668] start prefill req_id = 1016 group_req_id = 1016 at 08:30:46.922
INFO 10-06 08:30:46.922 [manager.py:619] requst decode for req_ids=[248, 440, 632, 824, 1016] which needs 16652 tokens
INFO 10-06 08:30:51.428 [manager.py:64] MEASURE request_for_decode_scheduler cost 4.506451368331909 s
INFO 10-06 08:30:51.430 [manager.py:64] MEASURE init_batch cost 0.0016560554504394531 s
INFO 10-06 08:30:51.431 [manager.py:708] send req_ids = [248, 440, 632, 824, 1016] to decode scheduler
INFO 10-06 08:30:58.200 [manager.py:64] MEASURE prefill_batch cost 1.8095943927764893 s
INFO 10-06 08:30:58.201 [manager.py:689] end prefill req_id = 248 group_req_id = 248 at 08:30:58.200
INFO 10-06 08:30:58.201 [manager.py:689] end prefill req_id = 440 group_req_id = 440 at 08:30:58.200
INFO 10-06 08:30:58.201 [manager.py:689] end prefill req_id = 632 group_req_id = 632 at 08:30:58.200
INFO 10-06 08:30:58.201 [manager.py:689] end prefill req_id = 824 group_req_id = 824 at 08:30:58.200
INFO 10-06 08:30:58.201 [manager.py:689] end prefill req_id = 1016 group_req_id = 1016 at 08:30:58.200
INFO 10-06 08:30:58.205 [manager.py:698] end prefill all things req_id = 248 group_req_id = 248 at 08:30:58.205
INFO 10-06 08:30:58.205 [manager.py:698] end prefill all things req_id = 440 group_req_id = 440 at 08:30:58.205
INFO 10-06 08:30:58.205 [manager.py:698] end prefill all things req_id = 632 group_req_id = 632 at 08:30:58.205
INFO 10-06 08:30:58.205 [manager.py:698] end prefill all things req_id = 824 group_req_id = 824 at 08:30:58.205
INFO 10-06 08:30:58.205 [manager.py:698] end prefill all things req_id = 1016 group_req_id = 1016 at 08:30:58.205
INFO 10-06 08:30:58.205 [manager.py:701] all take 11.283
INFO 10-06 08:30:58.221 [impl.py:39] after adding new req, max_size: 1927
INFO 10-06 08:30:58.221 [impl.py:39] after adding new req, max_size: 58904
INFO 10-06 08:30:58.221 [impl.py:39] after adding new req, max_size: 59535
INFO 10-06 08:30:58.221 [impl.py:39] after adding new req, max_size: 61735
INFO 10-06 08:30:58.222 [impl.py:39] after adding new req, max_size: 65328
INFO 10-06 08:30:58.222 [impl.py:39] after adding new req, max_size: 88936
INFO 10-06 08:30:58.222 [manager.py:668] start prefill req_id = 1208 group_req_id = 1208 at 08:30:58.222
INFO 10-06 08:30:58.222 [manager.py:668] start prefill req_id = 1400 group_req_id = 1400 at 08:30:58.222
INFO 10-06 08:30:58.222 [manager.py:668] start prefill req_id = 1592 group_req_id = 1592 at 08:30:58.222
INFO 10-06 08:30:58.222 [manager.py:668] start prefill req_id = 1784 group_req_id = 1784 at 08:30:58.222
INFO 10-06 08:30:58.222 [manager.py:668] start prefill req_id = 1976 group_req_id = 1976 at 08:30:58.222
INFO 10-06 08:30:58.222 [manager.py:668] start prefill req_id = 2168 group_req_id = 2168 at 08:30:58.222
INFO 10-06 08:30:58.222 [manager.py:619] requst decode for req_ids=[1208, 1400, 1592, 1784, 1976, 2168] which needs 89608 tokens
INFO 10-06 08:31:06.139 [manager.py:64] MEASURE request_for_decode_scheduler cost 7.91724157333374 s
INFO 10-06 08:31:06.145 [manager.py:64] MEASURE init_batch cost 0.006228446960449219 s
INFO 10-06 08:31:06.151 [manager.py:708] send req_ids = [1208, 1400, 1592, 1784, 1976, 2168] to decode scheduler
INFO 10-06 08:31:21.429 [manager.py:64] MEASURE prefill_batch cost 15.276802062988281 s
INFO 10-06 08:31:21.429 [manager.py:689] end prefill req_id = 1208 group_req_id = 1208 at 08:31:21.429
INFO 10-06 08:31:21.429 [manager.py:689] end prefill req_id = 1400 group_req_id = 1400 at 08:31:21.429
INFO 10-06 08:31:21.429 [manager.py:689] end prefill req_id = 1592 group_req_id = 1592 at 08:31:21.429
INFO 10-06 08:31:21.429 [manager.py:689] end prefill req_id = 1784 group_req_id = 1784 at 08:31:21.429
INFO 10-06 08:31:21.429 [manager.py:689] end prefill req_id = 1976 group_req_id = 1976 at 08:31:21.429
INFO 10-06 08:31:21.429 [manager.py:689] end prefill req_id = 2168 group_req_id = 2168 at 08:31:21.429
INFO 10-06 08:31:21.470 [manager.py:698] end prefill all things req_id = 1208 group_req_id = 1208 at 08:31:21.470
INFO 10-06 08:31:21.471 [manager.py:698] end prefill all things req_id = 1400 group_req_id = 1400 at 08:31:21.470
INFO 10-06 08:31:21.471 [manager.py:698] end prefill all things req_id = 1592 group_req_id = 1592 at 08:31:21.470
INFO 10-06 08:31:21.471 [manager.py:698] end prefill all things req_id = 1784 group_req_id = 1784 at 08:31:21.470
INFO 10-06 08:31:21.471 [manager.py:698] end prefill all things req_id = 1976 group_req_id = 1976 at 08:31:21.470
INFO 10-06 08:31:21.471 [manager.py:698] end prefill all things req_id = 2168 group_req_id = 2168 at 08:31:21.470
INFO 10-06 08:31:21.471 [manager.py:701] all take 23.248
INFO 10-06 08:31:21.488 [impl.py:39] after adding new req, max_size: 4377
INFO 10-06 08:31:21.488 [impl.py:39] after adding new req, max_size: 8317
INFO 10-06 08:31:21.488 [impl.py:39] after adding new req, max_size: 11114
INFO 10-06 08:31:21.488 [impl.py:39] after adding new req, max_size: 16976
INFO 10-06 08:31:21.488 [impl.py:39] after adding new req, max_size: 23484
INFO 10-06 08:31:21.488 [impl.py:39] after adding new req, max_size: 25059
INFO 10-06 08:31:21.488 [impl.py:39] after adding new req, max_size: 26976
INFO 10-06 08:31:21.488 [impl.py:39] after adding new req, max_size: 27837
INFO 10-06 08:31:21.488 [impl.py:39] after adding new req, max_size: 53278
INFO 10-06 08:31:21.488 [impl.py:39] after adding new req, max_size: 55403
INFO 10-06 08:31:21.488 [impl.py:39] after adding new req, max_size: 111811
INFO 10-06 08:31:21.489 [manager.py:668] start prefill req_id = 2360 group_req_id = 2360 at 08:31:21.489
INFO 10-06 08:31:21.489 [manager.py:668] start prefill req_id = 2552 group_req_id = 2552 at 08:31:21.489
INFO 10-06 08:31:21.489 [manager.py:668] start prefill req_id = 2744 group_req_id = 2744 at 08:31:21.489
INFO 10-06 08:31:21.489 [manager.py:668] start prefill req_id = 2936 group_req_id = 2936 at 08:31:21.489
INFO 10-06 08:31:21.489 [manager.py:668] start prefill req_id = 3128 group_req_id = 3128 at 08:31:21.489
INFO 10-06 08:31:21.489 [manager.py:668] start prefill req_id = 3320 group_req_id = 3320 at 08:31:21.489
INFO 10-06 08:31:21.489 [manager.py:668] start prefill req_id = 3512 group_req_id = 3512 at 08:31:21.489
INFO 10-06 08:31:21.489 [manager.py:668] start prefill req_id = 3704 group_req_id = 3704 at 08:31:21.489
INFO 10-06 08:31:21.489 [manager.py:668] start prefill req_id = 3896 group_req_id = 3896 at 08:31:21.489
INFO 10-06 08:31:21.489 [manager.py:668] start prefill req_id = 4088 group_req_id = 4088 at 08:31:21.489
INFO 10-06 08:31:21.489 [manager.py:619] requst decode for req_ids=[2360, 2552, 2744, 2936, 3128, 3320, 3512, 3704, 3896, 4088] which needs 56527 tokens
INFO 10-06 08:31:31.341 [manager.py:64] MEASURE request_for_decode_scheduler cost 9.852118968963623 s
INFO 10-06 08:31:31.346 [manager.py:64] MEASURE init_batch cost 0.004492759704589844 s
INFO 10-06 08:31:31.349 [manager.py:708] send req_ids = [2360, 2552, 2744, 2936, 3128, 3320, 3512, 3704, 3896, 4088] to decode scheduler
INFO 10-06 08:31:36.758 [manager.py:64] MEASURE prefill_batch cost 5.167953968048096 s
INFO 10-06 08:31:36.758 [manager.py:689] end prefill req_id = 2360 group_req_id = 2360 at 08:31:36.758
INFO 10-06 08:31:36.758 [manager.py:689] end prefill req_id = 2552 group_req_id = 2552 at 08:31:36.758
INFO 10-06 08:31:36.758 [manager.py:689] end prefill req_id = 2744 group_req_id = 2744 at 08:31:36.758
INFO 10-06 08:31:36.758 [manager.py:689] end prefill req_id = 2936 group_req_id = 2936 at 08:31:36.758
INFO 10-06 08:31:36.758 [manager.py:689] end prefill req_id = 3128 group_req_id = 3128 at 08:31:36.758
INFO 10-06 08:31:36.758 [manager.py:689] end prefill req_id = 3320 group_req_id = 3320 at 08:31:36.758
INFO 10-06 08:31:36.758 [manager.py:689] end prefill req_id = 3512 group_req_id = 3512 at 08:31:36.758
INFO 10-06 08:31:36.758 [manager.py:689] end prefill req_id = 3704 group_req_id = 3704 at 08:31:36.758
INFO 10-06 08:31:36.758 [manager.py:689] end prefill req_id = 3896 group_req_id = 3896 at 08:31:36.758
INFO 10-06 08:31:36.758 [manager.py:689] end prefill req_id = 4088 group_req_id = 4088 at 08:31:36.758
INFO 10-06 08:31:36.797 [manager.py:698] end prefill all things req_id = 2360 group_req_id = 2360 at 08:31:36.797
INFO 10-06 08:31:36.797 [manager.py:698] end prefill all things req_id = 2552 group_req_id = 2552 at 08:31:36.797
INFO 10-06 08:31:36.797 [manager.py:698] end prefill all things req_id = 2744 group_req_id = 2744 at 08:31:36.797
INFO 10-06 08:31:36.797 [manager.py:698] end prefill all things req_id = 2936 group_req_id = 2936 at 08:31:36.797
INFO 10-06 08:31:36.797 [manager.py:698] end prefill all things req_id = 3128 group_req_id = 3128 at 08:31:36.797
INFO 10-06 08:31:36.797 [manager.py:698] end prefill all things req_id = 3320 group_req_id = 3320 at 08:31:36.797
INFO 10-06 08:31:36.797 [manager.py:698] end prefill all things req_id = 3512 group_req_id = 3512 at 08:31:36.797
INFO 10-06 08:31:36.797 [manager.py:698] end prefill all things req_id = 3704 group_req_id = 3704 at 08:31:36.797
INFO 10-06 08:31:36.797 [manager.py:698] end prefill all things req_id = 3896 group_req_id = 3896 at 08:31:36.797
INFO 10-06 08:31:36.797 [manager.py:698] end prefill all things req_id = 4088 group_req_id = 4088 at 08:31:36.797
INFO 10-06 08:31:36.797 [manager.py:701] all take 15.308
INFO 10-06 08:31:36.808 [impl.py:39] after adding new req, max_size: 56718
INFO 10-06 08:31:36.808 [impl.py:39] after adding new req, max_size: 58835
INFO 10-06 08:31:36.808 [impl.py:39] after adding new req, max_size: 82352
INFO 10-06 08:31:36.808 [impl.py:39] after adding new req, max_size: 82838
INFO 10-06 08:31:36.808 [impl.py:39] after adding new req, max_size: 83485
INFO 10-06 08:31:36.808 [impl.py:39] after adding new req, max_size: 141961
INFO 10-06 08:31:36.809 [manager.py:668] start prefill req_id = 4280 group_req_id = 4280 at 08:31:36.809
INFO 10-06 08:31:36.809 [manager.py:668] start prefill req_id = 4472 group_req_id = 4472 at 08:31:36.809
INFO 10-06 08:31:36.809 [manager.py:668] start prefill req_id = 4664 group_req_id = 4664 at 08:31:36.809
INFO 10-06 08:31:36.809 [manager.py:668] start prefill req_id = 4856 group_req_id = 4856 at 08:31:36.809
INFO 10-06 08:31:36.809 [manager.py:668] start prefill req_id = 5048 group_req_id = 5048 at 08:31:36.809
INFO 10-06 08:31:36.809 [manager.py:619] requst decode for req_ids=[4280, 4472, 4664, 4856, 5048] which needs 84043 tokens
INFO 10-06 08:31:44.229 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:31:55.327 [manager.py:64] MEASURE request_for_decode_scheduler cost 18.51783847808838 s
INFO 10-06 08:31:55.333 [manager.py:64] MEASURE init_batch cost 0.005991935729980469 s
INFO 10-06 08:31:55.338 [manager.py:708] send req_ids = [4280, 4472, 4664, 4856, 5048] to decode scheduler
INFO 10-06 08:32:14.935 [manager.py:64] MEASURE prefill_batch cost 14.523874998092651 s
INFO 10-06 08:32:14.935 [manager.py:689] end prefill req_id = 4280 group_req_id = 4280 at 08:32:14.935
INFO 10-06 08:32:14.935 [manager.py:689] end prefill req_id = 4472 group_req_id = 4472 at 08:32:14.935
INFO 10-06 08:32:14.935 [manager.py:689] end prefill req_id = 4664 group_req_id = 4664 at 08:32:14.935
INFO 10-06 08:32:14.935 [manager.py:689] end prefill req_id = 4856 group_req_id = 4856 at 08:32:14.935
INFO 10-06 08:32:14.935 [manager.py:689] end prefill req_id = 5048 group_req_id = 5048 at 08:32:14.935
INFO 10-06 08:32:15.016 [manager.py:698] end prefill all things req_id = 4280 group_req_id = 4280 at 08:32:15.016
INFO 10-06 08:32:15.016 [manager.py:698] end prefill all things req_id = 4472 group_req_id = 4472 at 08:32:15.016
INFO 10-06 08:32:15.016 [manager.py:698] end prefill all things req_id = 4664 group_req_id = 4664 at 08:32:15.016
INFO 10-06 08:32:15.016 [manager.py:698] end prefill all things req_id = 4856 group_req_id = 4856 at 08:32:15.016
INFO 10-06 08:32:15.016 [manager.py:698] end prefill all things req_id = 5048 group_req_id = 5048 at 08:32:15.016
INFO 10-06 08:32:15.016 [manager.py:701] all take 38.207
INFO 10-06 08:32:15.030 [impl.py:39] after adding new req, max_size: 58662
INFO 10-06 08:32:15.031 [impl.py:39] after adding new req, max_size: 59446
INFO 10-06 08:32:15.031 [impl.py:39] after adding new req, max_size: 59787
INFO 10-06 08:32:15.031 [impl.py:39] after adding new req, max_size: 67211
INFO 10-06 08:32:15.031 [impl.py:39] after adding new req, max_size: 68746
INFO 10-06 08:32:15.031 [impl.py:39] after adding new req, max_size: 70065
INFO 10-06 08:32:15.031 [impl.py:39] after adding new req, max_size: 182288
INFO 10-06 08:32:15.031 [manager.py:668] start prefill req_id = 5240 group_req_id = 5240 at 08:32:15.031
INFO 10-06 08:32:15.031 [manager.py:668] start prefill req_id = 5432 group_req_id = 5432 at 08:32:15.031
INFO 10-06 08:32:15.031 [manager.py:668] start prefill req_id = 5624 group_req_id = 5624 at 08:32:15.031
INFO 10-06 08:32:15.031 [manager.py:668] start prefill req_id = 5816 group_req_id = 5816 at 08:32:15.031
INFO 10-06 08:32:15.031 [manager.py:668] start prefill req_id = 6008 group_req_id = 6008 at 08:32:15.031
INFO 10-06 08:32:15.031 [manager.py:668] start prefill req_id = 6200 group_req_id = 6200 at 08:32:15.031
INFO 10-06 08:32:15.031 [manager.py:619] requst decode for req_ids=[5240, 5432, 5624, 5816, 6008, 6200] which needs 70903 tokens
INFO 10-06 08:32:29.408 [manager.py:64] MEASURE request_for_decode_scheduler cost 14.376823663711548 s
INFO 10-06 08:32:29.413 [manager.py:64] MEASURE init_batch cost 0.005160808563232422 s
INFO 10-06 08:32:29.418 [manager.py:708] send req_ids = [5240, 5432, 5624, 5816, 6008, 6200] to decode scheduler
INFO 10-06 08:32:42.483 [manager.py:64] MEASURE prefill_batch cost 13.063558340072632 s
INFO 10-06 08:32:42.483 [manager.py:689] end prefill req_id = 5240 group_req_id = 5240 at 08:32:42.483
INFO 10-06 08:32:42.483 [manager.py:689] end prefill req_id = 5432 group_req_id = 5432 at 08:32:42.483
INFO 10-06 08:32:42.483 [manager.py:689] end prefill req_id = 5624 group_req_id = 5624 at 08:32:42.483
INFO 10-06 08:32:42.483 [manager.py:689] end prefill req_id = 5816 group_req_id = 5816 at 08:32:42.483
INFO 10-06 08:32:42.483 [manager.py:689] end prefill req_id = 6008 group_req_id = 6008 at 08:32:42.483
INFO 10-06 08:32:42.483 [manager.py:689] end prefill req_id = 6200 group_req_id = 6200 at 08:32:42.483
INFO 10-06 08:32:42.484 [manager.py:698] end prefill all things req_id = 5240 group_req_id = 5240 at 08:32:42.484
INFO 10-06 08:32:42.484 [manager.py:698] end prefill all things req_id = 5432 group_req_id = 5432 at 08:32:42.484
INFO 10-06 08:32:42.484 [manager.py:698] end prefill all things req_id = 5624 group_req_id = 5624 at 08:32:42.484
INFO 10-06 08:32:42.484 [manager.py:698] end prefill all things req_id = 5816 group_req_id = 5816 at 08:32:42.484
INFO 10-06 08:32:42.484 [manager.py:698] end prefill all things req_id = 6008 group_req_id = 6008 at 08:32:42.484
INFO 10-06 08:32:42.484 [manager.py:698] end prefill all things req_id = 6200 group_req_id = 6200 at 08:32:42.484
INFO 10-06 08:32:42.484 [manager.py:701] all take 27.453
INFO 10-06 08:32:42.495 [impl.py:39] after adding new req, max_size: 112290
INFO 10-06 08:32:42.495 [impl.py:39] after adding new req, max_size: 114432
INFO 10-06 08:32:42.495 [impl.py:39] after adding new req, max_size: 116251
INFO 10-06 08:32:42.495 [impl.py:39] after adding new req, max_size: 117110
INFO 10-06 08:32:42.495 [impl.py:39] after adding new req, max_size: 122942
INFO 10-06 08:32:42.495 [impl.py:39] after adding new req, max_size: 139850
INFO 10-06 08:32:42.495 [impl.py:39] after adding new req, max_size: 141498
INFO 10-06 08:32:42.495 [manager.py:668] start prefill req_id = 6392 group_req_id = 6392 at 08:32:42.495
INFO 10-06 08:32:42.495 [manager.py:668] start prefill req_id = 6584 group_req_id = 6584 at 08:32:42.495
INFO 10-06 08:32:42.495 [manager.py:668] start prefill req_id = 6776 group_req_id = 6776 at 08:32:42.495
INFO 10-06 08:32:42.495 [manager.py:668] start prefill req_id = 6968 group_req_id = 6968 at 08:32:42.495
INFO 10-06 08:32:42.495 [manager.py:668] start prefill req_id = 7160 group_req_id = 7160 at 08:32:42.495
INFO 10-06 08:32:42.495 [manager.py:668] start prefill req_id = 7352 group_req_id = 7352 at 08:32:42.495
INFO 10-06 08:32:42.496 [manager.py:619] requst decode for req_ids=[6392, 6584, 6776, 6968, 7160, 7352] which needs 140411 tokens
INFO 10-06 08:32:55.892 [manager.py:64] MEASURE request_for_decode_scheduler cost 13.39610743522644 s
INFO 10-06 08:32:55.905 [manager.py:64] MEASURE init_batch cost 0.013503074645996094 s
INFO 10-06 08:32:55.918 [manager.py:708] send req_ids = [6392, 6584, 6776, 6968, 7160, 7352] to decode scheduler
INFO 10-06 08:33:36.818 [manager.py:64] MEASURE prefill_batch cost 40.62765383720398 s
INFO 10-06 08:33:36.818 [manager.py:689] end prefill req_id = 6392 group_req_id = 6392 at 08:33:36.818
INFO 10-06 08:33:36.818 [manager.py:689] end prefill req_id = 6584 group_req_id = 6584 at 08:33:36.818
INFO 10-06 08:33:36.818 [manager.py:689] end prefill req_id = 6776 group_req_id = 6776 at 08:33:36.818
INFO 10-06 08:33:36.818 [manager.py:689] end prefill req_id = 6968 group_req_id = 6968 at 08:33:36.818
INFO 10-06 08:33:36.818 [manager.py:689] end prefill req_id = 7160 group_req_id = 7160 at 08:33:36.818
INFO 10-06 08:33:36.818 [manager.py:689] end prefill req_id = 7352 group_req_id = 7352 at 08:33:36.818
INFO 10-06 08:33:36.819 [manager.py:698] end prefill all things req_id = 6392 group_req_id = 6392 at 08:33:36.819
INFO 10-06 08:33:36.819 [manager.py:698] end prefill all things req_id = 6584 group_req_id = 6584 at 08:33:36.819
INFO 10-06 08:33:36.819 [manager.py:698] end prefill all things req_id = 6776 group_req_id = 6776 at 08:33:36.819
INFO 10-06 08:33:36.819 [manager.py:698] end prefill all things req_id = 6968 group_req_id = 6968 at 08:33:36.819
INFO 10-06 08:33:36.820 [manager.py:698] end prefill all things req_id = 7160 group_req_id = 7160 at 08:33:36.819
INFO 10-06 08:33:36.820 [manager.py:698] end prefill all things req_id = 7352 group_req_id = 7352 at 08:33:36.819
INFO 10-06 08:33:36.820 [manager.py:701] all take 54.324
INFO 10-06 08:33:36.833 [impl.py:39] after adding new req, max_size: 1671
INFO 10-06 08:33:36.833 [impl.py:39] after adding new req, max_size: 13148
INFO 10-06 08:33:36.833 [impl.py:39] after adding new req, max_size: 17503
INFO 10-06 08:33:36.833 [impl.py:39] after adding new req, max_size: 20394
INFO 10-06 08:33:36.833 [impl.py:39] after adding new req, max_size: 21122
INFO 10-06 08:33:36.833 [impl.py:39] after adding new req, max_size: 46584
INFO 10-06 08:33:36.833 [impl.py:39] after adding new req, max_size: 47221
INFO 10-06 08:33:36.833 [impl.py:39] after adding new req, max_size: 49899
INFO 10-06 08:33:36.833 [impl.py:39] after adding new req, max_size: 52338
INFO 10-06 08:33:36.833 [impl.py:39] after adding new req, max_size: 53233
INFO 10-06 08:33:36.833 [impl.py:39] after adding new req, max_size: 54933
INFO 10-06 08:33:36.833 [manager.py:668] start prefill req_id = 7544 group_req_id = 7544 at 08:33:36.833
INFO 10-06 08:33:36.833 [manager.py:668] start prefill req_id = 7736 group_req_id = 7736 at 08:33:36.833
INFO 10-06 08:33:36.833 [manager.py:668] start prefill req_id = 7928 group_req_id = 7928 at 08:33:36.833
INFO 10-06 08:33:36.833 [manager.py:668] start prefill req_id = 8120 group_req_id = 8120 at 08:33:36.833
INFO 10-06 08:33:36.833 [manager.py:668] start prefill req_id = 8312 group_req_id = 8312 at 08:33:36.833
INFO 10-06 08:33:36.833 [manager.py:668] start prefill req_id = 8504 group_req_id = 8504 at 08:33:36.833
INFO 10-06 08:33:36.833 [manager.py:668] start prefill req_id = 8696 group_req_id = 8696 at 08:33:36.833
INFO 10-06 08:33:36.833 [manager.py:668] start prefill req_id = 8888 group_req_id = 8888 at 08:33:36.833
INFO 10-06 08:33:36.833 [manager.py:668] start prefill req_id = 9080 group_req_id = 9080 at 08:33:36.833
INFO 10-06 08:33:36.833 [manager.py:668] start prefill req_id = 9272 group_req_id = 9272 at 08:33:36.833
INFO 10-06 08:33:36.834 [manager.py:619] requst decode for req_ids=[7544, 7736, 7928, 8120, 8312, 8504, 8696, 8888, 9080, 9272] which needs 54691 tokens
INFO 10-06 08:33:46.626 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:33:53.881 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:34:06.534 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:34:11.350 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:34:31.740 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:34:53.868 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:35:07.618 [manager.py:64] MEASURE request_for_decode_scheduler cost 90.78482913970947 s
INFO 10-06 08:35:07.623 [manager.py:64] MEASURE init_batch cost 0.004256486892700195 s
INFO 10-06 08:35:07.626 [manager.py:708] send req_ids = [7544, 7736, 7928, 8120, 8312, 8504, 8696, 8888, 9080, 9272] to decode scheduler
INFO 10-06 08:35:47.707 [manager.py:64] MEASURE prefill_batch cost 5.242563724517822 s
INFO 10-06 08:35:47.708 [manager.py:689] end prefill req_id = 7544 group_req_id = 7544 at 08:35:47.708
INFO 10-06 08:35:47.708 [manager.py:689] end prefill req_id = 7736 group_req_id = 7736 at 08:35:47.708
INFO 10-06 08:35:47.708 [manager.py:689] end prefill req_id = 7928 group_req_id = 7928 at 08:35:47.708
INFO 10-06 08:35:47.708 [manager.py:689] end prefill req_id = 8120 group_req_id = 8120 at 08:35:47.708
INFO 10-06 08:35:47.708 [manager.py:689] end prefill req_id = 8312 group_req_id = 8312 at 08:35:47.708
INFO 10-06 08:35:47.708 [manager.py:689] end prefill req_id = 8504 group_req_id = 8504 at 08:35:47.708
INFO 10-06 08:35:47.708 [manager.py:689] end prefill req_id = 8696 group_req_id = 8696 at 08:35:47.708
INFO 10-06 08:35:47.708 [manager.py:689] end prefill req_id = 8888 group_req_id = 8888 at 08:35:47.708
INFO 10-06 08:35:47.708 [manager.py:689] end prefill req_id = 9080 group_req_id = 9080 at 08:35:47.708
INFO 10-06 08:35:47.708 [manager.py:689] end prefill req_id = 9272 group_req_id = 9272 at 08:35:47.708
INFO 10-06 08:35:49.684 [manager.py:698] end prefill all things req_id = 7544 group_req_id = 7544 at 08:35:49.684
INFO 10-06 08:35:49.685 [manager.py:698] end prefill all things req_id = 7736 group_req_id = 7736 at 08:35:49.684
INFO 10-06 08:35:49.685 [manager.py:698] end prefill all things req_id = 7928 group_req_id = 7928 at 08:35:49.684
INFO 10-06 08:35:49.685 [manager.py:698] end prefill all things req_id = 8120 group_req_id = 8120 at 08:35:49.684
INFO 10-06 08:35:49.685 [manager.py:698] end prefill all things req_id = 8312 group_req_id = 8312 at 08:35:49.684
INFO 10-06 08:35:49.685 [manager.py:698] end prefill all things req_id = 8504 group_req_id = 8504 at 08:35:49.684
INFO 10-06 08:35:49.685 [manager.py:698] end prefill all things req_id = 8696 group_req_id = 8696 at 08:35:49.684
INFO 10-06 08:35:49.685 [manager.py:698] end prefill all things req_id = 8888 group_req_id = 8888 at 08:35:49.684
INFO 10-06 08:35:49.685 [manager.py:698] end prefill all things req_id = 9080 group_req_id = 9080 at 08:35:49.684
INFO 10-06 08:35:49.685 [manager.py:698] end prefill all things req_id = 9272 group_req_id = 9272 at 08:35:49.684
INFO 10-06 08:35:49.685 [manager.py:701] all take 132.851
INFO 10-06 08:35:49.696 [impl.py:39] after adding new req, max_size: 1830
INFO 10-06 08:35:49.696 [impl.py:39] after adding new req, max_size: 9333
INFO 10-06 08:35:49.696 [impl.py:39] after adding new req, max_size: 18430
INFO 10-06 08:35:49.696 [impl.py:39] after adding new req, max_size: 22919
INFO 10-06 08:35:49.697 [impl.py:39] after adding new req, max_size: 63960
INFO 10-06 08:35:49.697 [impl.py:39] after adding new req, max_size: 70133
INFO 10-06 08:35:49.697 [impl.py:39] after adding new req, max_size: 126185
INFO 10-06 08:35:49.697 [impl.py:39] after adding new req, max_size: 183203
INFO 10-06 08:35:49.697 [manager.py:668] start prefill req_id = 9464 group_req_id = 9464 at 08:35:49.697
INFO 10-06 08:35:49.697 [manager.py:668] start prefill req_id = 9656 group_req_id = 9656 at 08:35:49.697
INFO 10-06 08:35:49.697 [manager.py:668] start prefill req_id = 9848 group_req_id = 9848 at 08:35:49.697
INFO 10-06 08:35:49.697 [manager.py:668] start prefill req_id = 10040 group_req_id = 10040 at 08:35:49.697
INFO 10-06 08:35:49.697 [manager.py:668] start prefill req_id = 10232 group_req_id = 10232 at 08:35:49.697
INFO 10-06 08:35:49.697 [manager.py:668] start prefill req_id = 10424 group_req_id = 10424 at 08:35:49.697
INFO 10-06 08:35:49.697 [manager.py:668] start prefill req_id = 10616 group_req_id = 10616 at 08:35:49.697
INFO 10-06 08:35:49.697 [manager.py:619] requst decode for req_ids=[9464, 9656, 9848, 10040, 10232, 10424, 10616] which needs 127266 tokens
INFO 10-06 08:36:06.150 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:36:20.465 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:36:41.580 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:37:02.654 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:37:26.760 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:37:45.837 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:38:05.219 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:38:27.278 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:38:49.333 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:39:03.524 [manager.py:64] MEASURE request_for_decode_scheduler cost 193.8266887664795 s
INFO 10-06 08:39:03.534 [manager.py:64] MEASURE init_batch cost 0.009975671768188477 s
INFO 10-06 08:39:03.543 [manager.py:708] send req_ids = [9464, 9656, 9848, 10040, 10232, 10424, 10616] to decode scheduler
INFO 10-06 08:39:23.770 [manager.py:64] MEASURE prefill_batch cost 20.225245237350464 s
INFO 10-06 08:39:23.770 [manager.py:689] end prefill req_id = 9464 group_req_id = 9464 at 08:39:23.770
INFO 10-06 08:39:23.770 [manager.py:689] end prefill req_id = 9656 group_req_id = 9656 at 08:39:23.770
INFO 10-06 08:39:23.770 [manager.py:689] end prefill req_id = 9848 group_req_id = 9848 at 08:39:23.770
INFO 10-06 08:39:23.770 [manager.py:689] end prefill req_id = 10040 group_req_id = 10040 at 08:39:23.770
INFO 10-06 08:39:23.770 [manager.py:689] end prefill req_id = 10232 group_req_id = 10232 at 08:39:23.770
INFO 10-06 08:39:23.770 [manager.py:689] end prefill req_id = 10424 group_req_id = 10424 at 08:39:23.770
INFO 10-06 08:39:23.770 [manager.py:689] end prefill req_id = 10616 group_req_id = 10616 at 08:39:23.770
INFO 10-06 08:39:23.771 [manager.py:698] end prefill all things req_id = 9464 group_req_id = 9464 at 08:39:23.771
INFO 10-06 08:39:23.771 [manager.py:698] end prefill all things req_id = 9656 group_req_id = 9656 at 08:39:23.771
INFO 10-06 08:39:23.771 [manager.py:698] end prefill all things req_id = 9848 group_req_id = 9848 at 08:39:23.771
INFO 10-06 08:39:23.771 [manager.py:698] end prefill all things req_id = 10040 group_req_id = 10040 at 08:39:23.771
INFO 10-06 08:39:23.771 [manager.py:698] end prefill all things req_id = 10232 group_req_id = 10232 at 08:39:23.771
INFO 10-06 08:39:23.771 [manager.py:698] end prefill all things req_id = 10424 group_req_id = 10424 at 08:39:23.771
INFO 10-06 08:39:23.771 [manager.py:698] end prefill all things req_id = 10616 group_req_id = 10616 at 08:39:23.771
INFO 10-06 08:39:23.771 [manager.py:701] all take 214.074
INFO 10-06 08:39:23.784 [impl.py:39] after adding new req, max_size: 57084
INFO 10-06 08:39:23.784 [impl.py:39] after adding new req, max_size: 62164
INFO 10-06 08:39:23.784 [impl.py:39] after adding new req, max_size: 64814
INFO 10-06 08:39:23.784 [impl.py:39] after adding new req, max_size: 65741
INFO 10-06 08:39:23.784 [impl.py:39] after adding new req, max_size: 68807
INFO 10-06 08:39:23.784 [impl.py:39] after adding new req, max_size: 74454
INFO 10-06 08:39:23.784 [impl.py:39] after adding new req, max_size: 75407
INFO 10-06 08:39:23.784 [impl.py:39] after adding new req, max_size: 77210
INFO 10-06 08:39:23.784 [impl.py:39] after adding new req, max_size: 84343
INFO 10-06 08:39:23.785 [impl.py:39] after adding new req, max_size: 85002
INFO 10-06 08:39:23.785 [impl.py:39] after adding new req, max_size: 85406
INFO 10-06 08:39:23.785 [manager.py:668] start prefill req_id = 10808 group_req_id = 10808 at 08:39:23.785
INFO 10-06 08:39:23.785 [manager.py:668] start prefill req_id = 11000 group_req_id = 11000 at 08:39:23.785
INFO 10-06 08:39:23.785 [manager.py:668] start prefill req_id = 11192 group_req_id = 11192 at 08:39:23.785
INFO 10-06 08:39:23.785 [manager.py:668] start prefill req_id = 11384 group_req_id = 11384 at 08:39:23.785
INFO 10-06 08:39:23.785 [manager.py:668] start prefill req_id = 11576 group_req_id = 11576 at 08:39:23.785
INFO 10-06 08:39:23.785 [manager.py:668] start prefill req_id = 11768 group_req_id = 11768 at 08:39:23.785
INFO 10-06 08:39:23.785 [manager.py:668] start prefill req_id = 11960 group_req_id = 11960 at 08:39:23.785
INFO 10-06 08:39:23.785 [manager.py:668] start prefill req_id = 12152 group_req_id = 12152 at 08:39:23.785
INFO 10-06 08:39:23.785 [manager.py:668] start prefill req_id = 12344 group_req_id = 12344 at 08:39:23.785
INFO 10-06 08:39:23.785 [manager.py:668] start prefill req_id = 12536 group_req_id = 12536 at 08:39:23.785
INFO 10-06 08:39:23.785 [manager.py:619] requst decode for req_ids=[10808, 11000, 11192, 11384, 11576, 11768, 11960, 12152, 12344, 12536] which needs 86837 tokens
INFO 10-06 08:39:43.686 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:39:48.162 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:40:06.793 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:40:22.918 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:40:44.169 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:40:47.502 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:41:03.255 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:41:22.616 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:41:43.415 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:42:04.913 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:42:24.848 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:42:37.658 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:42:49.833 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:42:58.955 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:43:09.882 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:43:37.982 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:43:52.102 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:44:14.147 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:44:35.284 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:44:47.478 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:44:59.622 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:45:15.648 [manager.py:64] MEASURE request_for_decode_scheduler cost 351.86270332336426 s
INFO 10-06 08:45:15.654 [manager.py:64] MEASURE init_batch cost 0.0064241886138916016 s
INFO 10-06 08:45:15.660 [manager.py:708] send req_ids = [10808, 11000, 11192, 11384, 11576, 11768, 11960, 12152, 12344, 12536] to decode scheduler
INFO 10-06 08:45:29.346 [manager.py:64] MEASURE prefill_batch cost 13.684802293777466 s
INFO 10-06 08:45:29.347 [manager.py:689] end prefill req_id = 10808 group_req_id = 10808 at 08:45:29.347
INFO 10-06 08:45:29.347 [manager.py:689] end prefill req_id = 11000 group_req_id = 11000 at 08:45:29.347
INFO 10-06 08:45:29.347 [manager.py:689] end prefill req_id = 11192 group_req_id = 11192 at 08:45:29.347
INFO 10-06 08:45:29.347 [manager.py:689] end prefill req_id = 11384 group_req_id = 11384 at 08:45:29.347
INFO 10-06 08:45:29.347 [manager.py:689] end prefill req_id = 11576 group_req_id = 11576 at 08:45:29.347
INFO 10-06 08:45:29.347 [manager.py:689] end prefill req_id = 11768 group_req_id = 11768 at 08:45:29.347
INFO 10-06 08:45:29.347 [manager.py:689] end prefill req_id = 11960 group_req_id = 11960 at 08:45:29.347
INFO 10-06 08:45:29.347 [manager.py:689] end prefill req_id = 12152 group_req_id = 12152 at 08:45:29.347
INFO 10-06 08:45:29.347 [manager.py:689] end prefill req_id = 12344 group_req_id = 12344 at 08:45:29.347
INFO 10-06 08:45:29.347 [manager.py:689] end prefill req_id = 12536 group_req_id = 12536 at 08:45:29.347
INFO 10-06 08:45:29.348 [manager.py:698] end prefill all things req_id = 10808 group_req_id = 10808 at 08:45:29.348
INFO 10-06 08:45:29.348 [manager.py:698] end prefill all things req_id = 11000 group_req_id = 11000 at 08:45:29.348
INFO 10-06 08:45:29.348 [manager.py:698] end prefill all things req_id = 11192 group_req_id = 11192 at 08:45:29.348
INFO 10-06 08:45:29.348 [manager.py:698] end prefill all things req_id = 11384 group_req_id = 11384 at 08:45:29.348
INFO 10-06 08:45:29.348 [manager.py:698] end prefill all things req_id = 11576 group_req_id = 11576 at 08:45:29.348
INFO 10-06 08:45:29.348 [manager.py:698] end prefill all things req_id = 11768 group_req_id = 11768 at 08:45:29.348
INFO 10-06 08:45:29.348 [manager.py:698] end prefill all things req_id = 11960 group_req_id = 11960 at 08:45:29.348
INFO 10-06 08:45:29.348 [manager.py:698] end prefill all things req_id = 12152 group_req_id = 12152 at 08:45:29.348
INFO 10-06 08:45:29.348 [manager.py:698] end prefill all things req_id = 12344 group_req_id = 12344 at 08:45:29.348
INFO 10-06 08:45:29.348 [manager.py:698] end prefill all things req_id = 12536 group_req_id = 12536 at 08:45:29.348
INFO 10-06 08:45:29.348 [manager.py:701] all take 365.563
INFO 10-06 08:45:29.360 [impl.py:39] after adding new req, max_size: 450
INFO 10-06 08:45:29.360 [impl.py:39] after adding new req, max_size: 25325
INFO 10-06 08:45:29.360 [impl.py:39] after adding new req, max_size: 27244
INFO 10-06 08:45:29.360 [impl.py:39] after adding new req, max_size: 28051
INFO 10-06 08:45:29.360 [impl.py:39] after adding new req, max_size: 69680
INFO 10-06 08:45:29.360 [impl.py:39] after adding new req, max_size: 71257
INFO 10-06 08:45:29.360 [impl.py:39] after adding new req, max_size: 72321
INFO 10-06 08:45:29.360 [impl.py:39] after adding new req, max_size: 73654
INFO 10-06 08:45:29.360 [impl.py:39] after adding new req, max_size: 129884
INFO 10-06 08:45:29.360 [impl.py:39] after adding new req, max_size: 242217
INFO 10-06 08:45:29.361 [manager.py:668] start prefill req_id = 12728 group_req_id = 12728 at 08:45:29.361
INFO 10-06 08:45:29.361 [manager.py:668] start prefill req_id = 12920 group_req_id = 12920 at 08:45:29.361
INFO 10-06 08:45:29.361 [manager.py:668] start prefill req_id = 13112 group_req_id = 13112 at 08:45:29.361
INFO 10-06 08:45:29.361 [manager.py:668] start prefill req_id = 13304 group_req_id = 13304 at 08:45:29.361
INFO 10-06 08:45:29.361 [manager.py:668] start prefill req_id = 13496 group_req_id = 13496 at 08:45:29.361
INFO 10-06 08:45:29.361 [manager.py:668] start prefill req_id = 13688 group_req_id = 13688 at 08:45:29.361
INFO 10-06 08:45:29.361 [manager.py:668] start prefill req_id = 13880 group_req_id = 13880 at 08:45:29.361
INFO 10-06 08:45:29.361 [manager.py:668] start prefill req_id = 14072 group_req_id = 14072 at 08:45:29.361
INFO 10-06 08:45:29.361 [manager.py:668] start prefill req_id = 14264 group_req_id = 14264 at 08:45:29.361
INFO 10-06 08:45:29.361 [manager.py:619] requst decode for req_ids=[12728, 12920, 13112, 13304, 13496, 13688, 13880, 14072, 14264] which needs 131061 tokens
INFO 10-06 08:45:44.060 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:45:54.235 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:46:10.533 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:46:15.473 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:46:28.643 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:46:38.559 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:46:56.591 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:47:03.696 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:47:18.841 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:47:33.874 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:47:47.946 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:48:05.003 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:48:11.063 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:48:23.041 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:48:29.456 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:48:40.568 [manager.py:64] MEASURE request_for_decode_scheduler cost 191.20691967010498 s
INFO 10-06 08:48:40.577 [manager.py:64] MEASURE init_batch cost 0.009165763854980469 s
INFO 10-06 08:48:40.585 [manager.py:708] send req_ids = [12728, 12920, 13112, 13304, 13496, 13688, 13880, 14072, 14264] to decode scheduler
INFO 10-06 08:49:02.480 [manager.py:64] MEASURE prefill_batch cost 21.892741918563843 s
INFO 10-06 08:49:02.480 [manager.py:689] end prefill req_id = 12728 group_req_id = 12728 at 08:49:02.480
INFO 10-06 08:49:02.480 [manager.py:689] end prefill req_id = 12920 group_req_id = 12920 at 08:49:02.480
INFO 10-06 08:49:02.480 [manager.py:689] end prefill req_id = 13112 group_req_id = 13112 at 08:49:02.480
INFO 10-06 08:49:02.480 [manager.py:689] end prefill req_id = 13304 group_req_id = 13304 at 08:49:02.480
INFO 10-06 08:49:02.480 [manager.py:689] end prefill req_id = 13496 group_req_id = 13496 at 08:49:02.480
INFO 10-06 08:49:02.480 [manager.py:689] end prefill req_id = 13688 group_req_id = 13688 at 08:49:02.480
INFO 10-06 08:49:02.480 [manager.py:689] end prefill req_id = 13880 group_req_id = 13880 at 08:49:02.480
INFO 10-06 08:49:02.480 [manager.py:689] end prefill req_id = 14072 group_req_id = 14072 at 08:49:02.480
INFO 10-06 08:49:02.480 [manager.py:689] end prefill req_id = 14264 group_req_id = 14264 at 08:49:02.480
INFO 10-06 08:49:02.481 [manager.py:698] end prefill all things req_id = 12728 group_req_id = 12728 at 08:49:02.481
INFO 10-06 08:49:02.481 [manager.py:698] end prefill all things req_id = 12920 group_req_id = 12920 at 08:49:02.481
INFO 10-06 08:49:02.481 [manager.py:698] end prefill all things req_id = 13112 group_req_id = 13112 at 08:49:02.481
INFO 10-06 08:49:02.481 [manager.py:698] end prefill all things req_id = 13304 group_req_id = 13304 at 08:49:02.481
INFO 10-06 08:49:02.481 [manager.py:698] end prefill all things req_id = 13496 group_req_id = 13496 at 08:49:02.481
INFO 10-06 08:49:02.481 [manager.py:698] end prefill all things req_id = 13688 group_req_id = 13688 at 08:49:02.481
INFO 10-06 08:49:02.481 [manager.py:698] end prefill all things req_id = 13880 group_req_id = 13880 at 08:49:02.481
INFO 10-06 08:49:02.481 [manager.py:698] end prefill all things req_id = 14072 group_req_id = 14072 at 08:49:02.481
INFO 10-06 08:49:02.481 [manager.py:698] end prefill all things req_id = 14264 group_req_id = 14264 at 08:49:02.481
INFO 10-06 08:49:02.482 [manager.py:701] all take 213.12
INFO 10-06 08:49:02.494 [impl.py:39] after adding new req, max_size: 112645
INFO 10-06 08:49:02.494 [impl.py:39] after adding new req, max_size: 131516
INFO 10-06 08:49:02.495 [impl.py:39] after adding new req, max_size: 133395
INFO 10-06 08:49:02.495 [impl.py:39] after adding new req, max_size: 134821
INFO 10-06 08:49:02.495 [impl.py:39] after adding new req, max_size: 138658
INFO 10-06 08:49:02.495 [manager.py:668] start prefill req_id = 14456 group_req_id = 14456 at 08:49:02.495
INFO 10-06 08:49:02.495 [manager.py:668] start prefill req_id = 14648 group_req_id = 14648 at 08:49:02.495
INFO 10-06 08:49:02.495 [manager.py:668] start prefill req_id = 14840 group_req_id = 14840 at 08:49:02.495
INFO 10-06 08:49:02.495 [manager.py:668] start prefill req_id = 15032 group_req_id = 15032 at 08:49:02.495
INFO 10-06 08:49:02.495 [manager.py:668] start prefill req_id = 15224 group_req_id = 15224 at 08:49:02.495
INFO 10-06 08:49:02.495 [manager.py:619] requst decode for req_ids=[14456, 14648, 14840, 15032, 15224] which needs 139055 tokens
INFO 10-06 08:49:03.531 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:49:20.570 [manager.py:64] MEASURE request_for_decode_scheduler cost 18.07530641555786 s
INFO 10-06 08:49:20.580 [manager.py:64] MEASURE init_batch cost 0.009577274322509766 s
INFO 10-06 08:49:20.589 [manager.py:708] send req_ids = [14456, 14648, 14840, 15032, 15224] to decode scheduler
INFO 10-06 08:50:01.009 [manager.py:64] MEASURE prefill_batch cost 40.418461322784424 s
INFO 10-06 08:50:01.009 [manager.py:689] end prefill req_id = 14456 group_req_id = 14456 at 08:50:01.009
INFO 10-06 08:50:01.009 [manager.py:689] end prefill req_id = 14648 group_req_id = 14648 at 08:50:01.009
INFO 10-06 08:50:01.009 [manager.py:689] end prefill req_id = 14840 group_req_id = 14840 at 08:50:01.009
INFO 10-06 08:50:01.009 [manager.py:689] end prefill req_id = 15032 group_req_id = 15032 at 08:50:01.009
INFO 10-06 08:50:01.009 [manager.py:689] end prefill req_id = 15224 group_req_id = 15224 at 08:50:01.009
INFO 10-06 08:50:01.010 [manager.py:698] end prefill all things req_id = 14456 group_req_id = 14456 at 08:50:01.010
INFO 10-06 08:50:01.010 [manager.py:698] end prefill all things req_id = 14648 group_req_id = 14648 at 08:50:01.010
INFO 10-06 08:50:01.010 [manager.py:698] end prefill all things req_id = 14840 group_req_id = 14840 at 08:50:01.010
INFO 10-06 08:50:01.010 [manager.py:698] end prefill all things req_id = 15032 group_req_id = 15032 at 08:50:01.010
INFO 10-06 08:50:01.010 [manager.py:698] end prefill all things req_id = 15224 group_req_id = 15224 at 08:50:01.010
INFO 10-06 08:50:01.010 [manager.py:701] all take 58.515
INFO 10-06 08:51:10.314 [manager.py:565] the req info
INFO 10-06 08:51:10.314 [manager.py:565]  {56: ['08:30:44.679', '08:30:45.141'], 248: ['08:30:46.900', '08:30:56.391'], 440: ['08:30:46.908', '08:30:56.391'], 632: ['08:30:46.912', '08:30:56.391'], 824: ['08:30:46.913', '08:30:56.391'], 1016: ['08:30:46.914', '08:30:56.391'], 1208: ['08:30:46.948', '08:31:06.152'], 1400: ['08:30:51.183', '08:31:06.152'], 1592: ['08:30:56.391', '08:31:06.152'], 1784: ['08:30:58.200', '08:31:06.152'], 1976: ['08:30:58.204', '08:31:06.152'], 2168: ['08:30:58.221', '08:31:06.152'], 2360: ['08:30:58.235', '08:31:31.590'], 2552: ['08:30:58.237', '08:31:31.590'], 2744: ['08:30:58.240', '08:31:31.590'], 2936: ['08:30:58.244', '08:31:31.590'], 3128: ['08:30:58.248', '08:31:31.590'], 3320: ['08:31:00.842', '08:31:31.590'], 3512: ['08:31:01.234', '08:31:31.590'], 3704: ['08:31:01.501', '08:31:31.590'], 3896: ['08:31:01.810', '08:31:31.590'], 4088: ['08:31:02.116', '08:31:31.590'], 4280: ['08:31:21.468', '08:32:00.411'], 4472: ['08:31:21.470', '08:32:00.411'], 4664: ['08:31:21.488', '08:32:00.411'], 4856: ['08:31:21.496', '08:32:00.411'], 5048: ['08:31:21.496', '08:32:00.411'], 5240: ['08:31:21.537', '08:32:29.419'], 5432: ['08:31:21.538', '08:32:29.419'], 5624: ['08:31:21.538', '08:32:29.419'], 5816: ['08:31:21.543', '08:32:29.419'], 6008: ['08:31:21.544', '08:32:29.419'], 6200: ['08:31:21.545', '08:32:29.419'], 6392: ['08:31:21.623', '08:32:56.190'], 6584: ['08:31:21.625', '08:32:56.190'], 6776: ['08:31:21.626', '08:32:56.190'], 6968: ['08:31:21.626', '08:32:56.190'], 7160: ['08:31:21.630', '08:32:56.190'], 7352: ['08:31:21.642', '08:32:56.190'], 7544: ['08:31:21.643', '08:35:42.465'], 7736: ['08:31:21.763', '08:35:42.465'], 7928: ['08:31:22.093', '08:35:42.465'], 8120: ['08:31:22.182', '08:35:42.465'], 8312: ['08:31:22.286', '08:35:42.465'], 8504: ['08:31:24.147', '08:35:42.465'], 8696: ['08:31:24.396', '08:35:42.465'], 8888: ['08:31:26.622', '08:35:42.465'], 9080: ['08:31:26.836', '08:35:42.465'], 9272: ['08:31:26.900', '08:35:42.465'], 9464: ['08:31:27.048', '08:39:03.544'], 9656: ['08:31:27.157', '08:39:03.544'], 9848: ['08:31:28.091', '08:39:03.544'], 10040: ['08:31:28.581', '08:39:03.544'], 10232: ['08:31:28.990', '08:39:03.544'], 10424: ['08:31:29.741', '08:39:03.544'], 10616: ['08:31:36.796', '08:39:03.544'], 10808: ['08:31:38.713', '08:45:15.661'], 11000: ['08:31:39.388', '08:45:15.661'], 11192: ['08:31:39.542', '08:45:15.661'], 11384: ['08:31:40.527', '08:45:15.661'], 11576: ['08:31:40.693', '08:45:15.661'], 11768: ['08:31:41.269', '08:45:15.661'], 11960: ['08:31:43.600', '08:45:15.661'], 12152: ['08:31:43.733', '08:45:15.661'], 12344: ['08:31:43.899', '08:45:15.661'], 12536: ['08:31:51.734', '08:45:15.661'], 12728: ['08:31:51.823', '08:48:40.587'], 12920: ['08:31:53.689', '08:48:40.587'], 13112: ['08:31:53.834', '08:48:40.587'], 13304: ['08:31:54.009', '08:48:40.587'], 13496: ['08:31:54.985', '08:48:40.587'], 13688: ['08:31:55.160', '08:48:40.587'], 13880: ['08:31:55.305', '08:48:40.587'], 14072: ['08:32:00.412', '08:48:40.587'], 14264: ['08:32:14.935', '08:48:40.587'], 14456: ['08:32:15.015', '08:49:20.590'], 14648: ['08:32:15.030', '08:49:20.590'], 14840: ['08:32:15.040', '08:49:20.590'], 15032: ['08:32:15.041', '08:49:20.590'], 15224: ['08:32:15.045', '08:49:20.590']}
INFO 10-06 08:54:31.726 [manager.py:565] the req info
INFO 10-06 08:54:31.726 [manager.py:565]  {56: ['08:30:44.679', '08:30:45.141'], 248: ['08:30:46.900', '08:30:56.391'], 440: ['08:30:46.908', '08:30:56.391'], 632: ['08:30:46.912', '08:30:56.391'], 824: ['08:30:46.913', '08:30:56.391'], 1016: ['08:30:46.914', '08:30:56.391'], 1208: ['08:30:46.948', '08:31:06.152'], 1400: ['08:30:51.183', '08:31:06.152'], 1592: ['08:30:56.391', '08:31:06.152'], 1784: ['08:30:58.200', '08:31:06.152'], 1976: ['08:30:58.204', '08:31:06.152'], 2168: ['08:30:58.221', '08:31:06.152'], 2360: ['08:30:58.235', '08:31:31.590'], 2552: ['08:30:58.237', '08:31:31.590'], 2744: ['08:30:58.240', '08:31:31.590'], 2936: ['08:30:58.244', '08:31:31.590'], 3128: ['08:30:58.248', '08:31:31.590'], 3320: ['08:31:00.842', '08:31:31.590'], 3512: ['08:31:01.234', '08:31:31.590'], 3704: ['08:31:01.501', '08:31:31.590'], 3896: ['08:31:01.810', '08:31:31.590'], 4088: ['08:31:02.116', '08:31:31.590'], 4280: ['08:31:21.468', '08:32:00.411'], 4472: ['08:31:21.470', '08:32:00.411'], 4664: ['08:31:21.488', '08:32:00.411'], 4856: ['08:31:21.496', '08:32:00.411'], 5048: ['08:31:21.496', '08:32:00.411'], 5240: ['08:31:21.537', '08:32:29.419'], 5432: ['08:31:21.538', '08:32:29.419'], 5624: ['08:31:21.538', '08:32:29.419'], 5816: ['08:31:21.543', '08:32:29.419'], 6008: ['08:31:21.544', '08:32:29.419'], 6200: ['08:31:21.545', '08:32:29.419'], 6392: ['08:31:21.623', '08:32:56.190'], 6584: ['08:31:21.625', '08:32:56.190'], 6776: ['08:31:21.626', '08:32:56.190'], 6968: ['08:31:21.626', '08:32:56.190'], 7160: ['08:31:21.630', '08:32:56.190'], 7352: ['08:31:21.642', '08:32:56.190'], 7544: ['08:31:21.643', '08:35:42.465'], 7736: ['08:31:21.763', '08:35:42.465'], 7928: ['08:31:22.093', '08:35:42.465'], 8120: ['08:31:22.182', '08:35:42.465'], 8312: ['08:31:22.286', '08:35:42.465'], 8504: ['08:31:24.147', '08:35:42.465'], 8696: ['08:31:24.396', '08:35:42.465'], 8888: ['08:31:26.622', '08:35:42.465'], 9080: ['08:31:26.836', '08:35:42.465'], 9272: ['08:31:26.900', '08:35:42.465'], 9464: ['08:31:27.048', '08:39:03.544'], 9656: ['08:31:27.157', '08:39:03.544'], 9848: ['08:31:28.091', '08:39:03.544'], 10040: ['08:31:28.581', '08:39:03.544'], 10232: ['08:31:28.990', '08:39:03.544'], 10424: ['08:31:29.741', '08:39:03.544'], 10616: ['08:31:36.796', '08:39:03.544'], 10808: ['08:31:38.713', '08:45:15.661'], 11000: ['08:31:39.388', '08:45:15.661'], 11192: ['08:31:39.542', '08:45:15.661'], 11384: ['08:31:40.527', '08:45:15.661'], 11576: ['08:31:40.693', '08:45:15.661'], 11768: ['08:31:41.269', '08:45:15.661'], 11960: ['08:31:43.600', '08:45:15.661'], 12152: ['08:31:43.733', '08:45:15.661'], 12344: ['08:31:43.899', '08:45:15.661'], 12536: ['08:31:51.734', '08:45:15.661'], 12728: ['08:31:51.823', '08:48:40.587'], 12920: ['08:31:53.689', '08:48:40.587'], 13112: ['08:31:53.834', '08:48:40.587'], 13304: ['08:31:54.009', '08:48:40.587'], 13496: ['08:31:54.985', '08:48:40.587'], 13688: ['08:31:55.160', '08:48:40.587'], 13880: ['08:31:55.305', '08:48:40.587'], 14072: ['08:32:00.412', '08:48:40.587'], 14264: ['08:32:14.935', '08:48:40.587'], 14456: ['08:32:15.015', '08:49:20.590'], 14648: ['08:32:15.030', '08:49:20.590'], 14840: ['08:32:15.040', '08:49:20.590'], 15032: ['08:32:15.041', '08:49:20.590'], 15224: ['08:32:15.045', '08:49:20.590']}
INFO 10-06 08:57:53.167 [manager.py:565] the req info
INFO 10-06 08:57:53.167 [manager.py:565]  {56: ['08:30:44.679', '08:30:45.141'], 248: ['08:30:46.900', '08:30:56.391'], 440: ['08:30:46.908', '08:30:56.391'], 632: ['08:30:46.912', '08:30:56.391'], 824: ['08:30:46.913', '08:30:56.391'], 1016: ['08:30:46.914', '08:30:56.391'], 1208: ['08:30:46.948', '08:31:06.152'], 1400: ['08:30:51.183', '08:31:06.152'], 1592: ['08:30:56.391', '08:31:06.152'], 1784: ['08:30:58.200', '08:31:06.152'], 1976: ['08:30:58.204', '08:31:06.152'], 2168: ['08:30:58.221', '08:31:06.152'], 2360: ['08:30:58.235', '08:31:31.590'], 2552: ['08:30:58.237', '08:31:31.590'], 2744: ['08:30:58.240', '08:31:31.590'], 2936: ['08:30:58.244', '08:31:31.590'], 3128: ['08:30:58.248', '08:31:31.590'], 3320: ['08:31:00.842', '08:31:31.590'], 3512: ['08:31:01.234', '08:31:31.590'], 3704: ['08:31:01.501', '08:31:31.590'], 3896: ['08:31:01.810', '08:31:31.590'], 4088: ['08:31:02.116', '08:31:31.590'], 4280: ['08:31:21.468', '08:32:00.411'], 4472: ['08:31:21.470', '08:32:00.411'], 4664: ['08:31:21.488', '08:32:00.411'], 4856: ['08:31:21.496', '08:32:00.411'], 5048: ['08:31:21.496', '08:32:00.411'], 5240: ['08:31:21.537', '08:32:29.419'], 5432: ['08:31:21.538', '08:32:29.419'], 5624: ['08:31:21.538', '08:32:29.419'], 5816: ['08:31:21.543', '08:32:29.419'], 6008: ['08:31:21.544', '08:32:29.419'], 6200: ['08:31:21.545', '08:32:29.419'], 6392: ['08:31:21.623', '08:32:56.190'], 6584: ['08:31:21.625', '08:32:56.190'], 6776: ['08:31:21.626', '08:32:56.190'], 6968: ['08:31:21.626', '08:32:56.190'], 7160: ['08:31:21.630', '08:32:56.190'], 7352: ['08:31:21.642', '08:32:56.190'], 7544: ['08:31:21.643', '08:35:42.465'], 7736: ['08:31:21.763', '08:35:42.465'], 7928: ['08:31:22.093', '08:35:42.465'], 8120: ['08:31:22.182', '08:35:42.465'], 8312: ['08:31:22.286', '08:35:42.465'], 8504: ['08:31:24.147', '08:35:42.465'], 8696: ['08:31:24.396', '08:35:42.465'], 8888: ['08:31:26.622', '08:35:42.465'], 9080: ['08:31:26.836', '08:35:42.465'], 9272: ['08:31:26.900', '08:35:42.465'], 9464: ['08:31:27.048', '08:39:03.544'], 9656: ['08:31:27.157', '08:39:03.544'], 9848: ['08:31:28.091', '08:39:03.544'], 10040: ['08:31:28.581', '08:39:03.544'], 10232: ['08:31:28.990', '08:39:03.544'], 10424: ['08:31:29.741', '08:39:03.544'], 10616: ['08:31:36.796', '08:39:03.544'], 10808: ['08:31:38.713', '08:45:15.661'], 11000: ['08:31:39.388', '08:45:15.661'], 11192: ['08:31:39.542', '08:45:15.661'], 11384: ['08:31:40.527', '08:45:15.661'], 11576: ['08:31:40.693', '08:45:15.661'], 11768: ['08:31:41.269', '08:45:15.661'], 11960: ['08:31:43.600', '08:45:15.661'], 12152: ['08:31:43.733', '08:45:15.661'], 12344: ['08:31:43.899', '08:45:15.661'], 12536: ['08:31:51.734', '08:45:15.661'], 12728: ['08:31:51.823', '08:48:40.587'], 12920: ['08:31:53.689', '08:48:40.587'], 13112: ['08:31:53.834', '08:48:40.587'], 13304: ['08:31:54.009', '08:48:40.587'], 13496: ['08:31:54.985', '08:48:40.587'], 13688: ['08:31:55.160', '08:48:40.587'], 13880: ['08:31:55.305', '08:48:40.587'], 14072: ['08:32:00.412', '08:48:40.587'], 14264: ['08:32:14.935', '08:48:40.587'], 14456: ['08:32:15.015', '08:49:20.590'], 14648: ['08:32:15.030', '08:49:20.590'], 14840: ['08:32:15.040', '08:49:20.590'], 15032: ['08:32:15.041', '08:49:20.590'], 15224: ['08:32:15.045', '08:49:20.590']}
/opt/conda/lib/python3.9/multiprocessing/resource_tracker.py:216: UserWarning: resource_tracker: There appear to be 2 leaked shared_memory objects to clean up at shutdown
  warnings.warn('resource_tracker: There appear to be %d '
