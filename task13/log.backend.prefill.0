app-vzucgzpq-848bb9b8b7-vhrtq 10.119.22.36 0
Executing command: python -m lightllm.server.backend_pord_server --model_dir /data/basemodel/llama3.1/Meta-Llama-3.1-8B/ --max_req_total_len 140000 --max_req_input_len 135000 --max_total_token_num 320000 --parameter_cache /data/fanyunqian/ela-1004/ela-1004param_cache/8b_tp1/ --host 10.119.22.36 --tp 1 --nccl_ip 10.119.22.36 --nccl_port 9999 --local_instance_num 8 --instance_id 0 --instance_num 32 --router_socket 10.119.22.36:13000 --detokenization_socket 10.119.22.36:31000 --dist_mode prefill --socket_server_addr_port 10.119.22.36:19000 --running_max_req_size 10 --batch_max_tokens 140010 --decode_scheduler_url 10.119.22.36:28000
INFO 10-06 08:24:48.009 [backend_pord_server.py:167] pord server args: Namespace(host='10.119.22.36', port=8000, model_dir='/data/basemodel/llama3.1/Meta-Llama-3.1-8B/', tokenizer_mode='slow', load_way='HF', max_total_token_num=320000, batch_max_tokens=140010, eos_id=[2], running_max_req_size=10, tp=1, instance_id=0, local_instance_num=8, instance_num=32, max_req_input_len=135000, max_req_total_len=140000, nccl_ip='10.119.22.36', nccl_port=9999, mode=[], trust_remote_code=False, disable_log_stats=False, log_stats_interval=10, router_token_ratio=0.0, router_max_new_token_len=1024, router_max_wait_tokens=10, use_dynamic_prompt_cache=False, splitfuse_block_size=256, splitfuse_mode=False, beam_mode=False, diverse_mode=False, token_healing_mode=False, enable_multimodal=False, cache_capacity=200, cache_reserved_ratio=0.5, data_type='float16', return_all_prompt_logprobs=False, long_truncation_mode=None, use_tgi_api=False, health_monitor=False, node_gpu_count=8, dist_mode='prefill', decode_scheduler_url='10.119.22.36:28000', decode_scheduler_socket=None, detokenization_socket='10.119.22.36:31000', router_socket='10.119.22.36:13000', socket_server_addr_port='10.119.22.36:19000', parameter_cache='/data/fanyunqian/ela-1004/ela-1004param_cache/8b_tp1/')
INFO 10-06 08:24:51.826 [manager.py:1171] start router process with prefill 10.119.22.36:13000 10.119.22.36:31000 [10000]
link shm 9999_0_mem_manger_can_use_token_num
link shm 9999_0_shared_token_load
INFO 10-06 08:28:18.414 [manager.py:147] router (pull) bind to 10.119.22.36:13000
INFO 10-06 08:28:18.415 [manager.py:151] router (push) connect to 10.119.22.36:31000
INFO 10-06 08:28:18.415 [model_rpc.py:42] use ContinuesBatchBackend
INFO 10-06 08:28:27.134 [dist.py:51] pid=482497 global rank = 0 / 32, reduce group: start=0, end=1, gpu idx = 0
INFO 10-06 08:28:29.677 [basemodel.py:156] load weights from parameter cache
INFO 10-06 08:28:32.096 [mem_utils.py:11] mode setting params: []
INFO 10-06 08:28:32.096 [mem_utils.py:23] Model kv cache using mode normal
INFO 10-06 08:28:32.109 [mem_manager.py:57] mem manger get unique_name : 9999_0
link shm 9999_0_mem_manger_can_use_token_num
INFO 10-06 08:28:32.856 [base_backend.py:261] loaded model class <class 'lightllm.models.llama.model.LlamaTpPartModel'>
INFO 10-06 08:28:32.856 [manager.py:421] use req queue ContinuesBatchQueue
INFO 10-06 08:28:32.857 [dist.py:57] re-set device to 0
INFO 10-06 08:28:32.857 [start_utils.py:29] init func start_router_process : init ok
INFO 10-06 08:28:32.858 [dist.py:57] re-set device to 0
INFO 10-06 08:28:32.859 [manager.py:370] start socket server at 10.119.22.36:19000
INFO 10-06 08:30:36.854 [impl.py:39] after adding new req, max_size: 1592
INFO 10-06 08:30:36.854 [manager.py:668] start prefill req_id = 0 group_req_id = 0 at 08:30:36.854
INFO 10-06 08:30:36.854 [manager.py:619] requst decode for req_ids=[0] which needs 1593 tokens
INFO 10-06 08:30:36.874 [manager.py:64] MEASURE request_for_decode_scheduler cost 0.020224332809448242 s
INFO 10-06 08:30:36.894 [manager.py:64] MEASURE init_batch cost 0.01964592933654785 s
INFO 10-06 08:30:36.894 [manager.py:708] send req_ids = [0] to decode scheduler
/data/fanyunqian/ela-1004/ela-1004distkv/lightllm/lightllm/common/mem_manager.py:353: UserWarning: To copy construct from a tensor, it is recommended to use sourceTensor.clone().detach() or sourceTensor.clone().detach().requires_grad_(True), rather than torch.tensor(sourceTensor).
  self.layer_cnt[p2p_idx][1] = torch.tensor(prefill_tokens, dtype=torch.int32, device='cuda')
INFO 10-06 08:30:37.440 [manager.py:64] MEASURE prefill_batch cost 0.3186173439025879 s
INFO 10-06 08:30:37.440 [manager.py:689] end prefill req_id = 0 group_req_id = 0 at 08:30:37.440
INFO 10-06 08:30:37.447 [manager.py:698] end prefill all things req_id = 0 group_req_id = 0 at 08:30:37.447
INFO 10-06 08:30:37.450 [manager.py:701] all take 0.593
INFO 10-06 08:30:44.799 [impl.py:39] after adding new req, max_size: 1357
INFO 10-06 08:30:44.799 [manager.py:668] start prefill req_id = 192 group_req_id = 192 at 08:30:44.799
INFO 10-06 08:30:44.799 [manager.py:619] requst decode for req_ids=[192] which needs 1358 tokens
INFO 10-06 08:30:44.814 [manager.py:64] MEASURE request_for_decode_scheduler cost 0.014439821243286133 s
INFO 10-06 08:30:44.814 [manager.py:64] MEASURE init_batch cost 0.0006411075592041016 s
INFO 10-06 08:30:44.814 [manager.py:708] send req_ids = [192] to decode scheduler
INFO 10-06 08:30:49.587 [manager.py:64] MEASURE prefill_batch cost 0.11477041244506836 s
INFO 10-06 08:30:49.587 [manager.py:689] end prefill req_id = 192 group_req_id = 192 at 08:30:49.587
INFO 10-06 08:30:49.589 [manager.py:698] end prefill all things req_id = 192 group_req_id = 192 at 08:30:49.589
INFO 10-06 08:30:49.589 [manager.py:701] all take 4.79
INFO 10-06 08:30:49.638 [impl.py:39] after adding new req, max_size: 17051
INFO 10-06 08:30:49.639 [impl.py:39] after adding new req, max_size: 19214
INFO 10-06 08:30:49.639 [impl.py:39] after adding new req, max_size: 20245
INFO 10-06 08:30:49.639 [impl.py:39] after adding new req, max_size: 23614
INFO 10-06 08:30:49.639 [impl.py:39] after adding new req, max_size: 27847
INFO 10-06 08:30:49.639 [impl.py:39] after adding new req, max_size: 86149
INFO 10-06 08:30:49.639 [manager.py:668] start prefill req_id = 384 group_req_id = 384 at 08:30:49.639
INFO 10-06 08:30:49.639 [manager.py:668] start prefill req_id = 576 group_req_id = 576 at 08:30:49.639
INFO 10-06 08:30:49.639 [manager.py:668] start prefill req_id = 768 group_req_id = 768 at 08:30:49.639
INFO 10-06 08:30:49.639 [manager.py:668] start prefill req_id = 960 group_req_id = 960 at 08:30:49.639
INFO 10-06 08:30:49.639 [manager.py:668] start prefill req_id = 1152 group_req_id = 1152 at 08:30:49.639
INFO 10-06 08:30:49.639 [manager.py:668] start prefill req_id = 1344 group_req_id = 1344 at 08:30:49.639
INFO 10-06 08:30:49.639 [manager.py:619] requst decode for req_ids=[384, 576, 768, 960, 1152, 1344] which needs 86417 tokens
INFO 10-06 08:30:59.727 [manager.py:64] MEASURE request_for_decode_scheduler cost 10.087787389755249 s
INFO 10-06 08:30:59.733 [manager.py:64] MEASURE init_batch cost 0.006558656692504883 s
INFO 10-06 08:30:59.739 [manager.py:708] send req_ids = [384, 576, 768, 960, 1152, 1344] to decode scheduler
INFO 10-06 08:31:43.567 [manager.py:64] MEASURE prefill_batch cost 14.685067653656006 s
INFO 10-06 08:31:43.567 [manager.py:689] end prefill req_id = 384 group_req_id = 384 at 08:31:43.567
INFO 10-06 08:31:43.567 [manager.py:689] end prefill req_id = 576 group_req_id = 576 at 08:31:43.567
INFO 10-06 08:31:43.567 [manager.py:689] end prefill req_id = 768 group_req_id = 768 at 08:31:43.567
INFO 10-06 08:31:43.567 [manager.py:689] end prefill req_id = 960 group_req_id = 960 at 08:31:43.567
INFO 10-06 08:31:43.567 [manager.py:689] end prefill req_id = 1152 group_req_id = 1152 at 08:31:43.567
INFO 10-06 08:31:43.567 [manager.py:689] end prefill req_id = 1344 group_req_id = 1344 at 08:31:43.567
INFO 10-06 08:31:43.573 [manager.py:698] end prefill all things req_id = 384 group_req_id = 384 at 08:31:43.573
INFO 10-06 08:31:43.573 [manager.py:698] end prefill all things req_id = 576 group_req_id = 576 at 08:31:43.573
INFO 10-06 08:31:43.573 [manager.py:698] end prefill all things req_id = 768 group_req_id = 768 at 08:31:43.573
INFO 10-06 08:31:43.573 [manager.py:698] end prefill all things req_id = 960 group_req_id = 960 at 08:31:43.573
INFO 10-06 08:31:43.573 [manager.py:698] end prefill all things req_id = 1152 group_req_id = 1152 at 08:31:43.573
INFO 10-06 08:31:43.573 [manager.py:698] end prefill all things req_id = 1344 group_req_id = 1344 at 08:31:43.573
INFO 10-06 08:31:43.573 [manager.py:701] all take 53.934
INFO 10-06 08:31:43.665 [impl.py:39] after adding new req, max_size: 1300
INFO 10-06 08:31:43.665 [impl.py:39] after adding new req, max_size: 1731
INFO 10-06 08:31:43.665 [impl.py:39] after adding new req, max_size: 2896
INFO 10-06 08:31:43.665 [impl.py:39] after adding new req, max_size: 25756
INFO 10-06 08:31:43.665 [impl.py:39] after adding new req, max_size: 27686
INFO 10-06 08:31:43.665 [impl.py:39] after adding new req, max_size: 28360
INFO 10-06 08:31:43.665 [impl.py:39] after adding new req, max_size: 29542
INFO 10-06 08:31:43.665 [impl.py:39] after adding new req, max_size: 30651
INFO 10-06 08:31:43.665 [impl.py:39] after adding new req, max_size: 32140
INFO 10-06 08:31:43.665 [impl.py:39] after adding new req, max_size: 144521
INFO 10-06 08:31:43.665 [manager.py:668] start prefill req_id = 1536 group_req_id = 1536 at 08:31:43.665
INFO 10-06 08:31:43.665 [manager.py:668] start prefill req_id = 1728 group_req_id = 1728 at 08:31:43.665
INFO 10-06 08:31:43.665 [manager.py:668] start prefill req_id = 1920 group_req_id = 1920 at 08:31:43.665
INFO 10-06 08:31:43.665 [manager.py:668] start prefill req_id = 2112 group_req_id = 2112 at 08:31:43.665
INFO 10-06 08:31:43.665 [manager.py:668] start prefill req_id = 2304 group_req_id = 2304 at 08:31:43.665
INFO 10-06 08:31:43.665 [manager.py:668] start prefill req_id = 2496 group_req_id = 2496 at 08:31:43.665
INFO 10-06 08:31:43.665 [manager.py:668] start prefill req_id = 2688 group_req_id = 2688 at 08:31:43.665
INFO 10-06 08:31:43.666 [manager.py:668] start prefill req_id = 2880 group_req_id = 2880 at 08:31:43.665
INFO 10-06 08:31:43.666 [manager.py:668] start prefill req_id = 3072 group_req_id = 3072 at 08:31:43.665
INFO 10-06 08:31:43.666 [manager.py:619] requst decode for req_ids=[1536, 1728, 1920, 2112, 2304, 2496, 2688, 2880, 3072] which needs 32935 tokens
INFO 10-06 08:31:53.288 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:32:07.369 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:32:24.963 [manager.py:64] MEASURE request_for_decode_scheduler cost 41.297119140625 s
INFO 10-06 08:32:24.966 [manager.py:64] MEASURE init_batch cost 0.0027008056640625 s
INFO 10-06 08:32:24.967 [manager.py:708] send req_ids = [1536, 1728, 1920, 2112, 2304, 2496, 2688, 2880, 3072] to decode scheduler
INFO 10-06 08:32:29.976 [manager.py:64] MEASURE prefill_batch cost 4.6324427127838135 s
INFO 10-06 08:32:29.976 [manager.py:689] end prefill req_id = 1536 group_req_id = 1536 at 08:32:29.976
INFO 10-06 08:32:29.976 [manager.py:689] end prefill req_id = 1728 group_req_id = 1728 at 08:32:29.976
INFO 10-06 08:32:29.976 [manager.py:689] end prefill req_id = 1920 group_req_id = 1920 at 08:32:29.976
INFO 10-06 08:32:29.976 [manager.py:689] end prefill req_id = 2112 group_req_id = 2112 at 08:32:29.976
INFO 10-06 08:32:29.976 [manager.py:689] end prefill req_id = 2304 group_req_id = 2304 at 08:32:29.976
INFO 10-06 08:32:29.976 [manager.py:689] end prefill req_id = 2496 group_req_id = 2496 at 08:32:29.976
INFO 10-06 08:32:29.976 [manager.py:689] end prefill req_id = 2688 group_req_id = 2688 at 08:32:29.976
INFO 10-06 08:32:29.976 [manager.py:689] end prefill req_id = 2880 group_req_id = 2880 at 08:32:29.976
INFO 10-06 08:32:29.976 [manager.py:689] end prefill req_id = 3072 group_req_id = 3072 at 08:32:29.976
INFO 10-06 08:32:29.977 [manager.py:698] end prefill all things req_id = 1536 group_req_id = 1536 at 08:32:29.977
INFO 10-06 08:32:29.977 [manager.py:698] end prefill all things req_id = 1728 group_req_id = 1728 at 08:32:29.977
INFO 10-06 08:32:29.977 [manager.py:698] end prefill all things req_id = 1920 group_req_id = 1920 at 08:32:29.977
INFO 10-06 08:32:29.977 [manager.py:698] end prefill all things req_id = 2112 group_req_id = 2112 at 08:32:29.977
INFO 10-06 08:32:29.977 [manager.py:698] end prefill all things req_id = 2304 group_req_id = 2304 at 08:32:29.977
INFO 10-06 08:32:29.977 [manager.py:698] end prefill all things req_id = 2496 group_req_id = 2496 at 08:32:29.977
INFO 10-06 08:32:29.977 [manager.py:698] end prefill all things req_id = 2688 group_req_id = 2688 at 08:32:29.977
INFO 10-06 08:32:29.977 [manager.py:698] end prefill all things req_id = 2880 group_req_id = 2880 at 08:32:29.977
INFO 10-06 08:32:29.977 [manager.py:698] end prefill all things req_id = 3072 group_req_id = 3072 at 08:32:29.977
INFO 10-06 08:32:29.977 [manager.py:701] all take 46.312
INFO 10-06 08:32:29.987 [impl.py:39] after adding new req, max_size: 112645
INFO 10-06 08:32:29.988 [impl.py:39] after adding new req, max_size: 121484
INFO 10-06 08:32:29.988 [impl.py:39] after adding new req, max_size: 130111
INFO 10-06 08:32:29.988 [impl.py:39] after adding new req, max_size: 137329
INFO 10-06 08:32:29.988 [impl.py:39] after adding new req, max_size: 140382
INFO 10-06 08:32:29.988 [impl.py:39] after adding new req, max_size: 270049
INFO 10-06 08:32:29.988 [manager.py:668] start prefill req_id = 3264 group_req_id = 3264 at 08:32:29.988
INFO 10-06 08:32:29.988 [manager.py:668] start prefill req_id = 3456 group_req_id = 3456 at 08:32:29.988
INFO 10-06 08:32:29.988 [manager.py:668] start prefill req_id = 3648 group_req_id = 3648 at 08:32:29.988
INFO 10-06 08:32:29.988 [manager.py:668] start prefill req_id = 3840 group_req_id = 3840 at 08:32:29.988
INFO 10-06 08:32:29.988 [manager.py:668] start prefill req_id = 4032 group_req_id = 4032 at 08:32:29.988
INFO 10-06 08:32:29.988 [manager.py:619] requst decode for req_ids=[3264, 3456, 3648, 3840, 4032] which needs 140870 tokens
INFO 10-06 08:32:47.043 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:32:55.938 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:33:11.136 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:33:26.774 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:33:43.830 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:33:46.694 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:34:02.898 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:34:06.559 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:34:26.543 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:34:46.806 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:35:07.582 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:35:12.886 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:35:28.990 [manager.py:64] MEASURE request_for_decode_scheduler cost 179.00194191932678 s
INFO 10-06 08:35:28.999 [manager.py:64] MEASURE init_batch cost 0.009313583374023438 s
INFO 10-06 08:35:29.008 [manager.py:708] send req_ids = [3264, 3456, 3648, 3840, 4032] to decode scheduler
INFO 10-06 08:36:10.292 [manager.py:64] MEASURE prefill_batch cost 40.95135951042175 s
INFO 10-06 08:36:10.292 [manager.py:689] end prefill req_id = 3264 group_req_id = 3264 at 08:36:10.292
INFO 10-06 08:36:10.292 [manager.py:689] end prefill req_id = 3456 group_req_id = 3456 at 08:36:10.292
INFO 10-06 08:36:10.292 [manager.py:689] end prefill req_id = 3648 group_req_id = 3648 at 08:36:10.292
INFO 10-06 08:36:10.292 [manager.py:689] end prefill req_id = 3840 group_req_id = 3840 at 08:36:10.292
INFO 10-06 08:36:10.292 [manager.py:689] end prefill req_id = 4032 group_req_id = 4032 at 08:36:10.292
INFO 10-06 08:36:11.117 [manager.py:698] end prefill all things req_id = 3264 group_req_id = 3264 at 08:36:11.117
INFO 10-06 08:36:11.117 [manager.py:698] end prefill all things req_id = 3456 group_req_id = 3456 at 08:36:11.117
INFO 10-06 08:36:11.117 [manager.py:698] end prefill all things req_id = 3648 group_req_id = 3648 at 08:36:11.117
INFO 10-06 08:36:11.117 [manager.py:698] end prefill all things req_id = 3840 group_req_id = 3840 at 08:36:11.117
INFO 10-06 08:36:11.117 [manager.py:698] end prefill all things req_id = 4032 group_req_id = 4032 at 08:36:11.117
INFO 10-06 08:36:11.117 [manager.py:701] all take 221.129
INFO 10-06 08:36:11.130 [impl.py:39] after adding new req, max_size: 130047
INFO 10-06 08:36:11.130 [impl.py:39] after adding new req, max_size: 132421
INFO 10-06 08:36:11.130 [impl.py:39] after adding new req, max_size: 154926
INFO 10-06 08:36:11.130 [manager.py:668] start prefill req_id = 4224 group_req_id = 4224 at 08:36:11.130
INFO 10-06 08:36:11.130 [manager.py:668] start prefill req_id = 4416 group_req_id = 4416 at 08:36:11.130
INFO 10-06 08:36:11.131 [manager.py:619] requst decode for req_ids=[4224, 4416] which needs 132465 tokens
INFO 10-06 08:36:24.555 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:36:48.591 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:37:07.707 [manager.py:64] MEASURE request_for_decode_scheduler cost 56.576704025268555 s
INFO 10-06 08:37:07.717 [manager.py:64] MEASURE init_batch cost 0.009294271469116211 s
INFO 10-06 08:37:07.725 [manager.py:708] send req_ids = [4224, 4416] to decode scheduler
INFO 10-06 08:37:58.048 [manager.py:64] MEASURE prefill_batch cost 49.95181608200073 s
INFO 10-06 08:37:58.049 [manager.py:689] end prefill req_id = 4224 group_req_id = 4224 at 08:37:58.049
INFO 10-06 08:37:58.049 [manager.py:689] end prefill req_id = 4416 group_req_id = 4416 at 08:37:58.049
INFO 10-06 08:37:58.050 [manager.py:698] end prefill all things req_id = 4224 group_req_id = 4224 at 08:37:58.050
INFO 10-06 08:37:58.050 [manager.py:698] end prefill all things req_id = 4416 group_req_id = 4416 at 08:37:58.050
INFO 10-06 08:37:58.050 [manager.py:701] all take 106.92
INFO 10-06 08:37:58.062 [impl.py:39] after adding new req, max_size: 22529
INFO 10-06 08:37:58.062 [impl.py:39] after adding new req, max_size: 23936
INFO 10-06 08:37:58.062 [impl.py:39] after adding new req, max_size: 24966
INFO 10-06 08:37:58.063 [impl.py:39] after adding new req, max_size: 26179
INFO 10-06 08:37:58.063 [impl.py:39] after adding new req, max_size: 26948
INFO 10-06 08:37:58.063 [impl.py:39] after adding new req, max_size: 28784
INFO 10-06 08:37:58.063 [impl.py:39] after adding new req, max_size: 52703
INFO 10-06 08:37:58.063 [impl.py:39] after adding new req, max_size: 54389
INFO 10-06 08:37:58.063 [impl.py:39] after adding new req, max_size: 77431
INFO 10-06 08:37:58.063 [impl.py:39] after adding new req, max_size: 79851
INFO 10-06 08:37:58.063 [impl.py:39] after adding new req, max_size: 80479
INFO 10-06 08:37:58.063 [manager.py:668] start prefill req_id = 4608 group_req_id = 4608 at 08:37:58.063
INFO 10-06 08:37:58.063 [manager.py:668] start prefill req_id = 4800 group_req_id = 4800 at 08:37:58.063
INFO 10-06 08:37:58.063 [manager.py:668] start prefill req_id = 4992 group_req_id = 4992 at 08:37:58.063
INFO 10-06 08:37:58.063 [manager.py:668] start prefill req_id = 5184 group_req_id = 5184 at 08:37:58.063
INFO 10-06 08:37:58.063 [manager.py:668] start prefill req_id = 5376 group_req_id = 5376 at 08:37:58.063
INFO 10-06 08:37:58.063 [manager.py:668] start prefill req_id = 5568 group_req_id = 5568 at 08:37:58.063
INFO 10-06 08:37:58.063 [manager.py:668] start prefill req_id = 5760 group_req_id = 5760 at 08:37:58.063
INFO 10-06 08:37:58.063 [manager.py:668] start prefill req_id = 5952 group_req_id = 5952 at 08:37:58.063
INFO 10-06 08:37:58.063 [manager.py:668] start prefill req_id = 6144 group_req_id = 6144 at 08:37:58.063
INFO 10-06 08:37:58.063 [manager.py:668] start prefill req_id = 6336 group_req_id = 6336 at 08:37:58.063
INFO 10-06 08:37:58.063 [manager.py:619] requst decode for req_ids=[4608, 4800, 4992, 5184, 5376, 5568, 5760, 5952, 6144, 6336] which needs 81507 tokens
INFO 10-06 08:38:14.254 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:38:36.292 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:39:01.373 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:39:15.557 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:39:32.641 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:39:46.835 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:39:53.725 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:40:12.895 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:40:32.962 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:40:47.215 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:40:53.587 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:41:11.588 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:41:31.688 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:41:50.745 [manager.py:64] MEASURE request_for_decode_scheduler cost 232.68128418922424 s
INFO 10-06 08:41:50.751 [manager.py:64] MEASURE init_batch cost 0.006087064743041992 s
INFO 10-06 08:41:50.756 [manager.py:708] send req_ids = [4608, 4800, 4992, 5184, 5376, 5568, 5760, 5952, 6144, 6336] to decode scheduler
INFO 10-06 08:42:04.905 [manager.py:64] MEASURE prefill_batch cost 14.147566080093384 s
INFO 10-06 08:42:04.905 [manager.py:689] end prefill req_id = 4608 group_req_id = 4608 at 08:42:04.905
INFO 10-06 08:42:04.905 [manager.py:689] end prefill req_id = 4800 group_req_id = 4800 at 08:42:04.905
INFO 10-06 08:42:04.905 [manager.py:689] end prefill req_id = 4992 group_req_id = 4992 at 08:42:04.905
INFO 10-06 08:42:04.905 [manager.py:689] end prefill req_id = 5184 group_req_id = 5184 at 08:42:04.905
INFO 10-06 08:42:04.905 [manager.py:689] end prefill req_id = 5376 group_req_id = 5376 at 08:42:04.905
INFO 10-06 08:42:04.905 [manager.py:689] end prefill req_id = 5568 group_req_id = 5568 at 08:42:04.905
INFO 10-06 08:42:04.905 [manager.py:689] end prefill req_id = 5760 group_req_id = 5760 at 08:42:04.905
INFO 10-06 08:42:04.905 [manager.py:689] end prefill req_id = 5952 group_req_id = 5952 at 08:42:04.905
INFO 10-06 08:42:04.905 [manager.py:689] end prefill req_id = 6144 group_req_id = 6144 at 08:42:04.905
INFO 10-06 08:42:04.905 [manager.py:689] end prefill req_id = 6336 group_req_id = 6336 at 08:42:04.905
INFO 10-06 08:42:04.906 [manager.py:698] end prefill all things req_id = 4608 group_req_id = 4608 at 08:42:04.906
INFO 10-06 08:42:04.906 [manager.py:698] end prefill all things req_id = 4800 group_req_id = 4800 at 08:42:04.906
INFO 10-06 08:42:04.906 [manager.py:698] end prefill all things req_id = 4992 group_req_id = 4992 at 08:42:04.906
INFO 10-06 08:42:04.906 [manager.py:698] end prefill all things req_id = 5184 group_req_id = 5184 at 08:42:04.906
INFO 10-06 08:42:04.906 [manager.py:698] end prefill all things req_id = 5376 group_req_id = 5376 at 08:42:04.906
INFO 10-06 08:42:04.907 [manager.py:698] end prefill all things req_id = 5568 group_req_id = 5568 at 08:42:04.906
INFO 10-06 08:42:04.907 [manager.py:698] end prefill all things req_id = 5760 group_req_id = 5760 at 08:42:04.906
INFO 10-06 08:42:04.907 [manager.py:698] end prefill all things req_id = 5952 group_req_id = 5952 at 08:42:04.906
INFO 10-06 08:42:04.907 [manager.py:698] end prefill all things req_id = 6144 group_req_id = 6144 at 08:42:04.906
INFO 10-06 08:42:04.907 [manager.py:698] end prefill all things req_id = 6336 group_req_id = 6336 at 08:42:04.906
INFO 10-06 08:42:04.907 [manager.py:701] all take 246.843
INFO 10-06 08:42:04.918 [impl.py:39] after adding new req, max_size: 923
INFO 10-06 08:42:04.919 [impl.py:39] after adding new req, max_size: 4863
INFO 10-06 08:42:04.919 [impl.py:39] after adding new req, max_size: 6061
INFO 10-06 08:42:04.919 [impl.py:39] after adding new req, max_size: 8402
INFO 10-06 08:42:04.919 [impl.py:39] after adding new req, max_size: 10217
INFO 10-06 08:42:04.919 [impl.py:39] after adding new req, max_size: 19932
INFO 10-06 08:42:04.919 [impl.py:39] after adding new req, max_size: 25704
INFO 10-06 08:42:04.919 [impl.py:39] after adding new req, max_size: 27789
INFO 10-06 08:42:04.919 [impl.py:39] after adding new req, max_size: 28993
INFO 10-06 08:42:04.919 [impl.py:39] after adding new req, max_size: 29668
INFO 10-06 08:42:04.919 [impl.py:39] after adding new req, max_size: 32147
INFO 10-06 08:42:04.919 [manager.py:668] start prefill req_id = 6528 group_req_id = 6528 at 08:42:04.919
INFO 10-06 08:42:04.919 [manager.py:668] start prefill req_id = 6720 group_req_id = 6720 at 08:42:04.919
INFO 10-06 08:42:04.919 [manager.py:668] start prefill req_id = 6912 group_req_id = 6912 at 08:42:04.919
INFO 10-06 08:42:04.919 [manager.py:668] start prefill req_id = 7104 group_req_id = 7104 at 08:42:04.919
INFO 10-06 08:42:04.919 [manager.py:668] start prefill req_id = 7296 group_req_id = 7296 at 08:42:04.919
INFO 10-06 08:42:04.919 [manager.py:668] start prefill req_id = 7488 group_req_id = 7488 at 08:42:04.919
INFO 10-06 08:42:04.919 [manager.py:668] start prefill req_id = 7680 group_req_id = 7680 at 08:42:04.919
INFO 10-06 08:42:04.919 [manager.py:668] start prefill req_id = 7872 group_req_id = 7872 at 08:42:04.919
INFO 10-06 08:42:04.919 [manager.py:668] start prefill req_id = 8064 group_req_id = 8064 at 08:42:04.919
INFO 10-06 08:42:04.919 [manager.py:668] start prefill req_id = 8256 group_req_id = 8256 at 08:42:04.919
INFO 10-06 08:42:04.920 [manager.py:619] requst decode for req_ids=[6528, 6720, 6912, 7104, 7296, 7488, 7680, 7872, 8064, 8256] which needs 30768 tokens
INFO 10-06 08:42:19.832 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:42:37.651 [manager.py:64] MEASURE request_for_decode_scheduler cost 32.731998920440674 s
INFO 10-06 08:42:37.654 [manager.py:64] MEASURE init_batch cost 0.002653837203979492 s
INFO 10-06 08:42:37.656 [manager.py:708] send req_ids = [6528, 6720, 6912, 7104, 7296, 7488, 7680, 7872, 8064, 8256] to decode scheduler
INFO 10-06 08:42:39.781 [manager.py:64] MEASURE prefill_batch cost 2.1237740516662598 s
INFO 10-06 08:42:39.781 [manager.py:689] end prefill req_id = 6528 group_req_id = 6528 at 08:42:39.781
INFO 10-06 08:42:39.782 [manager.py:689] end prefill req_id = 6720 group_req_id = 6720 at 08:42:39.781
INFO 10-06 08:42:39.782 [manager.py:689] end prefill req_id = 6912 group_req_id = 6912 at 08:42:39.781
INFO 10-06 08:42:39.782 [manager.py:689] end prefill req_id = 7104 group_req_id = 7104 at 08:42:39.781
INFO 10-06 08:42:39.782 [manager.py:689] end prefill req_id = 7296 group_req_id = 7296 at 08:42:39.781
INFO 10-06 08:42:39.782 [manager.py:689] end prefill req_id = 7488 group_req_id = 7488 at 08:42:39.781
INFO 10-06 08:42:39.782 [manager.py:689] end prefill req_id = 7680 group_req_id = 7680 at 08:42:39.781
INFO 10-06 08:42:39.782 [manager.py:689] end prefill req_id = 7872 group_req_id = 7872 at 08:42:39.781
INFO 10-06 08:42:39.782 [manager.py:689] end prefill req_id = 8064 group_req_id = 8064 at 08:42:39.781
INFO 10-06 08:42:39.782 [manager.py:689] end prefill req_id = 8256 group_req_id = 8256 at 08:42:39.781
INFO 10-06 08:42:44.483 [manager.py:698] end prefill all things req_id = 6528 group_req_id = 6528 at 08:42:44.483
INFO 10-06 08:42:44.483 [manager.py:698] end prefill all things req_id = 6720 group_req_id = 6720 at 08:42:44.483
INFO 10-06 08:42:44.483 [manager.py:698] end prefill all things req_id = 6912 group_req_id = 6912 at 08:42:44.483
INFO 10-06 08:42:44.483 [manager.py:698] end prefill all things req_id = 7104 group_req_id = 7104 at 08:42:44.483
INFO 10-06 08:42:44.483 [manager.py:698] end prefill all things req_id = 7296 group_req_id = 7296 at 08:42:44.483
INFO 10-06 08:42:44.483 [manager.py:698] end prefill all things req_id = 7488 group_req_id = 7488 at 08:42:44.483
INFO 10-06 08:42:44.483 [manager.py:698] end prefill all things req_id = 7680 group_req_id = 7680 at 08:42:44.483
INFO 10-06 08:42:44.483 [manager.py:698] end prefill all things req_id = 7872 group_req_id = 7872 at 08:42:44.483
INFO 10-06 08:42:44.483 [manager.py:698] end prefill all things req_id = 8064 group_req_id = 8064 at 08:42:44.483
INFO 10-06 08:42:44.483 [manager.py:698] end prefill all things req_id = 8256 group_req_id = 8256 at 08:42:44.483
INFO 10-06 08:42:44.483 [manager.py:701] all take 39.564
INFO 10-06 08:42:44.494 [impl.py:39] after adding new req, max_size: 2699
INFO 10-06 08:42:44.494 [impl.py:39] after adding new req, max_size: 4325
INFO 10-06 08:42:44.494 [impl.py:39] after adding new req, max_size: 16795
INFO 10-06 08:42:44.494 [impl.py:39] after adding new req, max_size: 19857
INFO 10-06 08:42:44.494 [impl.py:39] after adding new req, max_size: 20469
INFO 10-06 08:42:44.494 [impl.py:39] after adding new req, max_size: 23412
INFO 10-06 08:42:44.494 [impl.py:39] after adding new req, max_size: 24361
INFO 10-06 08:42:44.494 [impl.py:39] after adding new req, max_size: 29585
INFO 10-06 08:42:44.494 [impl.py:39] after adding new req, max_size: 38138
INFO 10-06 08:42:44.494 [impl.py:39] after adding new req, max_size: 42495
INFO 10-06 08:42:44.494 [impl.py:39] after adding new req, max_size: 45152
INFO 10-06 08:42:44.494 [manager.py:668] start prefill req_id = 8448 group_req_id = 8448 at 08:42:44.494
INFO 10-06 08:42:44.494 [manager.py:668] start prefill req_id = 8640 group_req_id = 8640 at 08:42:44.494
INFO 10-06 08:42:44.494 [manager.py:668] start prefill req_id = 8832 group_req_id = 8832 at 08:42:44.494
INFO 10-06 08:42:44.494 [manager.py:668] start prefill req_id = 9024 group_req_id = 9024 at 08:42:44.494
INFO 10-06 08:42:44.494 [manager.py:668] start prefill req_id = 9216 group_req_id = 9216 at 08:42:44.494
INFO 10-06 08:42:44.494 [manager.py:668] start prefill req_id = 9408 group_req_id = 9408 at 08:42:44.494
INFO 10-06 08:42:44.494 [manager.py:668] start prefill req_id = 9600 group_req_id = 9600 at 08:42:44.494
INFO 10-06 08:42:44.494 [manager.py:668] start prefill req_id = 9792 group_req_id = 9792 at 08:42:44.494
INFO 10-06 08:42:44.494 [manager.py:668] start prefill req_id = 9984 group_req_id = 9984 at 08:42:44.494
INFO 10-06 08:42:44.495 [manager.py:668] start prefill req_id = 10176 group_req_id = 10176 at 08:42:44.494
INFO 10-06 08:42:44.495 [manager.py:619] requst decode for req_ids=[8448, 8640, 8832, 9024, 9216, 9408, 9600, 9792, 9984, 10176] which needs 44107 tokens
INFO 10-06 08:42:58.870 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:43:02.865 [manager.py:64] MEASURE request_for_decode_scheduler cost 18.37019419670105 s
INFO 10-06 08:43:02.868 [manager.py:64] MEASURE init_batch cost 0.003567218780517578 s
INFO 10-06 08:43:02.871 [manager.py:708] send req_ids = [8448, 8640, 8832, 9024, 9216, 9408, 9600, 9792, 9984, 10176] to decode scheduler
INFO 10-06 08:43:06.695 [manager.py:64] MEASURE prefill_batch cost 3.375953197479248 s
INFO 10-06 08:43:06.695 [manager.py:689] end prefill req_id = 8448 group_req_id = 8448 at 08:43:06.695
INFO 10-06 08:43:06.695 [manager.py:689] end prefill req_id = 8640 group_req_id = 8640 at 08:43:06.695
INFO 10-06 08:43:06.695 [manager.py:689] end prefill req_id = 8832 group_req_id = 8832 at 08:43:06.695
INFO 10-06 08:43:06.695 [manager.py:689] end prefill req_id = 9024 group_req_id = 9024 at 08:43:06.695
INFO 10-06 08:43:06.695 [manager.py:689] end prefill req_id = 9216 group_req_id = 9216 at 08:43:06.695
INFO 10-06 08:43:06.695 [manager.py:689] end prefill req_id = 9408 group_req_id = 9408 at 08:43:06.695
INFO 10-06 08:43:06.695 [manager.py:689] end prefill req_id = 9600 group_req_id = 9600 at 08:43:06.695
INFO 10-06 08:43:06.695 [manager.py:689] end prefill req_id = 9792 group_req_id = 9792 at 08:43:06.695
INFO 10-06 08:43:06.695 [manager.py:689] end prefill req_id = 9984 group_req_id = 9984 at 08:43:06.695
INFO 10-06 08:43:06.695 [manager.py:689] end prefill req_id = 10176 group_req_id = 10176 at 08:43:06.695
INFO 10-06 08:43:08.985 [manager.py:698] end prefill all things req_id = 8448 group_req_id = 8448 at 08:43:08.985
INFO 10-06 08:43:08.986 [manager.py:698] end prefill all things req_id = 8640 group_req_id = 8640 at 08:43:08.985
INFO 10-06 08:43:08.986 [manager.py:698] end prefill all things req_id = 8832 group_req_id = 8832 at 08:43:08.985
INFO 10-06 08:43:08.986 [manager.py:698] end prefill all things req_id = 9024 group_req_id = 9024 at 08:43:08.985
INFO 10-06 08:43:08.986 [manager.py:698] end prefill all things req_id = 9216 group_req_id = 9216 at 08:43:08.985
INFO 10-06 08:43:08.986 [manager.py:698] end prefill all things req_id = 9408 group_req_id = 9408 at 08:43:08.985
INFO 10-06 08:43:08.986 [manager.py:698] end prefill all things req_id = 9600 group_req_id = 9600 at 08:43:08.985
INFO 10-06 08:43:08.986 [manager.py:698] end prefill all things req_id = 9792 group_req_id = 9792 at 08:43:08.985
INFO 10-06 08:43:08.986 [manager.py:698] end prefill all things req_id = 9984 group_req_id = 9984 at 08:43:08.985
INFO 10-06 08:43:08.986 [manager.py:698] end prefill all things req_id = 10176 group_req_id = 10176 at 08:43:08.985
INFO 10-06 08:43:08.986 [manager.py:701] all take 24.491
INFO 10-06 08:43:08.997 [impl.py:39] after adding new req, max_size: 2878
INFO 10-06 08:43:08.997 [impl.py:39] after adding new req, max_size: 132871
INFO 10-06 08:43:08.997 [impl.py:39] after adding new req, max_size: 189168
INFO 10-06 08:43:08.997 [manager.py:668] start prefill req_id = 10368 group_req_id = 10368 at 08:43:08.997
INFO 10-06 08:43:08.997 [manager.py:668] start prefill req_id = 10560 group_req_id = 10560 at 08:43:08.997
INFO 10-06 08:43:08.997 [manager.py:619] requst decode for req_ids=[10368, 10560] which needs 132988 tokens
INFO 10-06 08:43:34.974 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:43:48.096 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:44:08.132 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:44:35.273 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:44:50.486 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:45:02.630 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:45:19.919 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:45:35.045 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:45:54.214 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:46:04.420 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:46:10.603 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:46:24.654 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:46:28.660 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:46:41.565 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:46:59.596 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:47:03.702 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:47:18.936 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:47:34.878 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:47:50.950 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:48:05.006 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:48:11.066 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:48:23.044 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:48:27.454 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:48:40.555 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:48:48.540 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:49:02.055 [manager.py:64] MEASURE request_for_decode_scheduler cost 353.05759263038635 s
INFO 10-06 08:49:02.065 [manager.py:64] MEASURE init_batch cost 0.009490013122558594 s
INFO 10-06 08:49:02.073 [manager.py:708] send req_ids = [10368, 10560] to decode scheduler
INFO 10-06 08:49:52.028 [manager.py:64] MEASURE prefill_batch cost 49.95326018333435 s
INFO 10-06 08:49:52.028 [manager.py:689] end prefill req_id = 10368 group_req_id = 10368 at 08:49:52.028
INFO 10-06 08:49:52.028 [manager.py:689] end prefill req_id = 10560 group_req_id = 10560 at 08:49:52.028
INFO 10-06 08:49:52.029 [manager.py:698] end prefill all things req_id = 10368 group_req_id = 10368 at 08:49:52.029
INFO 10-06 08:49:52.029 [manager.py:698] end prefill all things req_id = 10560 group_req_id = 10560 at 08:49:52.029
INFO 10-06 08:49:52.029 [manager.py:701] all take 403.032
INFO 10-06 08:49:52.042 [impl.py:39] after adding new req, max_size: 56502
INFO 10-06 08:49:52.042 [impl.py:39] after adding new req, max_size: 62184
INFO 10-06 08:49:52.042 [impl.py:39] after adding new req, max_size: 63342
INFO 10-06 08:49:52.042 [impl.py:39] after adding new req, max_size: 76519
INFO 10-06 08:49:52.042 [impl.py:39] after adding new req, max_size: 79501
INFO 10-06 08:49:52.042 [impl.py:39] after adding new req, max_size: 87066
INFO 10-06 08:49:52.042 [impl.py:39] after adding new req, max_size: 88927
INFO 10-06 08:49:52.042 [impl.py:39] after adding new req, max_size: 91913
INFO 10-06 08:49:52.042 [impl.py:39] after adding new req, max_size: 95916
INFO 10-06 08:49:52.042 [impl.py:39] after adding new req, max_size: 225666
INFO 10-06 08:49:52.042 [manager.py:668] start prefill req_id = 10752 group_req_id = 10752 at 08:49:52.042
INFO 10-06 08:49:52.042 [manager.py:668] start prefill req_id = 10944 group_req_id = 10944 at 08:49:52.042
INFO 10-06 08:49:52.042 [manager.py:668] start prefill req_id = 11136 group_req_id = 11136 at 08:49:52.042
INFO 10-06 08:49:52.042 [manager.py:668] start prefill req_id = 11328 group_req_id = 11328 at 08:49:52.042
INFO 10-06 08:49:52.042 [manager.py:668] start prefill req_id = 11520 group_req_id = 11520 at 08:49:52.042
INFO 10-06 08:49:52.042 [manager.py:668] start prefill req_id = 11712 group_req_id = 11712 at 08:49:52.042
INFO 10-06 08:49:52.042 [manager.py:668] start prefill req_id = 11904 group_req_id = 11904 at 08:49:52.042
INFO 10-06 08:49:52.042 [manager.py:668] start prefill req_id = 12096 group_req_id = 12096 at 08:49:52.042
INFO 10-06 08:49:52.042 [manager.py:668] start prefill req_id = 12288 group_req_id = 12288 at 08:49:52.042
INFO 10-06 08:49:52.043 [manager.py:619] requst decode for req_ids=[10752, 10944, 11136, 11328, 11520, 11712, 11904, 12096, 12288] which needs 97097 tokens
INFO 10-06 08:50:02.663 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:50:15.690 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:50:21.877 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:50:30.787 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:50:34.426 [manager.py:64] MEASURE request_for_decode_scheduler cost 42.38305687904358 s
INFO 10-06 08:50:34.433 [manager.py:64] MEASURE init_batch cost 0.006922721862792969 s
INFO 10-06 08:50:34.439 [manager.py:708] send req_ids = [10752, 10944, 11136, 11328, 11520, 11712, 11904, 12096, 12288] to decode scheduler
INFO 10-06 08:50:49.167 [manager.py:64] MEASURE prefill_batch cost 14.72731351852417 s
INFO 10-06 08:50:49.168 [manager.py:689] end prefill req_id = 10752 group_req_id = 10752 at 08:50:49.168
INFO 10-06 08:50:49.168 [manager.py:689] end prefill req_id = 10944 group_req_id = 10944 at 08:50:49.168
INFO 10-06 08:50:49.168 [manager.py:689] end prefill req_id = 11136 group_req_id = 11136 at 08:50:49.168
INFO 10-06 08:50:49.168 [manager.py:689] end prefill req_id = 11328 group_req_id = 11328 at 08:50:49.168
INFO 10-06 08:50:49.168 [manager.py:689] end prefill req_id = 11520 group_req_id = 11520 at 08:50:49.168
INFO 10-06 08:50:49.168 [manager.py:689] end prefill req_id = 11712 group_req_id = 11712 at 08:50:49.168
INFO 10-06 08:50:49.168 [manager.py:689] end prefill req_id = 11904 group_req_id = 11904 at 08:50:49.168
INFO 10-06 08:50:49.168 [manager.py:689] end prefill req_id = 12096 group_req_id = 12096 at 08:50:49.168
INFO 10-06 08:50:49.168 [manager.py:689] end prefill req_id = 12288 group_req_id = 12288 at 08:50:49.168
INFO 10-06 08:50:49.169 [manager.py:698] end prefill all things req_id = 10752 group_req_id = 10752 at 08:50:49.169
INFO 10-06 08:50:49.169 [manager.py:698] end prefill all things req_id = 10944 group_req_id = 10944 at 08:50:49.169
INFO 10-06 08:50:49.169 [manager.py:698] end prefill all things req_id = 11136 group_req_id = 11136 at 08:50:49.169
INFO 10-06 08:50:49.169 [manager.py:698] end prefill all things req_id = 11328 group_req_id = 11328 at 08:50:49.169
INFO 10-06 08:50:49.169 [manager.py:698] end prefill all things req_id = 11520 group_req_id = 11520 at 08:50:49.169
INFO 10-06 08:50:49.169 [manager.py:698] end prefill all things req_id = 11712 group_req_id = 11712 at 08:50:49.169
INFO 10-06 08:50:49.169 [manager.py:698] end prefill all things req_id = 11904 group_req_id = 11904 at 08:50:49.169
INFO 10-06 08:50:49.169 [manager.py:698] end prefill all things req_id = 12096 group_req_id = 12096 at 08:50:49.169
INFO 10-06 08:50:49.169 [manager.py:698] end prefill all things req_id = 12288 group_req_id = 12288 at 08:50:49.169
INFO 10-06 08:50:49.169 [manager.py:701] all take 57.127
INFO 10-06 08:50:49.181 [impl.py:39] after adding new req, max_size: 130063
INFO 10-06 08:50:49.181 [impl.py:39] after adding new req, max_size: 132418
INFO 10-06 08:50:49.181 [impl.py:39] after adding new req, max_size: 141385
INFO 10-06 08:50:49.181 [manager.py:668] start prefill req_id = 12480 group_req_id = 12480 at 08:50:49.181
INFO 10-06 08:50:49.181 [manager.py:668] start prefill req_id = 12672 group_req_id = 12672 at 08:50:49.181
INFO 10-06 08:50:49.182 [manager.py:619] requst decode for req_ids=[12480, 12672] which needs 132608 tokens
INFO 10-06 08:50:49.211 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:50:50.239 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:50:51.320 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:50:52.492 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:50:53.667 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:50:54.855 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:50:56.015 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:50:57.203 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:50:58.390 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:51:08.370 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:51:10.093 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:51:12.124 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:51:25.139 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:51:34.196 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:51:46.223 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:51:56.369 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:52:05.280 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:52:14.402 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:52:24.421 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:52:33.367 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:52:45.368 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:52:52.435 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:53:02.459 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:53:12.497 [manager.py:64] MEASURE request_for_decode_scheduler cost 143.31572890281677 s
INFO 10-06 08:53:12.506 [manager.py:64] MEASURE init_batch cost 0.009064197540283203 s
INFO 10-06 08:53:12.515 [manager.py:708] send req_ids = [12480, 12672] to decode scheduler
INFO 10-06 08:54:02.668 [manager.py:64] MEASURE prefill_batch cost 49.699772357940674 s
INFO 10-06 08:54:02.668 [manager.py:689] end prefill req_id = 12480 group_req_id = 12480 at 08:54:02.668
INFO 10-06 08:54:02.668 [manager.py:689] end prefill req_id = 12672 group_req_id = 12672 at 08:54:02.668
INFO 10-06 08:54:02.669 [manager.py:698] end prefill all things req_id = 12480 group_req_id = 12480 at 08:54:02.669
INFO 10-06 08:54:02.669 [manager.py:698] end prefill all things req_id = 12672 group_req_id = 12672 at 08:54:02.669
INFO 10-06 08:54:02.669 [manager.py:701] all take 193.488
INFO 10-06 08:54:02.682 [impl.py:39] after adding new req, max_size: 9145
INFO 10-06 08:54:02.682 [impl.py:39] after adding new req, max_size: 13274
INFO 10-06 08:54:02.682 [impl.py:39] after adding new req, max_size: 15321
INFO 10-06 08:54:02.682 [impl.py:39] after adding new req, max_size: 23277
INFO 10-06 08:54:02.682 [impl.py:39] after adding new req, max_size: 23947
INFO 10-06 08:54:02.682 [impl.py:39] after adding new req, max_size: 28205
INFO 10-06 08:54:02.682 [impl.py:39] after adding new req, max_size: 30162
INFO 10-06 08:54:02.682 [impl.py:39] after adding new req, max_size: 32885
INFO 10-06 08:54:02.682 [impl.py:39] after adding new req, max_size: 88950
INFO 10-06 08:54:02.682 [impl.py:39] after adding new req, max_size: 89649
INFO 10-06 08:54:02.682 [impl.py:39] after adding new req, max_size: 90347
INFO 10-06 08:54:02.682 [manager.py:668] start prefill req_id = 12864 group_req_id = 12864 at 08:54:02.682
INFO 10-06 08:54:02.682 [manager.py:668] start prefill req_id = 13056 group_req_id = 13056 at 08:54:02.682
INFO 10-06 08:54:02.682 [manager.py:668] start prefill req_id = 13248 group_req_id = 13248 at 08:54:02.682
INFO 10-06 08:54:02.683 [manager.py:668] start prefill req_id = 13440 group_req_id = 13440 at 08:54:02.682
INFO 10-06 08:54:02.683 [manager.py:668] start prefill req_id = 13632 group_req_id = 13632 at 08:54:02.682
INFO 10-06 08:54:02.683 [manager.py:668] start prefill req_id = 13824 group_req_id = 13824 at 08:54:02.682
INFO 10-06 08:54:02.683 [manager.py:668] start prefill req_id = 14016 group_req_id = 14016 at 08:54:02.682
INFO 10-06 08:54:02.683 [manager.py:668] start prefill req_id = 14208 group_req_id = 14208 at 08:54:02.682
INFO 10-06 08:54:02.683 [manager.py:668] start prefill req_id = 14400 group_req_id = 14400 at 08:54:02.682
INFO 10-06 08:54:02.683 [manager.py:668] start prefill req_id = 14592 group_req_id = 14592 at 08:54:02.682
INFO 10-06 08:54:02.683 [manager.py:619] requst decode for req_ids=[12864, 13056, 13248, 13440, 13632, 13824, 14016, 14208, 14400, 14592] which needs 90967 tokens
INFO 10-06 08:54:03.737 [manager.py:64] MEASURE request_for_decode_scheduler cost 1.054689645767212 s
INFO 10-06 08:54:03.745 [manager.py:64] MEASURE init_batch cost 0.006899356842041016 s
INFO 10-06 08:54:03.750 [manager.py:708] send req_ids = [12864, 13056, 13248, 13440, 13632, 13824, 14016, 14208, 14400, 14592] to decode scheduler
INFO 10-06 08:54:17.893 [manager.py:64] MEASURE prefill_batch cost 14.140826940536499 s
INFO 10-06 08:54:17.893 [manager.py:689] end prefill req_id = 12864 group_req_id = 12864 at 08:54:17.893
INFO 10-06 08:54:17.893 [manager.py:689] end prefill req_id = 13056 group_req_id = 13056 at 08:54:17.893
INFO 10-06 08:54:17.893 [manager.py:689] end prefill req_id = 13248 group_req_id = 13248 at 08:54:17.893
INFO 10-06 08:54:17.893 [manager.py:689] end prefill req_id = 13440 group_req_id = 13440 at 08:54:17.893
INFO 10-06 08:54:17.893 [manager.py:689] end prefill req_id = 13632 group_req_id = 13632 at 08:54:17.893
INFO 10-06 08:54:17.893 [manager.py:689] end prefill req_id = 13824 group_req_id = 13824 at 08:54:17.893
INFO 10-06 08:54:17.893 [manager.py:689] end prefill req_id = 14016 group_req_id = 14016 at 08:54:17.893
INFO 10-06 08:54:17.893 [manager.py:689] end prefill req_id = 14208 group_req_id = 14208 at 08:54:17.893
INFO 10-06 08:54:17.893 [manager.py:689] end prefill req_id = 14400 group_req_id = 14400 at 08:54:17.893
INFO 10-06 08:54:17.893 [manager.py:689] end prefill req_id = 14592 group_req_id = 14592 at 08:54:17.893
INFO 10-06 08:54:17.894 [manager.py:698] end prefill all things req_id = 12864 group_req_id = 12864 at 08:54:17.894
INFO 10-06 08:54:17.894 [manager.py:698] end prefill all things req_id = 13056 group_req_id = 13056 at 08:54:17.894
INFO 10-06 08:54:17.894 [manager.py:698] end prefill all things req_id = 13248 group_req_id = 13248 at 08:54:17.894
INFO 10-06 08:54:17.894 [manager.py:698] end prefill all things req_id = 13440 group_req_id = 13440 at 08:54:17.894
INFO 10-06 08:54:17.894 [manager.py:698] end prefill all things req_id = 13632 group_req_id = 13632 at 08:54:17.894
INFO 10-06 08:54:17.894 [manager.py:698] end prefill all things req_id = 13824 group_req_id = 13824 at 08:54:17.894
INFO 10-06 08:54:17.894 [manager.py:698] end prefill all things req_id = 14016 group_req_id = 14016 at 08:54:17.894
INFO 10-06 08:54:17.894 [manager.py:698] end prefill all things req_id = 14208 group_req_id = 14208 at 08:54:17.894
INFO 10-06 08:54:17.894 [manager.py:698] end prefill all things req_id = 14400 group_req_id = 14400 at 08:54:17.894
INFO 10-06 08:54:17.894 [manager.py:698] end prefill all things req_id = 14592 group_req_id = 14592 at 08:54:17.894
INFO 10-06 08:54:17.894 [manager.py:701] all take 15.212
INFO 10-06 08:54:17.906 [impl.py:39] after adding new req, max_size: 717
INFO 10-06 08:54:17.906 [impl.py:39] after adding new req, max_size: 1683
INFO 10-06 08:54:17.906 [impl.py:39] after adding new req, max_size: 2590
INFO 10-06 08:54:17.907 [impl.py:39] after adding new req, max_size: 132359
INFO 10-06 08:54:17.907 [manager.py:668] start prefill req_id = 14784 group_req_id = 14784 at 08:54:17.907
INFO 10-06 08:54:17.907 [manager.py:668] start prefill req_id = 14976 group_req_id = 14976 at 08:54:17.907
INFO 10-06 08:54:17.907 [manager.py:668] start prefill req_id = 15168 group_req_id = 15168 at 08:54:17.907
INFO 10-06 08:54:17.907 [manager.py:668] start prefill req_id = 15360 group_req_id = 15360 at 08:54:17.907
INFO 10-06 08:54:17.907 [manager.py:619] requst decode for req_ids=[14784, 14976, 15168, 15360] which needs 132888 tokens
INFO 10-06 08:54:20.519 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:54:21.641 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:54:22.778 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:54:23.906 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:54:25.029 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:54:26.173 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:54:34.194 [manager.py:642] no target rank, wait for 1s
INFO 10-06 08:54:41.227 [manager.py:64] MEASURE request_for_decode_scheduler cost 23.32066059112549 s
INFO 10-06 08:54:41.237 [manager.py:64] MEASURE init_batch cost 0.009154558181762695 s
INFO 10-06 08:54:41.245 [manager.py:708] send req_ids = [14784, 14976, 15168, 15360] to decode scheduler
INFO 10-06 08:55:31.223 [manager.py:64] MEASURE prefill_batch cost 49.97710967063904 s
INFO 10-06 08:55:31.224 [manager.py:689] end prefill req_id = 14784 group_req_id = 14784 at 08:55:31.224
INFO 10-06 08:55:31.224 [manager.py:689] end prefill req_id = 14976 group_req_id = 14976 at 08:55:31.224
INFO 10-06 08:55:31.224 [manager.py:689] end prefill req_id = 15168 group_req_id = 15168 at 08:55:31.224
INFO 10-06 08:55:31.224 [manager.py:689] end prefill req_id = 15360 group_req_id = 15360 at 08:55:31.224
INFO 10-06 08:55:31.225 [manager.py:698] end prefill all things req_id = 14784 group_req_id = 14784 at 08:55:31.225
INFO 10-06 08:55:31.225 [manager.py:698] end prefill all things req_id = 14976 group_req_id = 14976 at 08:55:31.225
INFO 10-06 08:55:31.225 [manager.py:698] end prefill all things req_id = 15168 group_req_id = 15168 at 08:55:31.225
INFO 10-06 08:55:31.225 [manager.py:698] end prefill all things req_id = 15360 group_req_id = 15360 at 08:55:31.225
INFO 10-06 08:55:31.225 [manager.py:701] all take 73.318
INFO 10-06 08:56:41.142 [manager.py:565] the req info
INFO 10-06 08:56:41.142 [manager.py:565]  {0: ['08:30:36.843', '08:30:37.121'], 192: ['08:30:44.798', '08:30:49.472'], 384: ['08:30:49.483', '08:31:28.882'], 576: ['08:30:49.587', '08:31:28.882'], 768: ['08:30:49.588', '08:31:28.882'], 960: ['08:30:49.591', '08:31:28.882'], 1152: ['08:30:49.594', '08:31:28.882'], 1344: ['08:30:49.635', '08:31:28.882'], 1536: ['08:30:54.547', '08:32:25.343'], 1728: ['08:30:54.644', '08:32:25.343'], 1920: ['08:30:54.725', '08:32:25.343'], 2112: ['08:30:55.002', '08:32:25.343'], 2304: ['08:30:55.840', '08:32:25.343'], 2496: ['08:30:55.929', '08:32:25.343'], 2688: ['08:30:56.028', '08:32:25.343'], 2880: ['08:30:56.470', '08:32:25.343'], 3072: ['08:30:56.642', '08:32:25.343'], 3264: ['08:30:59.384', '08:35:29.340'], 3456: ['08:31:28.889', '08:35:29.340'], 3648: ['08:31:43.567', '08:35:29.340'], 3840: ['08:31:43.573', '08:35:29.340'], 4032: ['08:31:43.576', '08:35:29.340'], 4224: ['08:31:43.664', '08:37:08.096'], 4416: ['08:31:43.672', '08:37:08.097'], 4608: ['08:31:43.688', '08:41:50.757'], 4800: ['08:31:43.689', '08:41:50.757'], 4992: ['08:31:43.689', '08:41:50.757'], 5184: ['08:31:43.690', '08:41:50.757'], 5376: ['08:31:43.691', '08:41:50.757'], 5568: ['08:31:43.692', '08:41:50.757'], 5760: ['08:31:43.708', '08:41:50.757'], 5952: ['08:31:43.710', '08:41:50.757'], 6144: ['08:31:43.725', '08:41:50.757'], 6336: ['08:31:43.727', '08:41:50.757'], 6528: ['08:31:43.728', '08:42:37.657'], 6720: ['08:31:43.730', '08:42:37.658'], 6912: ['08:31:43.731', '08:42:37.658'], 7104: ['08:31:43.733', '08:42:37.658'], 7296: ['08:31:43.734', '08:42:37.658'], 7488: ['08:31:43.741', '08:42:37.658'], 7680: ['08:31:43.744', '08:42:37.658'], 7872: ['08:31:43.746', '08:42:37.658'], 8064: ['08:31:43.747', '08:42:37.658'], 8256: ['08:31:43.747', '08:42:37.658'], 8448: ['08:31:43.749', '08:43:03.319'], 8640: ['08:31:43.750', '08:43:03.319'], 8832: ['08:31:43.759', '08:43:03.319'], 9024: ['08:31:43.761', '08:43:03.319'], 9216: ['08:31:43.761', '08:43:03.319'], 9408: ['08:31:43.763', '08:43:03.319'], 9600: ['08:31:43.764', '08:43:03.319'], 9792: ['08:31:43.768', '08:43:03.319'], 9984: ['08:31:43.773', '08:43:03.319'], 10176: ['08:31:43.776', '08:43:03.319'], 10368: ['08:31:43.778', '08:49:02.074'], 10560: ['08:31:43.867', '08:49:02.074'], 10752: ['08:31:43.909', '08:50:34.440'], 10944: ['08:31:43.913', '08:50:34.440'], 11136: ['08:31:43.914', '08:50:34.440'], 11328: ['08:31:43.923', '08:50:34.440'], 11520: ['08:31:43.925', '08:50:34.440'], 11712: ['08:31:43.930', '08:50:34.440'], 11904: ['08:31:43.932', '08:50:34.440'], 12096: ['08:31:43.934', '08:50:34.440'], 12288: ['08:31:43.937', '08:50:34.440'], 12480: ['08:31:51.730', '08:53:12.968'], 12672: ['08:31:51.799', '08:53:12.968'], 12864: ['08:31:53.448', '08:54:03.752'], 13056: ['08:31:53.785', '08:54:03.752'], 13248: ['08:31:53.948', '08:54:03.752'], 13440: ['08:31:54.170', '08:54:03.752'], 13632: ['08:31:55.139', '08:54:03.752'], 13824: ['08:31:55.274', '08:54:03.752'], 14016: ['08:31:55.369', '08:54:03.752'], 14208: ['08:31:55.498', '08:54:03.752'], 14400: ['08:31:59.919', '08:54:03.752'], 14592: ['08:32:04.332', '08:54:03.752'], 14784: ['08:32:04.460', '08:54:41.246'], 14976: ['08:32:04.545', '08:54:41.246'], 15168: ['08:32:05.431', '08:54:41.246'], 15360: ['08:32:06.387', '08:54:41.246']}
INFO 10-06 09:00:02.520 [manager.py:565] the req info
INFO 10-06 09:00:02.520 [manager.py:565]  {0: ['08:30:36.843', '08:30:37.121'], 192: ['08:30:44.798', '08:30:49.472'], 384: ['08:30:49.483', '08:31:28.882'], 576: ['08:30:49.587', '08:31:28.882'], 768: ['08:30:49.588', '08:31:28.882'], 960: ['08:30:49.591', '08:31:28.882'], 1152: ['08:30:49.594', '08:31:28.882'], 1344: ['08:30:49.635', '08:31:28.882'], 1536: ['08:30:54.547', '08:32:25.343'], 1728: ['08:30:54.644', '08:32:25.343'], 1920: ['08:30:54.725', '08:32:25.343'], 2112: ['08:30:55.002', '08:32:25.343'], 2304: ['08:30:55.840', '08:32:25.343'], 2496: ['08:30:55.929', '08:32:25.343'], 2688: ['08:30:56.028', '08:32:25.343'], 2880: ['08:30:56.470', '08:32:25.343'], 3072: ['08:30:56.642', '08:32:25.343'], 3264: ['08:30:59.384', '08:35:29.340'], 3456: ['08:31:28.889', '08:35:29.340'], 3648: ['08:31:43.567', '08:35:29.340'], 3840: ['08:31:43.573', '08:35:29.340'], 4032: ['08:31:43.576', '08:35:29.340'], 4224: ['08:31:43.664', '08:37:08.096'], 4416: ['08:31:43.672', '08:37:08.097'], 4608: ['08:31:43.688', '08:41:50.757'], 4800: ['08:31:43.689', '08:41:50.757'], 4992: ['08:31:43.689', '08:41:50.757'], 5184: ['08:31:43.690', '08:41:50.757'], 5376: ['08:31:43.691', '08:41:50.757'], 5568: ['08:31:43.692', '08:41:50.757'], 5760: ['08:31:43.708', '08:41:50.757'], 5952: ['08:31:43.710', '08:41:50.757'], 6144: ['08:31:43.725', '08:41:50.757'], 6336: ['08:31:43.727', '08:41:50.757'], 6528: ['08:31:43.728', '08:42:37.657'], 6720: ['08:31:43.730', '08:42:37.658'], 6912: ['08:31:43.731', '08:42:37.658'], 7104: ['08:31:43.733', '08:42:37.658'], 7296: ['08:31:43.734', '08:42:37.658'], 7488: ['08:31:43.741', '08:42:37.658'], 7680: ['08:31:43.744', '08:42:37.658'], 7872: ['08:31:43.746', '08:42:37.658'], 8064: ['08:31:43.747', '08:42:37.658'], 8256: ['08:31:43.747', '08:42:37.658'], 8448: ['08:31:43.749', '08:43:03.319'], 8640: ['08:31:43.750', '08:43:03.319'], 8832: ['08:31:43.759', '08:43:03.319'], 9024: ['08:31:43.761', '08:43:03.319'], 9216: ['08:31:43.761', '08:43:03.319'], 9408: ['08:31:43.763', '08:43:03.319'], 9600: ['08:31:43.764', '08:43:03.319'], 9792: ['08:31:43.768', '08:43:03.319'], 9984: ['08:31:43.773', '08:43:03.319'], 10176: ['08:31:43.776', '08:43:03.319'], 10368: ['08:31:43.778', '08:49:02.074'], 10560: ['08:31:43.867', '08:49:02.074'], 10752: ['08:31:43.909', '08:50:34.440'], 10944: ['08:31:43.913', '08:50:34.440'], 11136: ['08:31:43.914', '08:50:34.440'], 11328: ['08:31:43.923', '08:50:34.440'], 11520: ['08:31:43.925', '08:50:34.440'], 11712: ['08:31:43.930', '08:50:34.440'], 11904: ['08:31:43.932', '08:50:34.440'], 12096: ['08:31:43.934', '08:50:34.440'], 12288: ['08:31:43.937', '08:50:34.440'], 12480: ['08:31:51.730', '08:53:12.968'], 12672: ['08:31:51.799', '08:53:12.968'], 12864: ['08:31:53.448', '08:54:03.752'], 13056: ['08:31:53.785', '08:54:03.752'], 13248: ['08:31:53.948', '08:54:03.752'], 13440: ['08:31:54.170', '08:54:03.752'], 13632: ['08:31:55.139', '08:54:03.752'], 13824: ['08:31:55.274', '08:54:03.752'], 14016: ['08:31:55.369', '08:54:03.752'], 14208: ['08:31:55.498', '08:54:03.752'], 14400: ['08:31:59.919', '08:54:03.752'], 14592: ['08:32:04.332', '08:54:03.752'], 14784: ['08:32:04.460', '08:54:41.246'], 14976: ['08:32:04.545', '08:54:41.246'], 15168: ['08:32:05.431', '08:54:41.246'], 15360: ['08:32:06.387', '08:54:41.246']}
